(this["webpackJsonpraster-react-canvas2"]=this["webpackJsonpraster-react-canvas2"]||[]).push([[33],{309:function(e,t,n){e.exports=n.p+"static/media/NOV.6368a94e.csv"},368:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(88),o=n(0),i=n.n(o),c=n(72),l=n(74),u=n(75),s=n(78),f=n(90),m=n(93),d=n(19),b=n(164),v=n(25),p=n(161),g=n(309),h=n.n(g),w=n(162);n(139),n(163);function j(){var e=Object(r.a)(["\n  uniform float time;\n\n  attribute float angle;\n  attribute float distance;\n  attribute float offset;\n  attribute float flow;\n\n  varying float vAlpha;\n\n  void main() {\n\n    float current = mod(offset + time, distance);\n\n    float pct = current/distance;\n    vec3 newpos = position;\n\n    newpos.x += cos(angle)*current;\n    newpos.y += sin(angle)*current;\n\n    vAlpha = 0.1;\n\n    vec4 mvPosition = modelViewMatrix * vec4(newpos, 1.);\n    float f = flow / 120.;\n    float d1 = 100.;\n    float x1 = 0.1;\n    float d2 = d1 * sqrt(f / x1);\n    gl_PointSize = d2 / 100.;\n    gl_Position = projectionMatrix * mvPosition;\n  }\n"]);return j=function(){return e},e}function y(){var e=Object(r.a)(["\nuniform float time;\nuniform float progress;\nuniform float vProgress;\nvarying vec4 vPosition;\nvarying float vAlpha;\n\n\n  void main() {\n    vec3 color = vec3(0.25,0.32,0.65);\n\n    float dist = length(gl_PointCoord - vec2(0.5));\n    float circle = 1. - smoothstep(0.49,0.5,dist);\n    gl_FragColor = vec4(color,circle*vAlpha/1.5);\n}"]);return y=function(){return e},e}var O=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.map((function(e,t){return[e,n[t]]})).flat().join("")},E=O(y()),A=O(j());Object(l.e)({MapControls:m.a,LineMaterial:u.a,LineGeometry:s.a,Line2:f.a});var x="#0B0D11",P="#1C2230",M="#262F42";function B(e){var t=e.data,n=Object(o.useRef)(),r=Object(o.useMemo)((function(){return{extensions:"#extension GL_OES_standard_derivatives : enable",side:c.DoubleSide,uniforms:{time:{type:"f",value:0},uvRate1:{value:new c.Vector2(1,1)}},fragmentShader:E,vertexShader:A,transparent:!0,depthWrite:!1,depthTest:!1,blending:c.AdditiveBlending}}),[]),u=Object(o.useMemo)((function(){return new Float32Array(189e3)}),[]),s=new Float32Array(63e3),f=new Float32Array(63e3),m=new Float32Array(63e3),d=new Float32Array(63e3);t.forEach((function(e,t){var n=e.o,r=e.d,o=e.f,i=Object(a.a)(w.a["c".concat(n)],2),c=i[0],l=i[1],b=Object(a.a)(w.a["c".concat(r)],2),p=b[0],g=b[1],h=[c,l,0],j=[Object(v.d)({x:c,y:l},{x:p,y:g})],y=[Object(v.e)({x:c,y:l},{x:p,y:g})>0?Object(v.e)({x:c,y:l},{x:p,y:g}):.1];u.set(h,3*t),s.set(j,t),f.set(y,t),m.set([Math.random()],t),d.set([o],t)}));var b=Object(o.useRef)(),p=Object(o.useRef)();return Object(l.g)((function(e){p.current.setAttribute("position",new c.BufferAttribute(u,3)),p.current.setAttribute("angle",new c.BufferAttribute(s,1)),p.current.setAttribute("distance",new c.BufferAttribute(f,1)),p.current.setAttribute("offset",new c.BufferAttribute(m,1)),p.current.setAttribute("flow",new c.BufferAttribute(d,1)),b.current.uniforms.time.value=10*e.clock.getElapsedTime()})),i.a.createElement("points",{ref:n},i.a.createElement("bufferGeometry",{attach:"geometry",ref:p}),i.a.createElement("shaderMaterial",Object.assign({attach:"material",ref:b},r)))}t.default=function(){var e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t=Object(o.useContext)(d.b).dark,n=Object(o.useState)({data:null,meta:null}),r=Object(a.a)(n,2),c=r[0],u=r[1];return Object(o.useEffect)((function(){Object(b.a)(h.a).then((function(e){u({data:e,meta:{id:"noviembre",date:"Noviembre 2019",num:26090,max:36943}})}))}),[]),i.a.createElement("div",{className:"mov"},i.a.createElement(l.a,{pixelRatio:Math.min(2,e?window.devicePixelRatio:1),orthographic:!0,camera:{position:[0,0,500]}},i.a.createElement("color",{attach:"background",args:[t?P:M]}),i.a.createElement(F,null),c.data&&i.a.createElement(B,{data:c.data}),i.a.createElement(V,null)))};var F=function(){return i.a.createElement(i.a.Fragment,null,p.b.map((function(e){return i.a.createElement(R,{data:e,key:"extrude".concat(e.name)})})),i.a.createElement(S,{data:p.a}))},S=function(e){var t=e.data,n=e.width,a=void 0===n?1:n,r=e.color,o=void 0===r?"gray":r,c=Object(l.i)().size,u=Object(l.j)((function(e){e.setPositions(t)}),[]);return i.a.createElement("line2",null,i.a.createElement("lineGeometry",{attach:"geometry",ref:u}),i.a.createElement("lineMaterial",{attach:"material",color:o,linewidth:a,resolution:[c.width,c.height]}))},R=function(e){var t=e.data,n=[];t.points.forEach((function(e){n.push(new c.Vector2(e[0],e[1]))}));var a=Object(o.useMemo)((function(){return new c.Shape(n)}),[n]);return i.a.createElement("mesh",{position:[0,0,0],castShadow:!0},i.a.createElement("extrudeBufferGeometry",{attach:"geometry",args:[[a],{bevelEnabled:!1}]}),i.a.createElement("meshBasicMaterial",{attach:"material",color:x}))},V=function(){var e=Object(o.useRef)(),t=Object(l.i)(),n=t.camera,a=t.gl,r=new c.Vector3(-350,-350,-350),u=new c.Vector3(350,350,350),s=new c.Vector3;return Object(l.g)((function(t){s.copy(e.current.target),e.current.target.clamp(r,u),s.sub(e.current.target),t.camera.position.sub(s),e.current.update()})),i.a.createElement("mapControls",{ref:e,args:[n,a.domElement],dynamicDampingFactor:.3,minZoom:.35,maxZoom:45,enableRotate:!1,enableZoom:!0,enablePan:!0,screenSpacePanning:!0})}}}]);
//# sourceMappingURL=33.be0e64c2.chunk.js.map