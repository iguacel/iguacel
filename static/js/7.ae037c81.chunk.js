(this["webpackJsonpraster-react-canvas2"]=this["webpackJsonpraster-react-canvas2"]||[]).push([[7],{164:function(t,n,e){"use strict";e.d(n,"a",(function(){return ri}));var r=e(32),i={value:function(){}};function o(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new a(r)}function a(t){this._=t}function u(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function s(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function c(t,n,e){for(var r=0,o=t.length;r<o;++r)if(t[r].name===n){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}a.prototype=o.prototype={constructor:a,on:function(t,n){var e,r=this._,i=u(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=c(r[e],t.name,n);else if(null==n)for(e in r)r[e]=c(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=s(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new a(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var l=o,f=e(16);function h(){}var p=function(t){return null==t?h:function(){return this.querySelector(t)}},d=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function v(){return[]}function m(t){return function(n){return n.matches(t)}}var _=Array.prototype.find;function y(){return this.firstElementChild}var g=Array.prototype.filter;function w(){return this.children}var b=function(t){return new Array(t.length)};function x(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}x.prototype={constructor:x,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var A=function(t){return function(){return t}};function E(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new x(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function S(t,n,e,r,i,o,a){var u,s,c,l=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=c=a.call(s,s.__data__,u,n)+"",l.has(c)?i[u]=s:l.set(c,s));for(u=0;u<h;++u)c=a.call(t,o[u],u,o)+"",(s=l.get(c))?(r[u]=s,s.__data__=o[u],l.delete(c)):e[u]=new x(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l.get(p[u])===s&&(i[u]=s)}function N(t){return t.__data__}function M(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var O="http://www.w3.org/1999/xhtml",k={svg:"http://www.w3.org/2000/svg",xhtml:O,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},T=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),k.hasOwnProperty(n)?{space:k[n],local:t}:t};function C(t){return function(){this.removeAttribute(t)}}function L(t){return function(){this.removeAttributeNS(t.space,t.local)}}function P(t,n){return function(){this.setAttribute(t,n)}}function j(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function B(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function D(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var R=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function U(t){return function(){this.style.removeProperty(t)}}function z(t,n,e){return function(){this.style.setProperty(t,n,e)}}function H(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function I(t,n){return t.style.getPropertyValue(n)||R(t).getComputedStyle(t,null).getPropertyValue(n)}function V(t){return function(){delete this[t]}}function Y(t,n){return function(){this[t]=n}}function q(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function X(t){return t.trim().split(/^|\s+/)}function F(t){return t.classList||new G(t)}function G(t){this._node=t,this._names=X(t.getAttribute("class")||"")}function Z(t,n){for(var e=F(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function W(t,n){for(var e=F(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function K(t){return function(){Z(this,t)}}function $(t){return function(){W(this,t)}}function Q(t,n){return function(){(n.apply(this,arguments)?Z:W)(this,t)}}G.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function J(){this.textContent=""}function tt(t){return function(){this.textContent=t}}function nt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function et(){this.innerHTML=""}function rt(t){return function(){this.innerHTML=t}}function it(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function ot(){this.nextSibling&&this.parentNode.appendChild(this)}function at(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ut(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===O&&n.documentElement.namespaceURI===O?n.createElement(t):n.createElementNS(e,t)}}function st(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ct=function(t){var n=T(t);return(n.local?st:ut)(n)};function lt(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function ht(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function pt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function dt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function vt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function mt(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function _t(t,n,e){var r=R(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function yt(t,n){return function(){return _t(this,t,n)}}function gt(t,n){return function(){return _t(this,t,n.apply(this,arguments))}}var wt=e(33),bt=e.n(wt),xt=bt.a.mark(At);function At(){var t,n,e,r,i,o,a;return bt.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=this._groups,n=0,e=t.length;case 1:if(!(n<e)){u.next=13;break}r=t[n],i=0,o=r.length;case 3:if(!(i<o)){u.next=10;break}if(!(a=r[i])){u.next=7;break}return u.next=7,a;case 7:++i,u.next=3;break;case 10:++n,u.next=1;break;case 13:case"end":return u.stop()}}),xt,this)}var Et=[null];function St(t,n){this._groups=t,this._parents=n}function Nt(){return new St([[document.documentElement]],Et)}St.prototype=Nt.prototype=Object(f.a)({constructor:St,select:function(t){"function"!==typeof t&&(t=p(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new St(r,this._parents)},selectAll:function(t){var n;"function"===typeof t?t=function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:d(n)}}(t):t=null==(n=t)?v:function(){return this.querySelectorAll(n)};for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var u,s=e[a],c=s.length,l=0;l<c;++l)(u=s[l])&&(i.push(t.call(u,u.__data__,l,s)),o.push(u));return new St(i,o)},selectChild:function(t){return this.select(null==t?y:function(t){return function(){return _.call(this.children,t)}}("function"===typeof t?t:m(t)))},selectChildren:function(t){return this.selectAll(null==t?w:function(t){return function(){return g.call(this.children,t)}}("function"===typeof t?t:m(t)))},filter:function(t){var n;"function"!==typeof t&&(n=t,t=function(){return this.matches(n)});for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a,u=e[o],s=u.length,c=i[o]=[],l=0;l<s;++l)(a=u[l])&&t.call(a,a.__data__,l,u)&&c.push(a);return new St(i,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,N);var e=n?S:E,r=this._parents,i=this._groups;"function"!==typeof t&&(t=A(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=d(t.call(l,l&&l.__data__,c,r)),v=p.length,m=u[c]=new Array(v),_=a[c]=new Array(v),y=s[c]=new Array(h);e(l,f,m,_,y,p,n);for(var g,w,b=0,x=0;b<v;++b)if(g=m[b]){for(b>=x&&(x=b+1);!(w=_[x])&&++x<v;);g._next=w||null}}return(a=new St(a,r))._enter=u,a._exit=s,a},enter:function(){return new St(this._enter||this._groups.map(b),this._parents)},exit:function(){return new St(this._exit||this._groups.map(b),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof St))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new St(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=M);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new St(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,n=0,e=Object(r.a)(this);try{for(e.s();!(t=e.n()).done;){t.value;++n}}catch(i){e.e(i)}finally{e.f()}return n},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=T(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?L:C:"function"===typeof n?e.local?D:B:e.local?j:P)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?U:"function"===typeof n?H:z)(t,n,null==e?"":e)):I(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?V:"function"===typeof n?q:Y)(t,n)):this.node()[t]},classed:function(t,n){var e=X(t+"");if(arguments.length<2){for(var r=F(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?Q:n?K:$)(e,n))},text:function(t){return arguments.length?this.each(null==t?J:("function"===typeof t?nt:tt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?et:("function"===typeof t?it:rt)(t)):this.node().innerHTML},raise:function(){return this.each(ot)},lower:function(){return this.each(at)},append:function(t){var n="function"===typeof t?t:ct(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"===typeof t?t:ct(t),r=null==n?lt:"function"===typeof n?n:p(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ft)},clone:function(t){return this.select(t?pt:ht)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=dt(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?mt:vt,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"===typeof n?gt:yt)(t,n))}},Symbol.iterator,At);var Mt=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Ot(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function kt(){}var Tt="\\s*([+-]?\\d+)\\s*",Ct="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pt=/^#([0-9a-f]{3,8})$/,jt=new RegExp("^rgb\\("+[Tt,Tt,Tt]+"\\)$"),Bt=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),Dt=new RegExp("^rgba\\("+[Tt,Tt,Tt,Ct]+"\\)$"),Rt=new RegExp("^rgba\\("+[Lt,Lt,Lt,Ct]+"\\)$"),Ut=new RegExp("^hsl\\("+[Ct,Lt,Lt]+"\\)$"),zt=new RegExp("^hsla\\("+[Ct,Lt,Lt,Ct]+"\\)$"),Ht={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function It(){return this.rgb().formatHex()}function Vt(){return this.rgb().formatRgb()}function Yt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Pt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?qt(n):3===e?new Zt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Xt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Xt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=jt.exec(t))?new Zt(n[1],n[2],n[3],1):(n=Bt.exec(t))?new Zt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Dt.exec(t))?Xt(n[1],n[2],n[3],n[4]):(n=Rt.exec(t))?Xt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ut.exec(t))?Qt(n[1],n[2]/100,n[3]/100,1):(n=zt.exec(t))?Qt(n[1],n[2]/100,n[3]/100,n[4]):Ht.hasOwnProperty(t)?qt(Ht[t]):"transparent"===t?new Zt(NaN,NaN,NaN,0):null}function qt(t){return new Zt(t>>16&255,t>>8&255,255&t,1)}function Xt(t,n,e,r){return r<=0&&(t=n=e=NaN),new Zt(t,n,e,r)}function Ft(t){return t instanceof kt||(t=Yt(t)),t?new Zt((t=t.rgb()).r,t.g,t.b,t.opacity):new Zt}function Gt(t,n,e,r){return 1===arguments.length?Ft(t):new Zt(t,n,e,null==r?1:r)}function Zt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Wt(){return"#"+$t(this.r)+$t(this.g)+$t(this.b)}function Kt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function $t(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Qt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new tn(t,n,e,r)}function Jt(t){if(t instanceof tn)return new tn(t.h,t.s,t.l,t.opacity);if(t instanceof kt||(t=Yt(t)),!t)return new tn;if(t instanceof tn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new tn(a,u,s,t.opacity)}function tn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function nn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function en(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}Mt(kt,Yt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:It,formatHex:It,formatHsl:function(){return Jt(this).formatHsl()},formatRgb:Vt,toString:Vt}),Mt(Zt,Gt,Ot(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wt,formatHex:Wt,formatRgb:Kt,toString:Kt})),Mt(tn,(function(t,n,e,r){return 1===arguments.length?Jt(t):new tn(t,n,e,null==r?1:r)}),Ot(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new tn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new tn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Zt(nn(t>=240?t-240:t+120,i,r),nn(t,i,r),nn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var rn=function(t){return function(){return t}};function on(t,n){return function(e){return t+e*n}}function an(t){return 1===(t=+t)?un:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):rn(isNaN(n)?e:n)}}function un(t,n){var e=n-t;return e?on(t,e):rn(isNaN(t)?n:t)}var sn=function t(n){var e=an(n);function r(t,n){var r=e((t=Gt(t)).r,(n=Gt(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=un(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function cn(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=Gt(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}cn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return en((e-r/n)*n,a,i,o,u)}})),cn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return en((e-r/n)*n,i,o,a,u)}}));var ln=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hn=new RegExp(fn.source,"g");var pn=function(t,n){var e,r,i,o=fn.lastIndex=hn.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=fn.exec(t))&&(r=hn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:ln(e,r)})),o=hn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})};function dn(){}var vn=function(t){return null==t?dn:function(){return this.querySelector(t)}},mn=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function _n(){return[]}var yn=function(t){return null==t?_n:function(){return this.querySelectorAll(t)}};var gn=function(t){return function(){return this.matches(t)}};function wn(t){return function(n){return n.matches(t)}}var bn=Array.prototype.find;function xn(){return this.firstElementChild}var An=Array.prototype.filter;function En(){return this.children}var Sn=function(t){return new Array(t.length)};function Nn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Nn.prototype={constructor:Nn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Mn=function(t){return function(){return t}};function On(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Nn(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function kn(t,n,e,r,i,o,a){var u,s,c,l=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=c=a.call(s,s.__data__,u,n)+"",l.has(c)?i[u]=s:l.set(c,s));for(u=0;u<h;++u)c=a.call(t,o[u],u,o)+"",(s=l.get(c))?(r[u]=s,s.__data__=o[u],l.delete(c)):e[u]=new Nn(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l.get(p[u])===s&&(i[u]=s)}function Tn(t){return t.__data__}function Cn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var Ln={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pn=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ln.hasOwnProperty(n)?{space:Ln[n],local:t}:t};function jn(t){return function(){this.removeAttribute(t)}}function Bn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dn(t,n){return function(){this.setAttribute(t,n)}}function Rn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Un(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function zn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Hn=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function In(t){return function(){this.style.removeProperty(t)}}function Vn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Yn(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function qn(t,n){return t.style.getPropertyValue(n)||Hn(t).getComputedStyle(t,null).getPropertyValue(n)}function Xn(t){return function(){delete this[t]}}function Fn(t,n){return function(){this[t]=n}}function Gn(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Zn(t){return t.trim().split(/^|\s+/)}function Wn(t){return t.classList||new Kn(t)}function Kn(t){this._node=t,this._names=Zn(t.getAttribute("class")||"")}function $n(t,n){for(var e=Wn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Qn(t,n){for(var e=Wn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Jn(t){return function(){$n(this,t)}}function te(t){return function(){Qn(this,t)}}function ne(t,n){return function(){(n.apply(this,arguments)?$n:Qn)(this,t)}}Kn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ee(){this.textContent=""}function re(t){return function(){this.textContent=t}}function ie(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function oe(){this.innerHTML=""}function ae(t){return function(){this.innerHTML=t}}function ue(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function se(){this.nextSibling&&this.parentNode.appendChild(this)}function ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function le(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===e&&"http://www.w3.org/1999/xhtml"===n.documentElement.namespaceURI?n.createElement(t):n.createElementNS(e,t)}}function fe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var he=function(t){var n=Pn(t);return(n.local?fe:le)(n)};function pe(){return null}function de(){var t=this.parentNode;t&&t.removeChild(this)}function ve(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function me(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function _e(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ye(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function ge(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function we(t,n,e){var r=Hn(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function be(t,n){return function(){return we(this,t,n)}}function xe(t,n){return function(){return we(this,t,n.apply(this,arguments))}}var Ae=bt.a.mark(Ee);function Ee(){var t,n,e,r,i,o,a;return bt.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=this._groups,n=0,e=t.length;case 1:if(!(n<e)){u.next=13;break}r=t[n],i=0,o=r.length;case 3:if(!(i<o)){u.next=10;break}if(!(a=r[i])){u.next=7;break}return u.next=7,a;case 7:++i,u.next=3;break;case 10:++n,u.next=1;break;case 13:case"end":return u.stop()}}),Ae,this)}var Se=[null];function Ne(t,n){this._groups=t,this._parents=n}function Me(){return new Ne([[document.documentElement]],Se)}Ne.prototype=Me.prototype=Object(f.a)({constructor:Ne,select:function(t){"function"!==typeof t&&(t=vn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Ne(r,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:mn(n)}}(t):yn(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Ne(r,i)},selectChild:function(t){return this.select(null==t?xn:function(t){return function(){return bn.call(this.children,t)}}("function"===typeof t?t:wn(t)))},selectChildren:function(t){return this.selectAll(null==t?En:function(t){return function(){return An.call(this.children,t)}}("function"===typeof t?t:wn(t)))},filter:function(t){"function"!==typeof t&&(t=gn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Ne(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Tn);var e=n?kn:On,r=this._parents,i=this._groups;"function"!==typeof t&&(t=Mn(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=mn(t.call(l,l&&l.__data__,c,r)),d=p.length,v=u[c]=new Array(d),m=a[c]=new Array(d),_=s[c]=new Array(h);e(l,f,v,m,_,p,n);for(var y,g,w=0,b=0;w<d;++w)if(y=v[w]){for(w>=b&&(b=w+1);!(g=m[b])&&++b<d;);y._next=g||null}}return(a=new Ne(a,r))._enter=u,a._exit=s,a},enter:function(){return new Ne(this._enter||this._groups.map(Sn),this._parents)},exit:function(){return new Ne(this._exit||this._groups.map(Sn),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Ne))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new Ne(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Cn);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new Ne(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,n=0,e=Object(r.a)(this);try{for(e.s();!(t=e.n()).done;){t.value;++n}}catch(i){e.e(i)}finally{e.f()}return n},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Pn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Bn:jn:"function"===typeof n?e.local?zn:Un:e.local?Rn:Dn)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?In:"function"===typeof n?Yn:Vn)(t,n,null==e?"":e)):qn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Xn:"function"===typeof n?Gn:Fn)(t,n)):this.node()[t]},classed:function(t,n){var e=Zn(t+"");if(arguments.length<2){for(var r=Wn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?ne:n?Jn:te)(e,n))},text:function(t){return arguments.length?this.each(null==t?ee:("function"===typeof t?ie:re)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?oe:("function"===typeof t?ue:ae)(t)):this.node().innerHTML},raise:function(){return this.each(se)},lower:function(){return this.each(ce)},append:function(t){var n="function"===typeof t?t:he(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"===typeof t?t:he(t),r=null==n?pe:"function"===typeof n?n:vn(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(de)},clone:function(t){return this.select(t?me:ve)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=_e(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?ge:ye,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"===typeof n?xe:be)(t,n))}},Symbol.iterator,Ee);var Oe,ke,Te=Me,Ce=0,Le=0,Pe=0,je=0,Be=0,De=0,Re="object"===typeof performance&&performance.now?performance:Date,Ue="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ze(){return Be||(Ue(He),Be=Re.now()+De)}function He(){Be=0}function Ie(){this._call=this._time=this._next=null}function Ve(t,n,e){var r=new Ie;return r.restart(t,n,e),r}function Ye(){Be=(je=Re.now())+De,Ce=Le=0;try{!function(){ze(),++Ce;for(var t,n=Oe;n;)(t=Be-n._time)>=0&&n._call.call(null,t),n=n._next;--Ce}()}finally{Ce=0,function(){var t,n,e=Oe,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Oe=n);ke=t,Xe(r)}(),Be=0}}function qe(){var t=Re.now(),n=t-je;n>1e3&&(De-=n,je=t)}function Xe(t){Ce||(Le&&(Le=clearTimeout(Le)),t-Be>24?(t<1/0&&(Le=setTimeout(Ye,t-Re.now()-De)),Pe&&(Pe=clearInterval(Pe))):(Pe||(je=Re.now(),Pe=setInterval(qe,1e3)),Ce=1,Ue(Ye)))}Ie.prototype=Ve.prototype={constructor:Ie,restart:function(t,n,e){if("function"!==typeof t)throw new TypeError("callback is not a function");e=(null==e?ze():+e)+(null==n?0:+n),this._next||ke===this||(ke?ke._next=this:Oe=this,ke=this),this._call=t,this._time=e,Xe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xe())}};var Fe=function(t,n,e){var r=new Ie;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r},Ge=l("start","end","cancel","interrupt"),Ze=[],We=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(1!==e.state)return u();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return Fe(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Fe((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ve((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Ge,tween:Ze,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Ke(t,n){var e=Qe(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function $e(t,n){var e=Qe(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Qe(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Je,tr=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}},nr=180/Math.PI,er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},rr=function(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*nr,skewX:Math.atan(s)*nr,scaleX:a,scaleY:u}};function ir(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:ln(t,i)},{i:s-2,x:ln(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ln(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ln(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:ln(t,e)},{i:u-2,x:ln(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var or=ir((function(t){var n=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?er:rr(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),ar=ir((function(t){return null==t?er:(Je||(Je=document.createElementNS("http://www.w3.org/2000/svg","g")),Je.setAttribute("transform",t),(t=Je.transform.baseVal.consolidate())?(t=t.matrix,rr(t.a,t.b,t.c,t.d,t.e,t.f)):er)}),", ",")",")");function ur(t,n){var e,r;return function(){var i=$e(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function sr(t,n,e){var r,i;if("function"!==typeof e)throw new Error;return function(){var o=$e(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function cr(t,n,e){var r=t._id;return t.each((function(){var t=$e(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Qe(t,r).value[n]}}var lr=function(t,n){var e;return("number"===typeof n?ln:n instanceof Yt?sn:(e=Yt(n))?(n=e,sn):pn)(t,n)};function fr(t){return function(){this.removeAttribute(t)}}function hr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function dr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function vr(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function mr(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function _r(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function yr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function gr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&yr(t,i)),e}return i._value=n,i}function wr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&_r(t,i)),e}return i._value=n,i}function br(t,n){return function(){Ke(this,t).delay=+n.apply(this,arguments)}}function xr(t,n){return n=+n,function(){Ke(this,t).delay=n}}function Ar(t,n){return function(){$e(this,t).duration=+n.apply(this,arguments)}}function Er(t,n){return n=+n,function(){$e(this,t).duration=n}}function Sr(t,n){if("function"!==typeof n)throw new Error;return function(){$e(this,t).ease=n}}function Nr(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ke:$e;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Mr=Te.prototype.constructor;function Or(t){return function(){this.style.removeProperty(t)}}function kr(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Tr(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&kr(t,o,e)),r}return o._value=n,o}function Cr(t){return function(n){this.textContent=t.call(this,n)}}function Lr(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Cr(r)),n}return r._value=t,r}var Pr=0;function jr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Br(){return++Pr}var Dr=Te.prototype;jr.prototype=function(t){return Te().transition(t)}.prototype=Object(f.a)({constructor:jr,select:function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=vn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,We(f[h],n,e,h,f,Qe(u,e)));return new jr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=yn(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,p=t.call(s,s.__data__,f,c),d=Qe(s,e),v=0,m=p.length;v<m;++v)(h=p[v])&&We(h,n,e,v,p,d);o.push(p),a.push(s)}return new jr(o,a,n,e)},filter:function(t){"function"!==typeof t&&(t=gn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new jr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new jr(a,this._parents,this._name,this._id)},selection:function(){return new Mr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Br(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=Qe(a,n);We(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new jr(r,this._parents,t,e)},call:Dr.call,nodes:Dr.nodes,node:Dr.node,size:Dr.size,empty:Dr.empty,each:Dr.each,on:function(t,n){var e=this._id;return arguments.length<2?Qe(this.node(),e).on.on(t):this.each(Nr(e,t,n))},attr:function(t,n){var e=Pn(t),r="transform"===e?ar:lr;return this.attrTween(t,"function"===typeof n?(e.local?mr:vr)(e,r,cr(this,"attr."+t,n)):null==n?(e.local?hr:fr)(e):(e.local?dr:pr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!==typeof n)throw new Error;var r=Pn(t);return this.tween(e,(r.local?gr:wr)(r,n))},style:function(t,n,e){var r="transform"===(t+="")?or:lr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=qn(this,t),a=(this.style.removeProperty(t),qn(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Or(t)):"function"===typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=qn(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=qn(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,cr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=$e(this,t),c=s.on,l=null==s.value[a]?o||(o=Or(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(u,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=qn(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!==typeof n)throw new Error;return this.tween(r,Tr(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(cr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,Lr(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Qe(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?ur:sr)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?br:xr)(n,t)):Qe(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Ar:Er)(n,t)):Qe(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Sr(n,t)):Qe(this.node(),n).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!==typeof e)throw new Error;$e(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0===--i&&o()}};e.each((function(){var e=$e(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))}},Symbol.iterator,Dr[Symbol.iterator]);var Rr=e(220),Ur={time:null,delay:0,duration:250,ease:Rr.a};function zr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error("transition ".concat(n," not found"));return e}Te.prototype.interrupt=function(t){return this.each((function(){tr(this,t)}))},Te.prototype.transition=function(t){var n,e;t instanceof jr?(n=t._id,t=t._name):(n=Br(),(e=Ur).time=ze(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&We(a,t,n,c,u,e||zr(a,n));return new jr(r,this._parents,t,n)};Math.abs,Math.max,Math.min;function Hr(t){return[+t[0],+t[1]]}function Ir(t){return[Hr(t[0]),Hr(t[1])]}["w","e"].map(Vr),["n","s"].map(Vr),["n","w","e","s","nw","ne","sw","se"].map(Vr);function Vr(t){return{type:t}}var Yr={},qr={};function Xr(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Fr(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Gr(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Zr(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Gr(-n,6):n>9999?"+"+Gr(n,6):Gr(n,4))+"-"+Gr(t.getUTCMonth()+1,2)+"-"+Gr(t.getUTCDate(),2)+(o?"T"+Gr(e,2)+":"+Gr(r,2)+":"+Gr(i,2)+"."+Gr(o,3)+"Z":i?"T"+Gr(e,2)+":"+Gr(r,2)+":"+Gr(i,2)+"Z":r||e?"T"+Gr(e,2)+":"+Gr(r,2)+"Z":"")}var Wr=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function l(){if(s)return qr;if(c)return c=!1,Yr;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==qr;){for(var f=[];r!==Yr&&r!==qr;)f.push(r),r=l();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Zr(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Xr(t);return function(r,i){return n(e(r),i,t)}}(t,n):Xr(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Fr(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Fr(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},Kr=Wr(","),$r=Kr.parse,Qr=(Kr.parseRows,Kr.format,Kr.formatBody,Kr.formatRows,Kr.formatRow,Kr.formatValue,Wr("\t")),Jr=Qr.parse;Qr.parseRows,Qr.format,Qr.formatBody,Qr.formatRows,Qr.formatRow,Qr.formatValue;function ti(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var ni=function(t,n){return fetch(t,n).then(ti)};function ei(t){return function(n,e,r){return 2===arguments.length&&"function"===typeof e&&(r=e,e=void 0),ni(n,e).then((function(n){return t(n,r)}))}}var ri=ei($r);ei(Jr);function ii(){}var oi=function(t){return null==t?ii:function(){return this.querySelector(t)}},ai=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function ui(){return[]}var si=function(t){return null==t?ui:function(){return this.querySelectorAll(t)}};var ci=function(t){return function(){return this.matches(t)}};function li(t){return function(n){return n.matches(t)}}var fi=Array.prototype.find;function hi(){return this.firstElementChild}var pi=Array.prototype.filter;function di(){return this.children}var vi=function(t){return new Array(t.length)};function mi(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}mi.prototype={constructor:mi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _i=function(t){return function(){return t}};function yi(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new mi(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function gi(t,n,e,r,i,o,a){var u,s,c,l=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=c=a.call(s,s.__data__,u,n)+"",l.has(c)?i[u]=s:l.set(c,s));for(u=0;u<h;++u)c=a.call(t,o[u],u,o)+"",(s=l.get(c))?(r[u]=s,s.__data__=o[u],l.delete(c)):e[u]=new mi(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l.get(p[u])===s&&(i[u]=s)}function wi(t){return t.__data__}function bi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var xi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ai=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),xi.hasOwnProperty(n)?{space:xi[n],local:t}:t};function Ei(t){return function(){this.removeAttribute(t)}}function Si(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ni(t,n){return function(){this.setAttribute(t,n)}}function Mi(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Oi(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function ki(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Ti=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Ci(t){return function(){this.style.removeProperty(t)}}function Li(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Pi(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function ji(t,n){return t.style.getPropertyValue(n)||Ti(t).getComputedStyle(t,null).getPropertyValue(n)}function Bi(t){return function(){delete this[t]}}function Di(t,n){return function(){this[t]=n}}function Ri(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Ui(t){return t.trim().split(/^|\s+/)}function zi(t){return t.classList||new Hi(t)}function Hi(t){this._node=t,this._names=Ui(t.getAttribute("class")||"")}function Ii(t,n){for(var e=zi(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Vi(t,n){for(var e=zi(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Yi(t){return function(){Ii(this,t)}}function qi(t){return function(){Vi(this,t)}}function Xi(t,n){return function(){(n.apply(this,arguments)?Ii:Vi)(this,t)}}Hi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Fi(){this.textContent=""}function Gi(t){return function(){this.textContent=t}}function Zi(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Wi(){this.innerHTML=""}function Ki(t){return function(){this.innerHTML=t}}function $i(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Qi(){this.nextSibling&&this.parentNode.appendChild(this)}function Ji(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function to(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===e&&"http://www.w3.org/1999/xhtml"===n.documentElement.namespaceURI?n.createElement(t):n.createElementNS(e,t)}}function no(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var eo=function(t){var n=Ai(t);return(n.local?no:to)(n)};function ro(){return null}function io(){var t=this.parentNode;t&&t.removeChild(this)}function oo(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ao(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function uo(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function so(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function co(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function lo(t,n,e){var r=Ti(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function fo(t,n){return function(){return lo(this,t,n)}}function ho(t,n){return function(){return lo(this,t,n.apply(this,arguments))}}var po=bt.a.mark(vo);function vo(){var t,n,e,r,i,o,a;return bt.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=this._groups,n=0,e=t.length;case 1:if(!(n<e)){u.next=13;break}r=t[n],i=0,o=r.length;case 3:if(!(i<o)){u.next=10;break}if(!(a=r[i])){u.next=7;break}return u.next=7,a;case 7:++i,u.next=3;break;case 10:++n,u.next=1;break;case 13:case"end":return u.stop()}}),po,this)}var mo=[null];function _o(t,n){this._groups=t,this._parents=n}function yo(){return new _o([[document.documentElement]],mo)}_o.prototype=yo.prototype=Object(f.a)({constructor:_o,select:function(t){"function"!==typeof t&&(t=oi(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new _o(r,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:ai(n)}}(t):si(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new _o(r,i)},selectChild:function(t){return this.select(null==t?hi:function(t){return function(){return fi.call(this.children,t)}}("function"===typeof t?t:li(t)))},selectChildren:function(t){return this.selectAll(null==t?di:function(t){return function(){return pi.call(this.children,t)}}("function"===typeof t?t:li(t)))},filter:function(t){"function"!==typeof t&&(t=ci(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new _o(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,wi);var e=n?gi:yi,r=this._parents,i=this._groups;"function"!==typeof t&&(t=_i(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=ai(t.call(l,l&&l.__data__,c,r)),d=p.length,v=u[c]=new Array(d),m=a[c]=new Array(d),_=s[c]=new Array(h);e(l,f,v,m,_,p,n);for(var y,g,w=0,b=0;w<d;++w)if(y=v[w]){for(w>=b&&(b=w+1);!(g=m[b])&&++b<d;);y._next=g||null}}return(a=new _o(a,r))._enter=u,a._exit=s,a},enter:function(){return new _o(this._enter||this._groups.map(vi),this._parents)},exit:function(){return new _o(this._exit||this._groups.map(vi),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof _o))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new _o(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=bi);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new _o(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,n=0,e=Object(r.a)(this);try{for(e.s();!(t=e.n()).done;){t.value;++n}}catch(i){e.e(i)}finally{e.f()}return n},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Ai(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Si:Ei:"function"===typeof n?e.local?ki:Oi:e.local?Mi:Ni)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Ci:"function"===typeof n?Pi:Li)(t,n,null==e?"":e)):ji(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Bi:"function"===typeof n?Ri:Di)(t,n)):this.node()[t]},classed:function(t,n){var e=Ui(t+"");if(arguments.length<2){for(var r=zi(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?Xi:n?Yi:qi)(e,n))},text:function(t){return arguments.length?this.each(null==t?Fi:("function"===typeof t?Zi:Gi)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Wi:("function"===typeof t?$i:Ki)(t)):this.node().innerHTML},raise:function(){return this.each(Qi)},lower:function(){return this.each(Ji)},append:function(t){var n="function"===typeof t?t:eo(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"===typeof t?t:eo(t),r=null==n?ro:"function"===typeof n?n:oi(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(io)},clone:function(t){return this.select(t?ao:oo)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=uo(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?co:so,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"===typeof n?ho:fo)(t,n))}},Symbol.iterator,vo);var go=yo,wo=l("start","end","cancel","interrupt"),bo=[],xo=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(1!==e.state)return u();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return Fe(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Fe((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ve((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:wo,tween:bo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Ao(t,n){var e=So(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Eo(t,n){var e=So(t,n);if(e.state>3)throw new Error("too late; already running");return e}function So(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function No(t,n){var e,r;return function(){var i=Eo(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Mo(t,n,e){var r,i;if("function"!==typeof e)throw new Error;return function(){var o=Eo(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function Oo(t,n,e){var r=t._id;return t.each((function(){var t=Eo(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return So(t,r).value[n]}}var ko=function(t,n){var e;return("number"===typeof n?ln:n instanceof Yt?sn:(e=Yt(n))?(n=e,sn):pn)(t,n)};function To(t){return function(){this.removeAttribute(t)}}function Co(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lo(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Po(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function jo(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function Bo(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Do(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ro(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Uo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ro(t,i)),e}return i._value=n,i}function zo(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Do(t,i)),e}return i._value=n,i}function Ho(t,n){return function(){Ao(this,t).delay=+n.apply(this,arguments)}}function Io(t,n){return n=+n,function(){Ao(this,t).delay=n}}function Vo(t,n){return function(){Eo(this,t).duration=+n.apply(this,arguments)}}function Yo(t,n){return n=+n,function(){Eo(this,t).duration=n}}function qo(t,n){if("function"!==typeof n)throw new Error;return function(){Eo(this,t).ease=n}}function Xo(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Ao:Eo;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Fo=go.prototype.constructor;function Go(t){return function(){this.style.removeProperty(t)}}function Zo(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Wo(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Zo(t,o,e)),r}return o._value=n,o}function Ko(t){return function(n){this.textContent=t.call(this,n)}}function $o(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Ko(r)),n}return r._value=t,r}var Qo=0;function Jo(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ta(){return++Qo}var na=go.prototype;Jo.prototype=function(t){return go().transition(t)}.prototype=Object(f.a)({constructor:Jo,select:function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=oi(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,xo(f[h],n,e,h,f,So(u,e)));return new Jo(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=si(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,p=t.call(s,s.__data__,f,c),d=So(s,e),v=0,m=p.length;v<m;++v)(h=p[v])&&xo(h,n,e,v,p,d);o.push(p),a.push(s)}return new Jo(o,a,n,e)},filter:function(t){"function"!==typeof t&&(t=ci(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Jo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new Jo(a,this._parents,this._name,this._id)},selection:function(){return new Fo(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ta(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=So(a,n);xo(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Jo(r,this._parents,t,e)},call:na.call,nodes:na.nodes,node:na.node,size:na.size,empty:na.empty,each:na.each,on:function(t,n){var e=this._id;return arguments.length<2?So(this.node(),e).on.on(t):this.each(Xo(e,t,n))},attr:function(t,n){var e=Ai(t),r="transform"===e?ar:ko;return this.attrTween(t,"function"===typeof n?(e.local?Bo:jo)(e,r,Oo(this,"attr."+t,n)):null==n?(e.local?Co:To)(e):(e.local?Po:Lo)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!==typeof n)throw new Error;var r=Ai(t);return this.tween(e,(r.local?Uo:zo)(r,n))},style:function(t,n,e){var r="transform"===(t+="")?or:ko;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=ji(this,t),a=(this.style.removeProperty(t),ji(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Go(t)):"function"===typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=ji(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=ji(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,Oo(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=Eo(this,t),c=s.on,l=null==s.value[a]?o||(o=Go(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(u,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=ji(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!==typeof n)throw new Error;return this.tween(r,Wo(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Oo(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,$o(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=So(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?No:Mo)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Ho:Io)(n,t)):So(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Vo:Yo)(n,t)):So(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(qo(n,t)):So(this.node(),n).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!==typeof e)throw new Error;Eo(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0===--i&&o()}};e.each((function(){var e=Eo(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))}},Symbol.iterator,na[Symbol.iterator]);var ea={time:null,delay:0,duration:250,ease:Rr.a};function ra(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error("transition ".concat(n," not found"));return e}go.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},go.prototype.transition=function(t){var n,e;t instanceof Jo?(n=t._id,t=t._name):(n=ta(),(e=ea).time=ze(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&xo(a,t,n,c,u,e||ra(a,n));return new Jo(r,this._parents,t,n)};function ia(t){return((t=Math.exp(t))+1/t)/2}(function t(n,e,r){function i(t,i){var o,a,u=t[0],s=t[1],c=t[2],l=i[0],f=i[1],h=i[2],p=l-u,d=f-s,v=p*p+d*d;if(v<1e-12)a=Math.log(h/c)/n,o=function(t){return[u+t*p,s+t*d,c*Math.exp(n*t*a)]};else{var m=Math.sqrt(v),_=(h*h-c*c+r*v)/(2*c*e*m),y=(h*h-c*c-r*v)/(2*h*e*m),g=Math.log(Math.sqrt(_*_+1)-_),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-g)/n,o=function(t){var r,i=t*a,o=ia(g),l=c/(e*m)*(o*(r=n*i+g,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[u+l*p,s+l*d,c*o/ia(n*i+g)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i})(Math.SQRT2,2,4);function oa(){}var aa=function(t){return null==t?oa:function(){return this.querySelector(t)}},ua=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)};function sa(){return[]}var ca=function(t){return null==t?sa:function(){return this.querySelectorAll(t)}};var la=function(t){return function(){return this.matches(t)}};function fa(t){return function(n){return n.matches(t)}}var ha=Array.prototype.find;function pa(){return this.firstElementChild}var da=Array.prototype.filter;function va(){return this.children}var ma=function(t){return new Array(t.length)};function _a(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}_a.prototype={constructor:_a,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ya=function(t){return function(){return t}};function ga(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new _a(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function wa(t,n,e,r,i,o,a){var u,s,c,l=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=c=a.call(s,s.__data__,u,n)+"",l.has(c)?i[u]=s:l.set(c,s));for(u=0;u<h;++u)c=a.call(t,o[u],u,o)+"",(s=l.get(c))?(r[u]=s,s.__data__=o[u],l.delete(c)):e[u]=new _a(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l.get(p[u])===s&&(i[u]=s)}function ba(t){return t.__data__}function xa(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var Aa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ea=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Aa.hasOwnProperty(n)?{space:Aa[n],local:t}:t};function Sa(t){return function(){this.removeAttribute(t)}}function Na(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ma(t,n){return function(){this.setAttribute(t,n)}}function Oa(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ka(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Ta(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var Ca=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function La(t){return function(){this.style.removeProperty(t)}}function Pa(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ja(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ba(t,n){return t.style.getPropertyValue(n)||Ca(t).getComputedStyle(t,null).getPropertyValue(n)}function Da(t){return function(){delete this[t]}}function Ra(t,n){return function(){this[t]=n}}function Ua(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function za(t){return t.trim().split(/^|\s+/)}function Ha(t){return t.classList||new Ia(t)}function Ia(t){this._node=t,this._names=za(t.getAttribute("class")||"")}function Va(t,n){for(var e=Ha(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Ya(t,n){for(var e=Ha(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function qa(t){return function(){Va(this,t)}}function Xa(t){return function(){Ya(this,t)}}function Fa(t,n){return function(){(n.apply(this,arguments)?Va:Ya)(this,t)}}Ia.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ga(){this.textContent=""}function Za(t){return function(){this.textContent=t}}function Wa(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Ka(){this.innerHTML=""}function $a(t){return function(){this.innerHTML=t}}function Qa(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Ja(){this.nextSibling&&this.parentNode.appendChild(this)}function tu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nu(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===e&&"http://www.w3.org/1999/xhtml"===n.documentElement.namespaceURI?n.createElement(t):n.createElementNS(e,t)}}function eu(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var ru=function(t){var n=Ea(t);return(n.local?eu:nu)(n)};function iu(){return null}function ou(){var t=this.parentNode;t&&t.removeChild(this)}function au(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function uu(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function su(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function cu(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function lu(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function fu(t,n,e){var r=Ca(t),i=r.CustomEvent;"function"===typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function hu(t,n){return function(){return fu(this,t,n)}}function pu(t,n){return function(){return fu(this,t,n.apply(this,arguments))}}var du=bt.a.mark(vu);function vu(){var t,n,e,r,i,o,a;return bt.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=this._groups,n=0,e=t.length;case 1:if(!(n<e)){u.next=13;break}r=t[n],i=0,o=r.length;case 3:if(!(i<o)){u.next=10;break}if(!(a=r[i])){u.next=7;break}return u.next=7,a;case 7:++i,u.next=3;break;case 10:++n,u.next=1;break;case 13:case"end":return u.stop()}}),du,this)}var mu=[null];function _u(t,n){this._groups=t,this._parents=n}function yu(){return new _u([[document.documentElement]],mu)}_u.prototype=yu.prototype=Object(f.a)({constructor:_u,select:function(t){"function"!==typeof t&&(t=aa(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new _u(r,this._parents)},selectAll:function(t){t="function"===typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:ua(n)}}(t):ca(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new _u(r,i)},selectChild:function(t){return this.select(null==t?pa:function(t){return function(){return ha.call(this.children,t)}}("function"===typeof t?t:fa(t)))},selectChildren:function(t){return this.selectAll(null==t?va:function(t){return function(){return da.call(this.children,t)}}("function"===typeof t?t:fa(t)))},filter:function(t){"function"!==typeof t&&(t=la(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new _u(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,ba);var e=n?wa:ga,r=this._parents,i=this._groups;"function"!==typeof t&&(t=ya(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=ua(t.call(l,l&&l.__data__,c,r)),d=p.length,v=u[c]=new Array(d),m=a[c]=new Array(d),_=s[c]=new Array(h);e(l,f,v,m,_,p,n);for(var y,g,w=0,b=0;w<d;++w)if(y=v[w]){for(w>=b&&(b=w+1);!(g=m[b])&&++b<d;);y._next=g||null}}return(a=new _u(a,r))._enter=u,a._exit=s,a},enter:function(){return new _u(this._enter||this._groups.map(ma),this._parents)},exit:function(){return new _u(this._exit||this._groups.map(ma),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof _u))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new _u(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=xa);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new _u(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,n=0,e=Object(r.a)(this);try{for(e.s();!(t=e.n()).done;){t.value;++n}}catch(i){e.e(i)}finally{e.f()}return n},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Ea(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Na:Sa:"function"===typeof n?e.local?Ta:ka:e.local?Oa:Ma)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?La:"function"===typeof n?ja:Pa)(t,n,null==e?"":e)):Ba(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Da:"function"===typeof n?Ua:Ra)(t,n)):this.node()[t]},classed:function(t,n){var e=za(t+"");if(arguments.length<2){for(var r=Ha(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"===typeof n?Fa:n?qa:Xa)(e,n))},text:function(t){return arguments.length?this.each(null==t?Ga:("function"===typeof t?Wa:Za)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ka:("function"===typeof t?Qa:$a)(t)):this.node().innerHTML},raise:function(){return this.each(Ja)},lower:function(){return this.each(tu)},append:function(t){var n="function"===typeof t?t:ru(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"===typeof t?t:ru(t),r=null==n?iu:"function"===typeof n?n:aa(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ou)},clone:function(t){return this.select(t?uu:au)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=su(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?lu:cu,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"===typeof n?pu:hu)(t,n))}},Symbol.iterator,vu);var gu=yu,wu=l("start","end","cancel","interrupt"),bu=[],xu=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(1!==e.state)return u();for(c in i)if((h=i[c]).name===e.name){if(3===h.state)return Fe(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Fe((function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(s))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ve((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:wu,tween:bu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Au(t,n){var e=Su(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Eu(t,n){var e=Su(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Su(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Nu=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}};function Mu(t,n){var e,r;return function(){var i=Eu(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ou(t,n,e){var r,i;if("function"!==typeof e)throw new Error;return function(){var o=Eu(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function ku(t,n,e){var r=t._id;return t.each((function(){var t=Eu(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Su(t,r).value[n]}}var Tu=function(t,n){var e;return("number"===typeof n?ln:n instanceof Yt?sn:(e=Yt(n))?(n=e,sn):pn)(t,n)};function Cu(t){return function(){this.removeAttribute(t)}}function Lu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pu(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function ju(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Bu(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function Du(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Ru(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Uu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function zu(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Uu(t,i)),e}return i._value=n,i}function Hu(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Ru(t,i)),e}return i._value=n,i}function Iu(t,n){return function(){Au(this,t).delay=+n.apply(this,arguments)}}function Vu(t,n){return n=+n,function(){Au(this,t).delay=n}}function Yu(t,n){return function(){Eu(this,t).duration=+n.apply(this,arguments)}}function qu(t,n){return n=+n,function(){Eu(this,t).duration=n}}function Xu(t,n){if("function"!==typeof n)throw new Error;return function(){Eu(this,t).ease=n}}function Fu(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Au:Eu;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Gu=gu.prototype.constructor;function Zu(t){return function(){this.style.removeProperty(t)}}function Wu(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ku(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Wu(t,o,e)),r}return o._value=n,o}function $u(t){return function(n){this.textContent=t.call(this,n)}}function Qu(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&$u(r)),n}return r._value=t,r}var Ju=0;function ts(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ns(){return++Ju}var es=gu.prototype;ts.prototype=function(t){return gu().transition(t)}.prototype=Object(f.a)({constructor:ts,select:function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=aa(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,xu(f[h],n,e,h,f,Su(u,e)));return new ts(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!==typeof t&&(t=ca(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,p=t.call(s,s.__data__,f,c),d=Su(s,e),v=0,m=p.length;v<m;++v)(h=p[v])&&xu(h,n,e,v,p,d);o.push(p),a.push(s)}return new ts(o,a,n,e)},filter:function(t){"function"!==typeof t&&(t=la(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new ts(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new ts(a,this._parents,this._name,this._id)},selection:function(){return new Gu(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ns(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=Su(a,n);xu(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ts(r,this._parents,t,e)},call:es.call,nodes:es.nodes,node:es.node,size:es.size,empty:es.empty,each:es.each,on:function(t,n){var e=this._id;return arguments.length<2?Su(this.node(),e).on.on(t):this.each(Fu(e,t,n))},attr:function(t,n){var e=Ea(t),r="transform"===e?ar:Tu;return this.attrTween(t,"function"===typeof n?(e.local?Du:Bu)(e,r,ku(this,"attr."+t,n)):null==n?(e.local?Lu:Cu)(e):(e.local?ju:Pu)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!==typeof n)throw new Error;var r=Ea(t);return this.tween(e,(r.local?zu:Hu)(r,n))},style:function(t,n,e){var r="transform"===(t+="")?or:Tu;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Ba(this,t),a=(this.style.removeProperty(t),Ba(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Zu(t)):"function"===typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=Ba(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=Ba(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,ku(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=Eu(this,t),c=s.on,l=null==s.value[a]?o||(o=Zu(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(u,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=Ba(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!==typeof n)throw new Error;return this.tween(r,Ku(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(ku(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;return this.tween(n,Qu(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Su(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Mu:Ou)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Iu:Vu)(n,t)):Su(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"===typeof t?Yu:qu)(n,t)):Su(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Xu(n,t)):Su(this.node(),n).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!==typeof e)throw new Error;Eu(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0===--i&&o()}};e.each((function(){var e=Eu(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))}},Symbol.iterator,es[Symbol.iterator]);var rs={time:null,delay:0,duration:250,ease:Rr.a};function is(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error("transition ".concat(n," not found"));return e}gu.prototype.interrupt=function(t){return this.each((function(){Nu(this,t)}))},gu.prototype.transition=function(t){var n,e;t instanceof ts?(n=t._id,t=t._name):(n=ns(),(e=rs).time=ze(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&xu(a,t,n,c,u,e||is(a,n));return new ts(r,this._parents,t,n)};function os(t,n,e){this.k=t,this.x=n,this.y=e}os.prototype={constructor:os,scale:function(t){return 1===t?this:new os(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new os(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new os(1,0,0);os.prototype},220:function(t,n,e){"use strict";function r(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}e.d(n,"a",(function(){return r}))},75:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(72);r.UniformsLib.line={linewidth:{value:1},resolution:{value:new r.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1},opacity:{value:1}},r.ShaderLib.line={uniforms:r.UniformsUtils.merge([r.UniformsLib.common,r.UniformsLib.fog,r.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var i=function(t){r.ShaderMaterial.call(this,{type:"LineMaterial",uniforms:r.UniformsUtils.clone(r.ShaderLib.line.uniforms),vertexShader:r.ShaderLib.line.vertexShader,fragmentShader:r.ShaderLib.line.fragmentShader,clipping:!0}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}}}),this.setValues(t)};i.prototype=Object.create(r.ShaderMaterial.prototype),i.prototype.constructor=i,i.prototype.isLineMaterial=!0},78:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(92),i=function(){r.a.call(this),this.type="LineGeometry"};i.prototype=Object.assign(Object.create(r.a.prototype),{constructor:i,isLineGeometry:!0,setPositions:function(t){for(var n=t.length-3,e=new Float32Array(2*n),i=0;i<n;i+=3)e[2*i]=t[i],e[2*i+1]=t[i+1],e[2*i+2]=t[i+2],e[2*i+3]=t[i+3],e[2*i+4]=t[i+4],e[2*i+5]=t[i+5];return r.a.prototype.setPositions.call(this,e),this},setColors:function(t){for(var n=t.length-3,e=new Float32Array(2*n),i=0;i<n;i+=3)e[2*i]=t[i],e[2*i+1]=t[i+1],e[2*i+2]=t[i+2],e[2*i+3]=t[i+3],e[2*i+4]=t[i+4],e[2*i+5]=t[i+5];return r.a.prototype.setColors.call(this,e),this},fromLine:function(t){var n=t.geometry;return n.isGeometry?this.setPositions(n.vertices):n.isBufferGeometry&&this.setPositions(n.attributes.position.array),this},copy:function(){return this}})},90:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(72),i=e(92),o=e(75),a=function(t,n){r.Mesh.call(this),this.type="LineSegments2",this.geometry=void 0!==t?t:new i.a,this.material=void 0!==n?n:new o.a({color:16777215*Math.random()})};a.prototype=Object.assign(Object.create(r.Mesh.prototype),{constructor:a,isLineSegments2:!0,computeLineDistances:function(){var t=new r.Vector3,n=new r.Vector3;return function(){for(var e=this.geometry,i=e.attributes.instanceStart,o=e.attributes.instanceEnd,a=new Float32Array(2*i.data.count),u=0,s=0,c=i.data.count;u<c;u++,s+=2)t.fromBufferAttribute(i,u),n.fromBufferAttribute(o,u),a[s]=0===s?0:a[s-1],a[s+1]=a[s]+t.distanceTo(n);var l=new r.InstancedInterleavedBuffer(a,2,1);return e.setAttribute("instanceDistanceStart",new r.InterleavedBufferAttribute(l,1,0)),e.setAttribute("instanceDistanceEnd",new r.InterleavedBufferAttribute(l,1,1)),this}}(),raycast:function(){var t=new r.Vector4,n=new r.Vector4,e=new r.Vector4,i=new r.Vector3,o=new r.Matrix4,a=new r.Line3,u=new r.Vector3;return function(s,c){null===s.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var l=s.ray,f=s.camera,h=f.projectionMatrix,p=this.geometry,d=this.material,v=d.resolution,m=d.linewidth,_=p.attributes.instanceStart,y=p.attributes.instanceEnd;l.at(1,e),e.w=1,e.applyMatrix4(f.matrixWorldInverse),e.applyMatrix4(h),e.multiplyScalar(1/e.w),e.x*=v.x/2,e.y*=v.y/2,e.z=0,i.copy(e);var g=this.matrixWorld;o.multiplyMatrices(f.matrixWorldInverse,g);for(var w=0,b=_.count;w<b;w++){t.fromBufferAttribute(_,w),n.fromBufferAttribute(y,w),t.w=1,n.w=1,t.applyMatrix4(o),n.applyMatrix4(o),t.applyMatrix4(h),n.applyMatrix4(h),t.multiplyScalar(1/t.w),n.multiplyScalar(1/n.w);var x=t.z<-1&&n.z<-1,A=t.z>1&&n.z>1;if(!x&&!A){t.x*=v.x/2,t.y*=v.y/2,n.x*=v.x/2,n.y*=v.y/2,a.start.copy(t),a.start.z=0,a.end.copy(n),a.end.z=0;var E=a.closestPointToPointParameter(i,!0);a.at(E,u);var S=r.MathUtils.lerp(t.z,n.z,E),N=S>=-1&&S<=1,M=i.distanceTo(u)<.5*m;if(N&&M){a.start.fromBufferAttribute(_,w),a.end.fromBufferAttribute(y,w),a.start.applyMatrix4(g),a.end.applyMatrix4(g);var O=new r.Vector3,k=new r.Vector3;l.distanceSqToSegment(a.start,a.end,k,O),c.push({point:k,pointOnLine:O,distance:l.origin.distanceTo(k),object:this,face:null,faceIndex:w,uv:null,uv2:null})}}}}}()});var u=e(78),s=function(t,n){a.call(this),this.type="Line2",this.geometry=void 0!==t?t:new u.a,this.material=void 0!==n?n:new o.a({color:16777215*Math.random()})};s.prototype=Object.assign(Object.create(a.prototype),{constructor:s,isLine2:!0})},92:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(72),i=function(){r.InstancedBufferGeometry.call(this),this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new r.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new r.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};i.prototype=Object.assign(Object.create(r.InstancedBufferGeometry.prototype),{constructor:i,isLineSegmentsGeometry:!0,applyMatrix4:function(t){var n=this.attributes.instanceStart,e=this.attributes.instanceEnd;return void 0!==n&&(n.applyMatrix4(t),e.applyMatrix4(t),n.data.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(t){var n;t instanceof Float32Array?n=t:Array.isArray(t)&&(n=new Float32Array(t));var e=new r.InstancedInterleavedBuffer(n,6,1);return this.setAttribute("instanceStart",new r.InterleavedBufferAttribute(e,3,0)),this.setAttribute("instanceEnd",new r.InterleavedBufferAttribute(e,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(t){var n;t instanceof Float32Array?n=t:Array.isArray(t)&&(n=new Float32Array(t));var e=new r.InstancedInterleavedBuffer(n,6,1);return this.setAttribute("instanceColorStart",new r.InterleavedBufferAttribute(e,3,0)),this.setAttribute("instanceColorEnd",new r.InterleavedBufferAttribute(e,3,3)),this},fromWireframeGeometry:function(t){return this.setPositions(t.attributes.position.array),this},fromEdgesGeometry:function(t){return this.setPositions(t.attributes.position.array),this},fromMesh:function(t){return this.fromWireframeGeometry(new r.WireframeGeometry(t.geometry)),this},fromLineSegments:function(t){var n=t.geometry;return n.isGeometry?this.setPositions(n.vertices):n.isBufferGeometry&&this.setPositions(n.attributes.position.array),this},computeBoundingBox:function(){var t=new r.Box3;return function(){null===this.boundingBox&&(this.boundingBox=new r.Box3);var n=this.attributes.instanceStart,e=this.attributes.instanceEnd;void 0!==n&&void 0!==e&&(this.boundingBox.setFromBufferAttribute(n),t.setFromBufferAttribute(e),this.boundingBox.union(t))}}(),computeBoundingSphere:function(){var t=new r.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new r.Sphere),null===this.boundingBox&&this.computeBoundingBox();var n=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(void 0!==n&&void 0!==e){var i=this.boundingSphere.center;this.boundingBox.getCenter(i);for(var o=0,a=0,u=n.count;a<u;a++)t.fromBufferAttribute(n,a),o=Math.max(o,i.distanceToSquared(t)),t.fromBufferAttribute(e,a),o=Math.max(o,i.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}}(),toJSON:function(){},applyMatrix:function(t){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(t)}})},93:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return o}));var r=e(72),i=function(t,n){void 0===n&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=n,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.MOUSE.ROTATE,MIDDLE:r.MOUSE.DOLLY,RIGHT:r.MOUSE.PAN},this.touches={ONE:r.TOUCH.ROTATE,TWO:r.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(i),e.update(),s=u.NONE},this.update=function(){var n=new r.Vector3,o=(new r.Quaternion).setFromUnitVectors(t.up,new r.Vector3(0,1,0)),a=o.clone().inverse(),v=new r.Vector3,m=new r.Quaternion;return function(){var t=e.object.position;return n.copy(t).sub(e.target),n.applyQuaternion(o),l.setFromVector3(n),e.autoRotate&&s===u.NONE&&S(2*Math.PI/60/60*e.autoRotateSpeed),e.enableDamping?(l.theta+=f.theta*e.dampingFactor,l.phi+=f.phi*e.dampingFactor):(l.theta+=f.theta,l.phi+=f.phi),l.theta=Math.max(e.minAzimuthAngle,Math.min(e.maxAzimuthAngle,l.theta)),l.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=h,l.radius=Math.max(e.minDistance,Math.min(e.maxDistance,l.radius)),!0===e.enableDamping?e.target.addScaledVector(p,e.dampingFactor):e.target.add(p),n.setFromSpherical(l),n.applyQuaternion(a),t.copy(e.target).add(n),e.object.lookAt(e.target),!0===e.enableDamping?(f.theta*=1-e.dampingFactor,f.phi*=1-e.dampingFactor,p.multiplyScalar(1-e.dampingFactor)):(f.set(0,0,0),p.set(0,0,0)),h=1,!!(d||v.distanceToSquared(e.object.position)>c||8*(1-m.dot(e.object.quaternion))>c)&&(e.dispatchEvent(i),v.copy(e.object.position),m.copy(e.object.quaternion),d=!1,!0)}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",Z,!1),e.domElement.removeEventListener("mousedown",H,!1),e.domElement.removeEventListener("wheel",Y,!1),e.domElement.removeEventListener("touchstart",X,!1),e.domElement.removeEventListener("touchend",G,!1),e.domElement.removeEventListener("touchmove",F,!1),document.removeEventListener("mousemove",I,!1),document.removeEventListener("mouseup",V,!1),e.domElement.removeEventListener("keydown",q,!1)};var e=this,i={type:"change"},o={type:"start"},a={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=u.NONE,c=1e-6,l=new r.Spherical,f=new r.Spherical,h=1,p=new r.Vector3,d=!1,v=new r.Vector2,m=new r.Vector2,_=new r.Vector2,y=new r.Vector2,g=new r.Vector2,w=new r.Vector2,b=new r.Vector2,x=new r.Vector2,A=new r.Vector2;function E(){return Math.pow(.95,e.zoomSpeed)}function S(t){f.theta-=t}function N(t){f.phi-=t}var M=function(){var t=new r.Vector3;return function(n,e){t.setFromMatrixColumn(e,0),t.multiplyScalar(-n),p.add(t)}}(),O=function(){var t=new r.Vector3;return function(n,r){!0===e.screenSpacePanning?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(n),p.add(t)}}(),k=function(){var t=new r.Vector3;return function(n,r){var i=e.domElement;if(e.object.isPerspectiveCamera){var o=e.object.position;t.copy(o).sub(e.target);var a=t.length();a*=Math.tan(e.object.fov/2*Math.PI/180),M(2*n*a/i.clientHeight,e.object.matrix),O(2*r*a/i.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(M(n*(e.object.right-e.object.left)/e.object.zoom/i.clientWidth,e.object.matrix),O(r*(e.object.top-e.object.bottom)/e.object.zoom/i.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function T(t){e.object.isPerspectiveCamera?h/=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom*t)),e.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function C(t){e.object.isPerspectiveCamera?h*=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/t)),e.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function L(t){v.set(t.clientX,t.clientY)}function P(t){y.set(t.clientX,t.clientY)}function j(t){if(1==t.touches.length)v.set(t.touches[0].pageX,t.touches[0].pageY);else{var n=.5*(t.touches[0].pageX+t.touches[1].pageX),e=.5*(t.touches[0].pageY+t.touches[1].pageY);v.set(n,e)}}function B(t){if(1==t.touches.length)y.set(t.touches[0].pageX,t.touches[0].pageY);else{var n=.5*(t.touches[0].pageX+t.touches[1].pageX),e=.5*(t.touches[0].pageY+t.touches[1].pageY);y.set(n,e)}}function D(t){var n=t.touches[0].pageX-t.touches[1].pageX,e=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(n*n+e*e);b.set(0,r)}function R(t){if(1==t.touches.length)m.set(t.touches[0].pageX,t.touches[0].pageY);else{var n=.5*(t.touches[0].pageX+t.touches[1].pageX),r=.5*(t.touches[0].pageY+t.touches[1].pageY);m.set(n,r)}_.subVectors(m,v).multiplyScalar(e.rotateSpeed);var i=e.domElement;S(2*Math.PI*_.x/i.clientHeight),N(2*Math.PI*_.y/i.clientHeight),v.copy(m)}function U(t){if(1==t.touches.length)g.set(t.touches[0].pageX,t.touches[0].pageY);else{var n=.5*(t.touches[0].pageX+t.touches[1].pageX),r=.5*(t.touches[0].pageY+t.touches[1].pageY);g.set(n,r)}w.subVectors(g,y).multiplyScalar(e.panSpeed),k(w.x,w.y),y.copy(g)}function z(t){var n=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(n*n+r*r);x.set(0,i),A.set(0,Math.pow(x.y/b.y,e.zoomSpeed)),T(A.y),b.copy(x)}function H(t){if(!1!==e.enabled){var n;switch(t.preventDefault(),e.domElement.focus?e.domElement.focus():window.focus(),t.button){case 0:n=e.mouseButtons.LEFT;break;case 1:n=e.mouseButtons.MIDDLE;break;case 2:n=e.mouseButtons.RIGHT;break;default:n=-1}switch(n){case r.MOUSE.DOLLY:if(!1===e.enableZoom)return;!function(t){b.set(t.clientX,t.clientY)}(t),s=u.DOLLY;break;case r.MOUSE.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===e.enablePan)return;P(t),s=u.PAN}else{if(!1===e.enableRotate)return;L(t),s=u.ROTATE}break;case r.MOUSE.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===e.enableRotate)return;L(t),s=u.ROTATE}else{if(!1===e.enablePan)return;P(t),s=u.PAN}break;default:s=u.NONE}s!==u.NONE&&(document.addEventListener("mousemove",I,!1),document.addEventListener("mouseup",V,!1),e.dispatchEvent(o))}}function I(t){if(!1!==e.enabled)switch(t.preventDefault(),s){case u.ROTATE:if(!1===e.enableRotate)return;!function(t){m.set(t.clientX,t.clientY),_.subVectors(m,v).multiplyScalar(e.rotateSpeed);var n=e.domElement;S(2*Math.PI*_.x/n.clientHeight),N(2*Math.PI*_.y/n.clientHeight),v.copy(m),e.update()}(t);break;case u.DOLLY:if(!1===e.enableZoom)return;!function(t){x.set(t.clientX,t.clientY),A.subVectors(x,b),A.y>0?T(E()):A.y<0&&C(E()),b.copy(x),e.update()}(t);break;case u.PAN:if(!1===e.enablePan)return;!function(t){g.set(t.clientX,t.clientY),w.subVectors(g,y).multiplyScalar(e.panSpeed),k(w.x,w.y),y.copy(g),e.update()}(t)}}function V(t){!1!==e.enabled&&(document.removeEventListener("mousemove",I,!1),document.removeEventListener("mouseup",V,!1),e.dispatchEvent(a),s=u.NONE)}function Y(t){!1===e.enabled||!1===e.enableZoom||s!==u.NONE&&s!==u.ROTATE||(t.preventDefault(),t.stopPropagation(),e.dispatchEvent(o),function(t){t.deltaY<0?C(E()):t.deltaY>0&&T(E()),e.update()}(t),e.dispatchEvent(a))}function q(t){!1!==e.enabled&&!1!==e.enableKeys&&!1!==e.enablePan&&function(t){var n=!1;switch(t.keyCode){case e.keys.UP:k(0,e.keyPanSpeed),n=!0;break;case e.keys.BOTTOM:k(0,-e.keyPanSpeed),n=!0;break;case e.keys.LEFT:k(e.keyPanSpeed,0),n=!0;break;case e.keys.RIGHT:k(-e.keyPanSpeed,0),n=!0}n&&(t.preventDefault(),e.update())}(t)}function X(t){if(!1!==e.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(e.touches.ONE){case r.TOUCH.ROTATE:if(!1===e.enableRotate)return;j(t),s=u.TOUCH_ROTATE;break;case r.TOUCH.PAN:if(!1===e.enablePan)return;B(t),s=u.TOUCH_PAN;break;default:s=u.NONE}break;case 2:switch(e.touches.TWO){case r.TOUCH.DOLLY_PAN:if(!1===e.enableZoom&&!1===e.enablePan)return;!function(t){e.enableZoom&&D(t),e.enablePan&&B(t)}(t),s=u.TOUCH_DOLLY_PAN;break;case r.TOUCH.DOLLY_ROTATE:if(!1===e.enableZoom&&!1===e.enableRotate)return;!function(t){e.enableZoom&&D(t),e.enableRotate&&j(t)}(t),s=u.TOUCH_DOLLY_ROTATE;break;default:s=u.NONE}break;default:s=u.NONE}s!==u.NONE&&e.dispatchEvent(o)}}function F(t){if(!1!==e.enabled)switch(t.preventDefault(),t.stopPropagation(),s){case u.TOUCH_ROTATE:if(!1===e.enableRotate)return;R(t),e.update();break;case u.TOUCH_PAN:if(!1===e.enablePan)return;U(t),e.update();break;case u.TOUCH_DOLLY_PAN:if(!1===e.enableZoom&&!1===e.enablePan)return;!function(t){e.enableZoom&&z(t),e.enablePan&&U(t)}(t),e.update();break;case u.TOUCH_DOLLY_ROTATE:if(!1===e.enableZoom&&!1===e.enableRotate)return;!function(t){e.enableZoom&&z(t),e.enableRotate&&R(t)}(t),e.update();break;default:s=u.NONE}}function G(t){!1!==e.enabled&&(e.dispatchEvent(a),s=u.NONE)}function Z(t){!1!==e.enabled&&t.preventDefault()}e.domElement.addEventListener("contextmenu",Z,!1),e.domElement.addEventListener("mousedown",H,!1),e.domElement.addEventListener("wheel",Y,!1),e.domElement.addEventListener("touchstart",X,!1),e.domElement.addEventListener("touchend",G,!1),e.domElement.addEventListener("touchmove",F,!1),e.domElement.addEventListener("keydown",q,!1),-1===e.domElement.tabIndex&&(e.domElement.tabIndex=0),this.update()};i.prototype=Object.create(r.EventDispatcher.prototype),i.prototype.constructor=i;var o=function(t,n){i.call(this,t,n),this.mouseButtons.LEFT=r.MOUSE.PAN,this.mouseButtons.RIGHT=r.MOUSE.ROTATE,this.touches.ONE=r.TOUCH.PAN,this.touches.TWO=r.TOUCH.DOLLY_ROTATE};o.prototype=Object.create(r.EventDispatcher.prototype),o.prototype.constructor=o}}]);
//# sourceMappingURL=7.ae037c81.chunk.js.map