{"version":3,"sources":["exp/Exp15.js","../node_modules/react-use-measure/dist/web.js","../node_modules/webpack/buildin/harmony-module.js","../node_modules/debounce/index.js"],"names":["operations","randomGrid","grid","i","push","Array","from","Math","random","useMeasure","refDiv","width","height","useState","setGrid","running","setRunning","size","buttonStyle","backgroundColor","useContext","ThemeContext","dark","borderRadius","display","justifyContent","alignItems","transition","willChange","buttonWrapper","position","runningRef","useRef","current","useInterval","g","gridCopy","JSON","parse","stringify","j","neighbors","forEach","x","y","newI","newJ","simulation","ref","style","cursor","onClick","restartIcon","stopIcon","playIcon","className","gridTemplateColumns","map","row","col","key","undefined","border","xmlns","focusable","preserveAspectRatio","viewBox","aria-hidden","fill","d","debounce","scroll","debounce$1","polyfill","ResizeObserver","window","Error","left","top","bottom","right","bounds","set","state","element","scrollContainers","resizeObserver","lastBounds","scrollDebounce","resizeDebounce","resize","useMemo","callback","getBoundingClientRect","Object","freeze","areBoundsEqual","forceRefresh","resizeChange","scrollChange","removeListeners","removeEventListener","disconnect","addListeners","observe","scrollContainer","addEventListener","capture","passive","node","findScrollContainers","useOnWindowScroll","Boolean","useOnWindowResize","useEffect","onWindowResize","cb","onScroll","enabled","result","document","body","getComputedStyle","overflow","overflowX","overflowY","some","prop","parentElement","keys","a","b","every","getOwnPropertyDescriptor","module","writable","exports","originalModule","webpackPolyfill","create","children","defineProperty","enumerable","get","l","func","wait","immediate","timeout","args","context","timestamp","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush"],"mappings":"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","file":"static/js/25.675b26a1.chunk.js","sourcesContent":["import React, { useState, useContext, useRef } from \"react\";\nimport useMeasure from \"react-use-measure\";\nimport useInterval from \"../hooks/useInterval\";\nimport ThemeContext from \"../context/ThemeContext\";\n\n// Following this tut by Ben Awad\n// https://youtu.be/DvVt11mPuM0\n\n// Globals\nconst numRows = 10;\nconst numCols = 10;\nconst buttonsVisible = true;\n\n// Operations\nconst operations = [\n  [0, 1],\n  [0, -1],\n  [1, -1],\n  [-1, 1],\n  [1, 1],\n  [-1, -1],\n  [1, 0],\n  [-1, 0],\n];\n\n// Grid\nconst randomGrid = () => {\n  const grid = [];\n  for (let i = 0; i < numRows; i++) {\n    grid.push(Array.from(Array(numCols), () => (Math.random() > 0.7 ? 1 : 0)));\n  }\n  return grid;\n};\n\nconst simulation = (grid) => {\n  // Spread doesn't work here. Clone multidimensional array\n  let gridCopy = JSON.parse(JSON.stringify(grid));\n  for (let i = 0; i < numRows; i++) {\n    for (let j = 0; j < numCols; j++) {\n      // computes neighbors\n      let neighbors = 0;\n      operations.forEach(([x, y]) => {\n        const newI = i + x;\n        const newJ = j + y;\n        // check bounds\n        if (newI >= 0 && newI < numRows && newJ >= 0 && newJ < numCols) {\n          neighbors += grid[newI][newJ];\n        }\n      });\n\n      if (neighbors < 2 || neighbors > 3) {\n        // fewer than 2 and more than 3 dies\n        gridCopy[i][j] = 0;\n      } else if (grid[i][j] === 0 && neighbors === 3) {\n        // dead cell with 3 neighbours becomes alive\n        gridCopy[i][j] = 1;\n      }\n    }\n  }\n  return gridCopy;\n};\n\nexport default () => {\n  const [refDiv, { width, height }] = useMeasure();\n  const [grid, setGrid] = useState(randomGrid);\n  const [running, setRunning] = useState(true);\n\n  const smallestSize = width < height ? width : height;\n  const size = smallestSize / numRows;\n\n  // Styles\n  const { dark } = useContext(ThemeContext);\n\n  const buttonStyle = {\n    backgroundColor: dark ? \"var(--blue)\" : \"var(--green)\",\n    borderRadius: \"50%\",\n    width: size,\n    height: size,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    transition: \"background-color 500ms\",\n    willChange: \"background-color\",\n  };\n\n  const buttonWrapper = {\n    position: \"absolute\",\n    display: \"flex\",\n    width: size * 3 - 2,\n    height: size * 1 - 2,\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  };\n\n  // Ref to use in useInterval\n  const runningRef = useRef(running);\n  runningRef.current = running;\n\n  useInterval(() => {\n    if (!runningRef.current) {\n      return;\n    }\n    setGrid((g) => simulation(g));\n  }, 200);\n\n  return (\n    <div\n      ref={refDiv}\n      style={{\n        width: \"100%\",\n        height: \"100vh\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n      }}\n    >\n      {buttonsVisible && (<div style={buttonWrapper}>\n        {/* Restart */}\n        <div\n          onClick={() => {\n            setRunning(false);\n            // update ref to prevent race condition?\n            // Not needed?\n            // runningRef.current = false;\n            setGrid(randomGrid());\n\n            setRunning(true);\n            // runningRef.current = true;\n          }}\n          style={buttonStyle}\n        >\n          {restartIcon}\n        </div>\n\n        {/* Play, stop */}\n        <div\n          onClick={() => {\n            if (running) {\n              setRunning(false);\n              // runningRef.current = false;\n            } else {\n              setRunning(true);\n              // runningRef.current = true;\n            }\n          }}\n          style={buttonStyle}\n        >\n          {running ? stopIcon : playIcon}\n        </div>\n      </div>)}\n\n      <div\n        className=\"grid\"\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: `repeat(${numCols}, ${size}px)`,\n        }}\n      >\n        {grid.map((row, i) =>\n          row.map((col, j) => (\n            <div\n              key={`row${i}-col${j}`}\n              style={{\n                width: size,\n                height: size,\n                backgroundColor: grid[i][j]\n                  ? \"var(--foreground-color)\"\n                  : undefined,\n                border: \"1px solid var(--foreground-color)\",\n                transition: \"none\",\n              }}\n            ></div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\n// SVGS\nconst fillColor = \"white\";\n\nconst playIcon = (\n  <svg\n    style={{ width: \"63%\" }}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    focusable=\"false\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    viewBox=\"-2 0 32 32\"\n    aria-hidden=\"true\"\n  >\n    <path\n      fill={fillColor}\n      d=\"M7,28a1,1,0,0,1-1-1V5a1,1,0,0,1,.5-.87,1,1,0,0,1,1,0l19,11a1,1,0,0,1,0,1.74l-19,11A1,1,0,0,1,7,28ZM8,6.73V25.27L24,16Z\"\n    />\n    <title>Play</title>\n  </svg>\n);\n\nconst stopIcon = (\n  <svg\n    style={{ width: \"63%\" }}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    focusable=\"false\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    viewBox=\"0 0 32 32\"\n    aria-hidden=\"true\"\n  >\n    <path\n      fill={fillColor}\n      d=\"M12,8V24H8V8h4m0-2H8A2,2,0,0,0,6,8V24a2,2,0,0,0,2,2h4a2,2,0,0,0,2-2V8a2,2,0,0,0-2-2Z\"\n    />\n    <path\n      fill={fillColor}\n      d=\"M24,8V24H20V8h4m0-2H20a2,2,0,0,0-2,2V24a2,2,0,0,0,2,2h4a2,2,0,0,0,2-2V8a2,2,0,0,0-2-2Z\"\n    />\n    <title>Pause</title>\n  </svg>\n);\n\nconst restartIcon = (\n  <svg\n    style={{ width: \"63%\" }}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    focusable=\"false\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    viewBox=\"0 0 32 32\"\n    aria-hidden=\"true\"\n  >\n    <path\n      fill={fillColor}\n      d=\"M25,18A10,10,0,1,1,15,8h6.18L17.6,11.59,19,13l6-6L19,1,17.6,2.41,21.19,6H15A12,12,0,1,0,27,18Z\"\n    />\n    <title>Restart</title>\n  </svg>\n);\n","import { useState, useRef, useMemo, useEffect } from 'react';\nimport { debounce } from 'debounce';\n\nfunction useMeasure({\n  debounce: debounce$1,\n  scroll,\n  polyfill\n} = {\n  debounce: 0,\n  scroll: false\n}) {\n  const ResizeObserver = polyfill || (typeof window === 'undefined' ? class ResizeObserver {} : window.ResizeObserver);\n\n  if (!ResizeObserver) {\n    throw new Error('This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills');\n  }\n\n  const [bounds, set] = useState({\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0,\n    bottom: 0,\n    right: 0,\n    x: 0,\n    y: 0\n  }); // keep all state in a ref\n\n  const state = useRef({\n    element: null,\n    scrollContainers: null,\n    resizeObserver: null,\n    lastBounds: bounds\n  }); // set actual debounce values early, so effects know if they should react accordingly\n\n  const scrollDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.scroll : null;\n  const resizeDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.resize : null; // memoize handlers, so event-listeners know when they should update\n\n  const [forceRefresh, resizeChange, scrollChange] = useMemo(() => {\n    const callback = () => {\n      if (!state.current.element) return;\n      const {\n        left,\n        top,\n        width,\n        height,\n        bottom,\n        right,\n        x,\n        y\n      } = state.current.element.getBoundingClientRect();\n      const size = {\n        left,\n        top,\n        width,\n        height,\n        bottom,\n        right,\n        x,\n        y\n      };\n      Object.freeze(size);\n      if (!areBoundsEqual(state.current.lastBounds, size)) set(state.current.lastBounds = size);\n    };\n\n    return [callback, resizeDebounce ? debounce(callback, resizeDebounce) : callback, scrollDebounce ? debounce(callback, scrollDebounce) : callback];\n  }, [set, scrollDebounce, resizeDebounce]); // cleanup current scroll-listeners / observers\n\n  function removeListeners() {\n    if (state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(element => element.removeEventListener('scroll', scrollChange, true));\n      state.current.scrollContainers = null;\n    }\n\n    if (state.current.resizeObserver) {\n      state.current.resizeObserver.disconnect();\n      state.current.resizeObserver = null;\n    }\n  } // add scroll-listeners / observers\n\n\n  function addListeners() {\n    if (!state.current.element) return;\n    state.current.resizeObserver = new ResizeObserver(scrollChange);\n    state.current.resizeObserver.observe(state.current.element);\n\n    if (scroll && state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(scrollContainer => scrollContainer.addEventListener('scroll', scrollChange, {\n        capture: true,\n        passive: true\n      }));\n    }\n  } // the ref we expose to the user\n\n\n  const ref = node => {\n    if (!node || node === state.current.element) return;\n    removeListeners();\n    state.current.element = node;\n    state.current.scrollContainers = findScrollContainers(node);\n    addListeners();\n  }; // add general event listeners\n\n\n  useOnWindowScroll(scrollChange, Boolean(scroll));\n  useOnWindowResize(resizeChange); // respond to changes that are relevant for the listeners\n\n  useEffect(() => {\n    removeListeners();\n    addListeners();\n  }, [scroll, scrollChange, resizeChange]); // remove all listeners when the components unmounts\n\n  useEffect(() => removeListeners, []);\n  return [ref, bounds, forceRefresh];\n} // Adds native resize listener to window\n\n\nfunction useOnWindowResize(onWindowResize) {\n  useEffect(() => {\n    const cb = onWindowResize;\n    window.addEventListener('resize', cb);\n    return () => void window.removeEventListener('resize', cb);\n  }, [onWindowResize]);\n}\n\nfunction useOnWindowScroll(onScroll, enabled) {\n  useEffect(() => {\n    if (enabled) {\n      const cb = onScroll;\n      window.addEventListener('scroll', cb, {\n        capture: true,\n        passive: true\n      });\n      return () => void window.removeEventListener('scroll', cb, true);\n    }\n  }, [onScroll, enabled]);\n} // Returns a list of scroll offsets\n\n\nfunction findScrollContainers(element) {\n  const result = [];\n  if (!element || element === document.body) return result;\n  const {\n    overflow,\n    overflowX,\n    overflowY\n  } = window.getComputedStyle(element);\n  if ([overflow, overflowX, overflowY].some(prop => prop === 'auto' || prop === 'scroll')) result.push(element);\n  return [...result, ...findScrollContainers(element.parentElement)];\n} // Checks if element boundaries are equal\n\n\nconst keys = ['x', 'y', 'top', 'bottom', 'left', 'right', 'width', 'height'];\n\nconst areBoundsEqual = (a, b) => keys.every(key => a[key] === b[key]);\n\nif (typeof module !== 'undefined' && Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(module, 'exports').writable) {\n  module.exports = useMeasure;\n}\n\nexport default useMeasure;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n"],"sourceRoot":""}