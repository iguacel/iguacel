(this["webpackJsonpraster-react-canvas2"]=this["webpackJsonpraster-react-canvas2"]||[]).push([[41],{333:function(e,t,i){"use strict";i.r(t);var n=i(25),o=i(5),s=i(17),a=i(3),r=i(0),l=i.n(r),c=i(71),p=i(292),u=[{index:0,date:"1978-05-25",dateTxt:"May 25, 1978",state:"IL",cell:30,place:"Illinois: Northwestern University",type:"Explosion",explosion:!0,nExplosion:1,victim:"Terry Marker",occupation:"University police officer",injuries:"Minor cuts and burns"},{index:1,date:"1979-05-09",dateTxt:"May 9, 1979",state:"IL",cell:30,place:"Illinois: Northwestern University",type:"Explosion",explosion:!0,nExplosion:2,victim:"John Harris",occupation:"Graduate student",injuries:"Minor cuts and burns"},{index:2,date:"1979-11-15",dateTxt:"November 15, 1979",state:"IL",cell:30,place:"Illinois: American Airlines Flight 444 from Chicago to Washington, D.C. (explosion occurred midflight)",type:"Explosion",explosion:!0,nExplosion:3,victim:"Twelve passengers",occupation:"''Multiple''",injuries:"Non-lethal smoke inhalation"},{index:3,date:"1980-06-10",dateTxt:"June 10, 1980",state:"IL",cell:30,place:"Illinois: Lake Forest, Illinois - Lake Forest",type:"Explosion",explosion:!0,nExplosion:4,victim:"Percy Wood",occupation:"President of United Airlines",injuries:"Severe cuts and burns over most of body and face"},{index:4,date:"1981-10-08",dateTxt:"October 8, 1981",state:"UT",cell:50,place:"Utah: University of Utah",type:"Bomb defused",explosion:!1,nExplosion:1,victim:"n.a.",occupation:"n.a.",injuries:"n.a."},{index:5,date:"1982-05-05",dateTxt:"May 5, 1982",state:"TN",cell:66,place:"Tennessee: Vanderbilt University",type:"Explosion",explosion:!0,nExplosion:1,victim:"Janet Smith",occupation:"University secretary",injuries:"Severe burns to hands; Fragmentation (weaponry)|shrapnel wounds to body"},{index:6,date:"1982-07-02",dateTxt:"July 2, 1982",state:"CA",cell:49,place:"California: University of California, Berkeley",type:"Explosion",explosion:!0,nExplosion:1,victim:"Diogenes Angelakos",occupation:"Engineering professor",injuries:"Severe burns and shrapnel wounds to hand and face"},{index:7,date:"1985-05-15",dateTxt:"May 15, 1985",state:"CA",cell:49,place:"California: University of California, Berkeley",type:"Explosion",explosion:!0,nExplosion:2,victim:"John Hauser",occupation:"Graduate student",injuries:"Loss of four fingers and severed artery in right arm; partial loss of vision in left eye"},{index:8,date:"1985-06-13",dateTxt:"June 13, 1985",state:"WA",cell:25,place:"Washington: The Boeing Company in Auburn, Washington",type:"Bomb defused",explosion:!1,nExplosion:1,victim:"n.a.",occupation:"n.a.",injuries:"n.a."},{index:9,date:"1985-11-15",dateTxt:"November 15, 1985",state:"MI",cell:31,place:"Michigan: University of Michigan",type:"Explosion",explosion:!0,nExplosion:1,victim:"James V. McConnell<hr />Nicklaus Suino",occupation:"Psychology professor<hr />Research assistant",injuries:"Temporary hearing loss<hr />Burns and shrapnel wounds"},{index:10,date:"1985-12-11",dateTxt:"December 11, 1985",state:"CA",cell:49,place:"California: Sacramento, California|Sacramento",type:"Explosion",explosion:!0,nExplosion:3,victim:"Hugh Scrutton",occupation:"Computer store owner",injuries:"Death"},{index:11,date:"1987-02-20",dateTxt:"February 20, 1987",state:"UT",cell:50,place:"Utah: Salt Lake City",type:"Explosion",explosion:!0,nExplosion:2,victim:"Gary Wright",occupation:"Computer store owner",injuries:"Severe nerve damage to left arm"},{index:12,date:"1993-06-22",dateTxt:"June 22, 1993",state:"CA",cell:49,place:"California: Tiburon, California|Tiburon",type:"Explosion",explosion:!0,nExplosion:4,victim:"Charles Epstein (geneticist)|Charles Epstein",occupation:"Geneticist",injuries:"Severe damage to both eardrums with partial hearing loss, loss of three fingers"},{index:13,date:"1993-06-24",dateTxt:"June 24, 1993",state:"CT",cell:46,place:"Connecticut: Yale University",type:"Explosion",explosion:!0,nExplosion:1,victim:"David Gelernter",occupation:"Computer science professor",injuries:"Severe burns and shrapnel wounds, damage to right eye, loss of right hand"},{index:14,date:"1994-12-10",dateTxt:"December 10, 1994",state:"NJ",cell:45,place:"New Jersey: North Caldwell, New Jersey|North Caldwell",type:"Explosion",explosion:!0,nExplosion:1,victim:"Thomas J. Mosser",occupation:"Advertising executive",injuries:"Death"},{index:15,date:"1995-04-24",dateTxt:"April 24, 1995",state:"CA",cell:49,place:"California: Sacramento",type:"Explosion",explosion:!0,nExplosion:5,victim:"Gilbert Brent Murray",occupation:"Timber industry lobbyist",injuries:"Death"}],h=[84,85,37,49,25,62,38,26,50,63,39,27,51,76,64,88,40,28,52,77,41,65,29,53,66,78,18,30,42,54,67,43,79,31,55,68,80,44,56,33,69,93,57,45,22,34,46,58,23,47,11],d=[25,49,50,66,30,31,45,46],x={s25:"WA",s49:"CA",s50:"UT",s66:"TN",s30:"IL",s31:"MI",s45:"NJ",s46:"CT"},f=i(13),m=i(26);t.default=function(){var e=Object(c.a)(),t=Object(a.a)(e,2),i=t[0],y=t[1],v=y.width,b=y.height,g=Object(r.useRef)(null),E=Object(r.useRef)(),T=Object(r.useContext)(f.c).language.isEnglish,w=["",T?"Winter":"Invierno",T?"Winter":"Invierno",T?"Spring":"Primavera",T?"Spring":"Primavera",T?"Spring":"Primavera",T?"Summer":"Verano",T?"Summer":"Verano",T?"Summer":"Verano",T?"Autumn":"Oto\xf1o",T?"Autumn":"Oto\xf1o",T?"Autumn":"Oto\xf1o",T?"Winter":"Invierno"];Object(r.useEffect)((function(){return E.current=requestAnimationFrame(P),function(){return cancelAnimationFrame(E.current)}}));var j=0,C=new Date,A=1,B=200,S="RGBA(173, 135, 98, 1)",k="RGBA(173, 177, 181, 1)",I=new Date(u[0].date);I.setMonth(I.getMonth()-45);var O=new Date(u[u.length-1].date);O.setMonth(O.getMonth()+4);var M=[];u.forEach((function(e){return M.push(new Date(e.date))}));var D={WA:{position:null,center:null,nBombs:0},CA:{position:null,center:null,nBombs:0},UT:{position:null,center:null,nBombs:0},TN:{position:null,center:null,nBombs:0},IL:{position:null,center:null,nBombs:0},MI:{position:null,center:null,nBombs:0},NJ:{position:null,center:null,nBombs:0},CT:{position:null,center:null,nBombs:0}},U=Object(p.a)().domain([I,O]).range([0,4*v]),J=function(){function e(t,i,n,s){Object(o.a)(this,e),this.x=t,this.y=i,this.size=n,this.state=s}return Object(s.a)(e,[{key:"draw",value:function(e){e.save(),e.font="8px Inter",e.textAlign="left",e.fillStyle="gray",e.fillText("".concat(this.state),this.x+4,this.y+12,this.size,this.size),e.fillStyle=u[j].state===this.state?"RGBA(173, 135, 98, 0.30)":"RGBA(97, 92, 87, 0.20)",e.fillRect(this.x,this.y,this.size,this.size),e.restore()}},{key:"update",value:function(e){this.draw(e)}}]),e}(),N=function(){function e(t,i,n,s,a,r){Object(o.a)(this,e),this.d=t,this.x=i,this.y=n,this.size=s,this.color=a,this.nExplosion=r,this.dropBombTime=0,this.dropSpeed=.01}return Object(s.a)(e,[{key:"draw",value:function(e){e.save(),e.beginPath(e),e.rect(this.x,this.y,this.size,this.size),e.fillStyle=this.color,e.fill(),e.closePath(),e.restore(),e.restore()}},{key:"update",value:function(e){this.draw(e),new Date(C)>new Date(this.d.date)&&(j=this.d.index,this.animateBomb(e))}},{key:"animateBomb",value:function(e){var t={x:v/2,y:B},i=D[u[j].state].position,n=function(e,t){for(var n=[],o=0;o<e;o++)for(var s=0;s<e;s++)n.push([s*t-4+(i.x+8),o*t-4+(i.y+9),t-4]);return n}(3,v/12/3.3);this.dropBombTime<1?(this.x=Object(m.f)(t.x,n[this.nExplosion+2][0],this.dropBombTime),this.y=Object(m.f)(t.y,n[this.nExplosion+2][1],this.dropBombTime),this.size=Object(m.f)(this.size,n[this.nExplosion+2][2],this.dropBombTime),this.dropBombTime+=this.dropSpeed):(this.x=n[this.nExplosion+2][0],this.y=n[this.nExplosion+2][1],this.size=n[this.nExplosion+2][2]),this.draw(e)}}]),e}(),z=function(){function e(t,i,n,s,a){Object(o.a)(this,e),this.d=t,this.x=i,this.y=n,this.size=s,this.color=a}return Object(s.a)(e,[{key:"draw",value:function(e){e.save(),e.beginPath(e),e.rect(this.x,this.y,this.size,this.size),e.globalAlpha=new Date(C)<new Date(this.d.date)?.8:.2,e.fillStyle=this.color,e.fill(),e.closePath(),e.restore()}}]),e}(),W=[];u.forEach((function(e,t){var i=B-10,n=e.explosion?S:k,o=e.nExplosion;W.push(new N(e,-100,i,20,n,o))}));var P=function e(){var t=g.current.getContext("2d"),i=window.devicePixelRatio||1;g.current.width=v*i,g.current.height=b*i,g.current.style.width="".concat(v,"px"),g.current.style.height="".concat(b,"px"),t.scale(i,i),t.clearRect(0,0,v,b),C=U.invert(v-v/2-A),function(e){var t=v/12,i=0,o=(b-8*t)/2+50,s=null;e.font="12px Inter";for(var a=0;a<8;a++)for(var r=0;r<12;r++){if(h.includes(i)&&(e.save(),e.strokeStyle="gray",e.lineWidth=.5,e.strokeRect(r*t,a*t+o,t,t),e.stroke(),e.restore()),d.includes(i)){s=x["s".concat(i)];var l={x:r*t,y:a*t+o},c={x:r*t+t/2,y:a*t+o+t/2};D[s]=Object(n.a)(Object(n.a)({},D[s]),{},{center:c,position:l}),new J(l.x,l.y,t,s).update(e)}i+=1}}(t),u.forEach((function(e,i){var n=U(new Date(e.date))+A,o=B-10,s=e.explosion?S:k;new z(e,n,o,20,s).draw(t)})),W.forEach((function(e){return e.update(t)})),function(e,t,i){e.save();var n=t.ticks(22),o=t.tickFormat();n.forEach((function(n){e.moveTo(t(n)+i,B+10),e.lineTo(t(n)+i,B-10)})),e.font="12px Inter",e.fillStyle="gray",e.textAlign="center",e.textBaseline="top",n.forEach((function(n){e.fillText(o(n),t(n)+i,-30+B)})),e.restore()}(t,U,A),function(e){e.save(),e.fillStyle="gray",e.textAlign="center",e.textBaseline="top",e.font="18px Inter",e.fillText("".concat(w[new Date(C).getMonth()+1]),v/2,B-130),e.font="45px Inter",e.fillText("".concat(new Date(C).getFullYear()),v/2,B-100),e.restore()}(t),A=j!==u[u.length-1].index?A-1.5:A-.2,E.current=requestAnimationFrame(e)};return l.a.createElement("div",{ref:i,style:{width:"100%",height:"100vh",maxWidth:"700px",margin:"0 auto"}},l.a.createElement("div",{className:"line",style:{position:"fixed",top:"".concat(B,"px"),right:"0px",width:"100%",height:"1px",background:"transparent",borderTop:"1px solid var(--foreground-color)",opacity:.5}}),l.a.createElement("canvas",{ref:g,width:v,height:b}))}}}]);
//# sourceMappingURL=41.ef387122.chunk.js.map