(this["webpackJsonpraster-react-canvas2"]=this["webpackJsonpraster-react-canvas2"]||[]).push([[13,20],{101:function(e,t,o){"use strict";function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}o.d(t,"a",(function(){return a}))},125:function(e,t,o){(function(t){var o="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,n=o||a||Function("return this")();function r(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}function i(e,t){for(var o=-1,a=t.length,n=e.length;++o<a;)e[n+o]=t[o];return e}var s=Object.prototype,c=s.hasOwnProperty,l=s.toString,u=n.Symbol,p=s.propertyIsEnumerable,h=u?u.isConcatSpreadable:void 0,m=Math.max;function d(e){return v(e)||function(e){return function(e){return b(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&c.call(e,"callee")&&(!p.call(e,"callee")||"[object Arguments]"==l.call(e))}(e)||!!(h&&e&&e[h])}function f(e){if("string"==typeof e||function(e){return"symbol"==typeof e||b(e)&&"[object Symbol]"==l.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var v=Array.isArray;function b(e){return!!e&&"object"==typeof e}var g,y,w=(g=function(e,t){return null==e?{}:function(e,t){return function(e,t,o){for(var a=-1,n=t.length,r={};++a<n;){var i=t[a],s=e[i];o(s,i)&&(r[i]=s)}return r}(e=Object(e),t,(function(t,o){return o in e}))}(e,function(e,t){for(var o=-1,a=e?e.length:0,n=Array(a);++o<a;)n[o]=t(e[o],o,e);return n}(function e(t,o,a,n,r){var s=-1,c=t.length;for(a||(a=d),r||(r=[]);++s<c;){var l=t[s];o>0&&a(l)?o>1?e(l,o-1,a,n,r):i(r,l):n||(r[r.length]=l)}return r}(t,1),f))},y=m(void 0===y?g.length-1:y,0),function(){for(var e=arguments,t=-1,o=m(e.length-y,0),a=Array(o);++t<o;)a[t]=e[y+t];t=-1;for(var n=Array(y+1);++t<y;)n[t]=e[t];return n[y]=a,r(g,this,n)});e.exports=w}).call(this,o(39))},126:function(e,t,o){(function(t){var o=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function s(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}function c(e,t){return!!(e?e.length:0)&&function(e,t,o){if(t!==t)return function(e,t,o,a){var n=e.length,r=o+(a?1:-1);for(;a?r--:++r<n;)if(t(e[r],r,e))return r;return-1}(e,h,o);var a=o-1,n=e.length;for(;++a<n;)if(e[a]===t)return a;return-1}(e,t,0)>-1}function l(e,t,o){for(var a=-1,n=e?e.length:0;++a<n;)if(o(t,e[a]))return!0;return!1}function u(e,t){for(var o=-1,a=e?e.length:0,n=Array(a);++o<a;)n[o]=t(e[o],o,e);return n}function p(e,t){for(var o=-1,a=t.length,n=e.length;++o<a;)e[n+o]=t[o];return e}function h(e){return e!==e}function m(e,t){return e.has(t)}function d(e,t){return function(o){return e(t(o))}}var f=Array.prototype,v=Function.prototype,b=Object.prototype,g=i["__core-js_shared__"],y=function(){var e=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),w=v.toString,M=b.hasOwnProperty,E=b.toString,x=RegExp("^"+w.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=i.Symbol,T=d(Object.getPrototypeOf,Object),L=b.propertyIsEnumerable,A=f.splice,R=S?S.isConcatSpreadable:void 0,C=Object.getOwnPropertySymbols,P=Math.max,O=H(i,"Map"),_=H(Object,"create");function I(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var a=e[t];this.set(a[0],a[1])}}function j(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var a=e[t];this.set(a[0],a[1])}}function D(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var a=e[t];this.set(a[0],a[1])}}function N(e){var t=-1,o=e?e.length:0;for(this.__data__=new D;++t<o;)this.add(e[t])}function B(e,t){var o=q(e)||W(e)?function(e,t){for(var o=-1,a=Array(e);++o<e;)a[o]=t(o);return a}(e.length,String):[],a=o.length,n=!!a;for(var r in e)!t&&!M.call(e,r)||n&&("length"==r||Z(r,a))||o.push(r);return o}function U(e,t){for(var o,a,n=e.length;n--;)if((o=e[n][0])===(a=t)||o!==o&&a!==a)return n;return-1}function G(e){return!(!$(e)||(t=e,y&&y in t))&&(J(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(o){}return t}(e)?x:o).test(function(e){if(null!=e){try{return w.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function F(e){if(!$(e))return function(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t}(e);var t=function(e){var t=e&&e.constructor,o="function"==typeof t&&t.prototype||b;return e===o}(e),o=[];for(var a in e)("constructor"!=a||!t&&M.call(e,a))&&o.push(a);return o}function k(e){return function(e,t,o){var a=t(e);return q(e)?a:p(a,o(e))}(e,te,Y)}function V(e,t){var o=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?o["string"==typeof t?"string":"hash"]:o.map}function H(e,t){var o=function(e,t){return null==e?void 0:e[t]}(e,t);return G(o)?o:void 0}I.prototype.clear=function(){this.__data__=_?_(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var t=this.__data__;if(_){var o=t[e];return"__lodash_hash_undefined__"===o?void 0:o}return M.call(t,e)?t[e]:void 0},I.prototype.has=function(e){var t=this.__data__;return _?void 0!==t[e]:M.call(t,e)},I.prototype.set=function(e,t){return this.__data__[e]=_&&void 0===t?"__lodash_hash_undefined__":t,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(e){var t=this.__data__,o=U(t,e);return!(o<0)&&(o==t.length-1?t.pop():A.call(t,o,1),!0)},j.prototype.get=function(e){var t=this.__data__,o=U(t,e);return o<0?void 0:t[o][1]},j.prototype.has=function(e){return U(this.__data__,e)>-1},j.prototype.set=function(e,t){var o=this.__data__,a=U(o,e);return a<0?o.push([e,t]):o[a][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new I,map:new(O||j),string:new I}},D.prototype.delete=function(e){return V(this,e).delete(e)},D.prototype.get=function(e){return V(this,e).get(e)},D.prototype.has=function(e){return V(this,e).has(e)},D.prototype.set=function(e,t){return V(this,e).set(e,t),this},N.prototype.add=N.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},N.prototype.has=function(e){return this.__data__.has(e)};var z=C?d(C,Object):re,Y=C?function(e){for(var t=[];e;)p(t,z(e)),e=T(e);return t}:re;function X(e){return q(e)||W(e)||!!(R&&e&&e[R])}function Z(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function K(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ee(e)&&"[object Symbol]"==E.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function W(e){return function(e){return ee(e)&&Q(e)}(e)&&M.call(e,"callee")&&(!L.call(e,"callee")||"[object Arguments]"==E.call(e))}var q=Array.isArray;function Q(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!J(e)}function J(e){var t=$(e)?E.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){return!!e&&"object"==typeof e}function te(e){return Q(e)?B(e,!0):F(e)}var oe,ae,ne=(oe=function(e,t){return null==e?{}:(t=u(function e(t,o,a,n,r){var i=-1,s=t.length;for(a||(a=X),r||(r=[]);++i<s;){var c=t[i];o>0&&a(c)?o>1?e(c,o-1,a,n,r):p(r,c):n||(r[r.length]=c)}return r}(t,1),K),function(e,t){return function(e,t,o){for(var a=-1,n=t.length,r={};++a<n;){var i=t[a],s=e[i];o(s,i)&&(r[i]=s)}return r}(e=Object(e),t,(function(t,o){return o in e}))}(e,function(e,t,o,a){var n,r=-1,i=c,s=!0,p=e.length,h=[],d=t.length;if(!p)return h;o&&(t=u(t,(n=o,function(e){return n(e)}))),a?(i=l,s=!1):t.length>=200&&(i=m,s=!1,t=new N(t));e:for(;++r<p;){var f=e[r],v=o?o(f):f;if(f=a||0!==f?f:0,s&&v===v){for(var b=d;b--;)if(t[b]===v)continue e;h.push(f)}else i(t,v,a)||h.push(f)}return h}(k(e),t)))},ae=P(void 0===ae?oe.length-1:ae,0),function(){for(var e=arguments,t=-1,o=P(e.length-ae,0),a=Array(o);++t<o;)a[t]=e[ae+t];t=-1;for(var n=Array(ae+1);++t<ae;)n[t]=e[t];return n[ae]=a,s(oe,this,n)});function re(){return[]}e.exports=ne}).call(this,o(39))},127:function(e,t,o){var a=function e(){function t(e){return n.appendChild(e.dom),e}function o(e){for(var t=0;t<n.children.length;t++)n.children[t].style.display=t===e?"block":"none";a=e}var a=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(e){e.preventDefault(),o(++a%n.children.length)}),!1);var r=(performance||Date).now(),i=r,s=0,c=t(new e.Panel("FPS","#0ff","#002")),l=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=t(new e.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:n,addPanel:t,showPanel:o,begin:function(){r=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-r,200),e>i+1e3&&(c.update(1e3*s/(e-i),100),i=e,s=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:n,setMode:o}};a.Panel=function(e,t,o){var a=1/0,n=0,r=Math.round,i=r(window.devicePixelRatio||1),s=80*i,c=48*i,l=3*i,u=2*i,p=3*i,h=15*i,m=74*i,d=30*i,f=document.createElement("canvas");f.width=s,f.height=c,f.style.cssText="width:80px;height:48px";var v=f.getContext("2d");return v.font="bold "+9*i+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=o,v.fillRect(0,0,s,c),v.fillStyle=t,v.fillText(e,l,u),v.fillRect(p,h,m,d),v.fillStyle=o,v.globalAlpha=.9,v.fillRect(p,h,m,d),{dom:f,update:function(c,b){a=Math.min(a,c),n=Math.max(n,c),v.fillStyle=o,v.globalAlpha=1,v.fillRect(0,0,s,h),v.fillStyle=t,v.fillText(r(c)+" "+e+" ("+r(a)+"-"+r(n)+")",l,u),v.drawImage(f,p+i,h,m-i,d,p,h,m-i,d),v.fillRect(p+m-i,h,i,d),v.fillStyle=o,v.globalAlpha=.9,v.fillRect(p+m-i,h,i,r((1-c/b)*d))}}},e.exports=a},130:function(e,t,o){"use strict";o.d(t,"a",(function(){return H})),o.d(t,"b",(function(){return B})),o.d(t,"c",(function(){return U}));o(16);var a=o(5),n=o(17),r=o(14),i=o(8),s=o(9),c=(o(42),o(12)),l=o(3),u=o(122),p=o(123),h=o(0),m=o.n(h),d=o(74),f=(o(120),o(72)),v=(o(85),o(80),o(90),o(124),o(99)),b=o(88),g=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),f.Object3D.call(this),this.visible=!1,this.domElement=t;var o=new y;this.add(o);var a=new w;this.add(a);var n=this;H("camera",e),H("object",void 0),H("enabled",!0),H("axis",null),H("mode","translate"),H("translationSnap",null),H("rotationSnap",null),H("scaleSnap",null),H("space","world"),H("size",1),H("dragging",!1),H("showX",!0),H("showY",!0),H("showZ",!0);var r={type:"change"},i={type:"mouseDown"},s={type:"mouseUp",mode:n.mode},c={type:"objectChange"},l=new f.Raycaster;function u(e,t,o){for(var a=t.intersectObject(e,!0),n=0;n<a.length;n++)if(a[n].object.visible||o)return a[n];return!1}var p=new f.Vector3,h=new f.Vector3,m=new f.Quaternion,d={X:new f.Vector3(1,0,0),Y:new f.Vector3(0,1,0),Z:new f.Vector3(0,0,1)},v=new f.Vector3,b=new f.Vector3,g=new f.Vector3,M=new f.Vector3,E=new f.Vector3,x=new f.Vector3,S=0,T=new f.Vector3,L=new f.Quaternion,A=new f.Vector3,R=new f.Vector3,C=new f.Quaternion,P=new f.Quaternion,O=new f.Vector3,_=new f.Vector3,I=new f.Quaternion,j=new f.Vector3,D=new f.Vector3,N=new f.Quaternion,B=new f.Quaternion,U=new f.Vector3,G=new f.Vector3,F=new f.Vector3,k=new f.Quaternion,V=new f.Vector3;function H(e,t){var i=t;Object.defineProperty(n,e,{get:function(){return void 0!==i?i:t},set:function(t){i!==t&&(i=t,a[e]=t,o[e]=t,n.dispatchEvent({type:e+"-changed",value:t}),n.dispatchEvent(r))}}),n[e]=t,a[e]=t,o[e]=t}function z(e){if(document.pointerLockElement)return{x:0,y:0,button:e.button};var o=e.changedTouches?e.changedTouches[0]:e,a=t.getBoundingClientRect();return{x:(o.clientX-a.left)/a.width*2-1,y:-(o.clientY-a.top)/a.height*2+1,button:e.button}}function Y(e){n.enabled&&n.pointerHover(z(e))}function X(e){n.enabled&&(document.addEventListener("mousemove",Z,!1),n.pointerHover(z(e)),n.pointerDown(z(e)))}function Z(e){n.enabled&&n.pointerMove(z(e))}function K(e){n.enabled&&(document.removeEventListener("mousemove",Z,!1),n.pointerUp(z(e)))}H("worldPosition",D),H("worldPositionStart",_),H("worldQuaternion",N),H("worldQuaternionStart",I),H("cameraPosition",T),H("cameraQuaternion",L),H("pointStart",v),H("pointEnd",b),H("rotationAxis",M),H("rotationAngle",S),H("eye",G),t.addEventListener("mousedown",X,!1),t.addEventListener("touchstart",X,!1),t.addEventListener("mousemove",Y,!1),t.addEventListener("touchmove",Y,!1),t.addEventListener("touchmove",Z,!1),document.addEventListener("mouseup",K,!1),t.addEventListener("touchend",K,!1),t.addEventListener("touchcancel",K,!1),t.addEventListener("touchleave",K,!1),this.dispose=function(){t.removeEventListener("mousedown",X),t.removeEventListener("touchstart",X),t.removeEventListener("mousemove",Y),document.removeEventListener("mousemove",Z),t.removeEventListener("touchmove",Y),t.removeEventListener("touchmove",Z),document.removeEventListener("mouseup",K),t.removeEventListener("touchend",K),t.removeEventListener("touchcancel",K),t.removeEventListener("touchleave",K),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(R,C,O),this.object.matrixWorld.decompose(D,N,U),P.copy(C).inverse(),B.copy(N).inverse()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(T,L,A),G.copy(T).sub(D).normalize(),f.Object3D.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)){l.setFromCamera(e,this.camera);var t=u(o.picker[this.mode],l);this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)&&(0===e.button||void 0===e.button)&&null!==this.axis){l.setFromCamera(e,this.camera);var t=u(a,l,!0);if(t){var o=this.space;if("scale"===this.mode?o="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(o="world"),"local"===o&&"rotate"===this.mode){var n=this.rotationSnap;"X"===this.axis&&n&&(this.object.rotation.x=Math.round(this.object.rotation.x/n)*n),"Y"===this.axis&&n&&(this.object.rotation.y=Math.round(this.object.rotation.y/n)*n),"Z"===this.axis&&n&&(this.object.rotation.z=Math.round(this.object.rotation.z/n)*n)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),F.copy(this.object.position),k.copy(this.object.quaternion),V.copy(this.object.scale),this.object.matrixWorld.decompose(_,I,j),v.copy(t.point).sub(_)}this.dragging=!0,i.mode=this.mode,this.dispatchEvent(i)}},this.pointerMove=function(e){var t=this.axis,o=this.mode,n=this.object,i=this.space;if("scale"===o?i="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(i="world"),void 0!==n&&null!==t&&!1!==this.dragging&&(void 0===e.button||0===e.button)){l.setFromCamera(e,this.camera);var s=u(a,l,!0);if(s){if(b.copy(s.point).sub(_),"translate"===o)g.copy(b).sub(v),"local"===i&&"XYZ"!==t&&g.applyQuaternion(B),-1===t.indexOf("X")&&(g.x=0),-1===t.indexOf("Y")&&(g.y=0),-1===t.indexOf("Z")&&(g.z=0),"local"===i&&"XYZ"!==t?g.applyQuaternion(k).divide(O):g.applyQuaternion(P).divide(O),n.position.copy(g).add(F),this.translationSnap&&("local"===i&&(n.position.applyQuaternion(m.copy(k).inverse()),-1!==t.search("X")&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.position.applyQuaternion(k)),"world"===i&&(n.parent&&n.position.add(p.setFromMatrixPosition(n.parent.matrixWorld)),-1!==t.search("X")&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.parent&&n.position.sub(p.setFromMatrixPosition(n.parent.matrixWorld))));else if("scale"===o){if(-1!==t.search("XYZ")){var f=b.length()/v.length();b.dot(v)<0&&(f*=-1),h.set(f,f,f)}else p.copy(v),h.copy(b),p.applyQuaternion(B),h.applyQuaternion(B),h.divide(p),-1===t.search("X")&&(h.x=1),-1===t.search("Y")&&(h.y=1),-1===t.search("Z")&&(h.z=1);n.scale.copy(V).multiply(h),this.scaleSnap&&(-1!==t.search("X")&&(n.scale.x=Math.round(n.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(n.scale.y=Math.round(n.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(n.scale.z=Math.round(n.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===o){g.copy(b).sub(v);var y=20/D.distanceTo(p.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(M.copy(G),S=b.angleTo(v),E.copy(v).normalize(),x.copy(b).normalize(),S*=x.cross(E).dot(G)<0?1:-1):"XYZE"===t?(M.copy(g).cross(G).normalize(),S=g.dot(p.copy(M).cross(this.eye))*y):"X"!==t&&"Y"!==t&&"Z"!==t||(M.copy(d[t]),p.copy(d[t]),"local"===i&&p.applyQuaternion(N),S=g.dot(p.cross(G).normalize())*y),this.rotationSnap&&(S=Math.round(S/this.rotationSnap)*this.rotationSnap),this.rotationAngle=S,"local"===i&&"E"!==t&&"XYZE"!==t?(n.quaternion.copy(k),n.quaternion.multiply(m.setFromAxisAngle(M,S)).normalize()):(M.applyQuaternion(P),n.quaternion.copy(m.setFromAxisAngle(M,S)),n.quaternion.multiply(k).normalize())}this.dispatchEvent(r),this.dispatchEvent(c)}}},this.pointerUp=function(e){void 0!==e.button&&0!==e.button||(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,void 0===e.button&&(this.axis=null))},this.getMode=function(){return n.mode},this.setMode=function(e){n.mode=e},this.setTranslationSnap=function(e){n.translationSnap=e},this.setRotationSnap=function(e){n.rotationSnap=e},this.setScaleSnap=function(e){n.scaleSnap=e},this.setSize=function(e){n.size=e},this.setSpace=function(e){n.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}};g.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:g,isTransformControls:!0});var y=function(){f.Object3D.call(this),this.type="TransformControlsGizmo";var e=new f.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:f.DoubleSide,fog:!1}),t=new f.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1}),o=e.clone();o.opacity=.15;var a=e.clone();a.opacity=.33;var n=e.clone();n.color.set(16711680);var r=e.clone();r.color.set(65280);var i=e.clone();i.color.set(255);var s=e.clone();s.opacity=.25;var c=s.clone();c.color.set(16776960);var l=s.clone();l.color.set(65535);var u=s.clone();u.color.set(16711935),e.clone().color.set(16776960);var p=t.clone();p.color.set(16711680);var h=t.clone();h.color.set(65280);var m=t.clone();m.color.set(255);var d=t.clone();d.color.set(65535);var v=t.clone();v.color.set(16711935);var b=t.clone();b.color.set(16776960);var g=t.clone();g.color.set(7895160);var y=b.clone();y.opacity=.25;var w=new f.CylinderBufferGeometry(0,.05,.2,12,1,!1),M=new f.BoxBufferGeometry(.125,.125,.125),E=new f.BufferGeometry;E.setAttribute("position",new f.Float32BufferAttribute([0,0,0,1,0,0],3));var x=function(e,t){for(var o=new f.BufferGeometry,a=[],n=0;n<=64*t;++n)a.push(0,Math.cos(n/32*Math.PI)*e,Math.sin(n/32*Math.PI)*e);return o.setAttribute("position",new f.Float32BufferAttribute(a,3)),o},S={X:[[new f.Mesh(w,n),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new f.Mesh(w,n),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new f.Line(E,p)]],Y:[[new f.Mesh(w,r),[0,1,0],null,null,"fwd"],[new f.Mesh(w,r),[0,1,0],[Math.PI,0,0],null,"bwd"],[new f.Line(E,h),null,[0,0,Math.PI/2]]],Z:[[new f.Mesh(w,i),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new f.Mesh(w,i),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new f.Line(E,m),null,[0,-Math.PI/2,0]]],XYZ:[[new f.Mesh(new f.OctahedronBufferGeometry(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new f.Mesh(new f.PlaneBufferGeometry(.295,.295),c.clone()),[.15,.15,0]],[new f.Line(E,b),[.18,.3,0],null,[.125,1,1]],[new f.Line(E,b),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new f.Mesh(new f.PlaneBufferGeometry(.295,.295),l.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new f.Line(E,d),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new f.Line(E,d),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new f.Mesh(new f.PlaneBufferGeometry(.295,.295),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new f.Line(E,v),[.18,0,.3],null,[.125,1,1]],[new f.Line(E,v),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},T={X:[[new f.Mesh(new f.CylinderBufferGeometry(.2,0,1,4,1,!1),o),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new f.Mesh(new f.CylinderBufferGeometry(.2,0,1,4,1,!1),o),[0,.6,0]]],Z:[[new f.Mesh(new f.CylinderBufferGeometry(.2,0,1,4,1,!1),o),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new f.Mesh(new f.OctahedronBufferGeometry(.2,0),o)]],XY:[[new f.Mesh(new f.PlaneBufferGeometry(.4,.4),o),[.2,.2,0]]],YZ:[[new f.Mesh(new f.PlaneBufferGeometry(.4,.4),o),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new f.Mesh(new f.PlaneBufferGeometry(.4,.4),o),[.2,0,.2],[-Math.PI/2,0,0]]]},L={START:[[new f.Mesh(new f.OctahedronBufferGeometry(.01,2),a),null,null,null,"helper"]],END:[[new f.Mesh(new f.OctahedronBufferGeometry(.01,2),a),null,null,null,"helper"]],DELTA:[[new f.Line(function(){var e=new f.BufferGeometry;return e.setAttribute("position",new f.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),a),null,null,null,"helper"]],X:[[new f.Line(E,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new f.Line(E,a.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new f.Line(E,a.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},A={X:[[new f.Line(x(1,.5),p)],[new f.Mesh(new f.OctahedronBufferGeometry(.04,0),n),[0,0,.99],null,[1,3,1]]],Y:[[new f.Line(x(1,.5),h),null,[0,0,-Math.PI/2]],[new f.Mesh(new f.OctahedronBufferGeometry(.04,0),r),[0,0,.99],null,[3,1,1]]],Z:[[new f.Line(x(1,.5),m),null,[0,Math.PI/2,0]],[new f.Mesh(new f.OctahedronBufferGeometry(.04,0),i),[.99,0,0],null,[1,3,1]]],E:[[new f.Line(x(1.25,1),y),null,[0,Math.PI/2,0]],[new f.Mesh(new f.CylinderBufferGeometry(.03,0,.15,4,1,!1),y),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new f.Mesh(new f.CylinderBufferGeometry(.03,0,.15,4,1,!1),y),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new f.Mesh(new f.CylinderBufferGeometry(.03,0,.15,4,1,!1),y),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new f.Mesh(new f.CylinderBufferGeometry(.03,0,.15,4,1,!1),y),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new f.Line(x(1,1),g),null,[0,Math.PI/2,0]]]},R={AXIS:[[new f.Line(E,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},C={X:[[new f.Mesh(new f.TorusBufferGeometry(1,.1,4,24),o),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new f.Mesh(new f.TorusBufferGeometry(1,.1,4,24),o),[0,0,0],[Math.PI/2,0,0]]],Z:[[new f.Mesh(new f.TorusBufferGeometry(1,.1,4,24),o),[0,0,0],[0,0,-Math.PI/2]]],E:[[new f.Mesh(new f.TorusBufferGeometry(1.25,.1,2,24),o)]],XYZE:[[new f.Mesh(new f.SphereBufferGeometry(.7,10,8),o)]]},P={X:[[new f.Mesh(M,n),[.8,0,0],[0,0,-Math.PI/2]],[new f.Line(E,p),null,null,[.8,1,1]]],Y:[[new f.Mesh(M,r),[0,.8,0]],[new f.Line(E,h),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new f.Mesh(M,i),[0,0,.8],[Math.PI/2,0,0]],[new f.Line(E,m),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new f.Mesh(M,c),[.85,.85,0],null,[2,2,.2]],[new f.Line(E,b),[.855,.98,0],null,[.125,1,1]],[new f.Line(E,b),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new f.Mesh(M,l),[0,.85,.85],null,[.2,2,2]],[new f.Line(E,d),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new f.Line(E,d),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new f.Mesh(M,u),[.85,0,.85],null,[2,.2,2]],[new f.Line(E,v),[.855,0,.98],null,[.125,1,1]],[new f.Line(E,v),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new f.Mesh(new f.BoxBufferGeometry(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new f.Mesh(new f.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new f.Mesh(new f.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,0,1.1]]]},O={X:[[new f.Mesh(new f.CylinderBufferGeometry(.2,0,.8,4,1,!1),o),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new f.Mesh(new f.CylinderBufferGeometry(.2,0,.8,4,1,!1),o),[0,.5,0]]],Z:[[new f.Mesh(new f.CylinderBufferGeometry(.2,0,.8,4,1,!1),o),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new f.Mesh(M,o),[.85,.85,0],null,[3,3,.2]]],YZ:[[new f.Mesh(M,o),[0,.85,.85],null,[.2,3,3]]],XZ:[[new f.Mesh(M,o),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new f.Mesh(new f.BoxBufferGeometry(.2,.2,.2),o),[1.1,0,0]]],XYZY:[[new f.Mesh(new f.BoxBufferGeometry(.2,.2,.2),o),[0,1.1,0]]],XYZZ:[[new f.Mesh(new f.BoxBufferGeometry(.2,.2,.2),o),[0,0,1.1]]]},_={X:[[new f.Line(E,a.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new f.Line(E,a.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new f.Line(E,a.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},I=function(e){var t=new f.Object3D;for(var o in e)for(var a=e[o].length;a--;){var n=e[o][a][0].clone(),r=e[o][a][1],i=e[o][a][2],s=e[o][a][3],c=e[o][a][4];n.name=o,n.tag=c,r&&n.position.set(r[0],r[1],r[2]),i&&n.rotation.set(i[0],i[1],i[2]),s&&n.scale.set(s[0],s[1],s[2]),n.updateMatrix();var l=n.geometry.clone();l.applyMatrix4(n.matrix),n.geometry=l,n.renderOrder=1/0,n.position.set(0,0,0),n.rotation.set(0,0,0),n.scale.set(1,1,1),t.add(n)}return t},j=new f.Vector3(0,0,0),D=new f.Euler,N=new f.Vector3(0,1,0),B=new f.Vector3(0,0,0),U=new f.Matrix4,G=new f.Quaternion,F=new f.Quaternion,k=new f.Quaternion,V=new f.Vector3(1,0,0),H=new f.Vector3(0,1,0),z=new f.Vector3(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=I(S)),this.add(this.gizmo.rotate=I(A)),this.add(this.gizmo.scale=I(P)),this.add(this.picker.translate=I(T)),this.add(this.picker.rotate=I(C)),this.add(this.picker.scale=I(O)),this.add(this.helper.translate=I(L)),this.add(this.helper.rotate=I(R)),this.add(this.helper.scale=I(_)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:k;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var o=[];o=(o=(o=o.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var a=0;a<o.length;a++){var n,r=o[a];if(r.visible=!0,r.rotation.set(0,0,0),r.position.copy(this.worldPosition),n=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),r.scale.set(1,1,1).multiplyScalar(n*this.size/7),"helper"!==r.tag){if(r.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){"X"!==r.name&&"XYZX"!==r.name||Math.abs(N.copy(V).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"Y"!==r.name&&"XYZY"!==r.name||Math.abs(N.copy(H).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"Z"!==r.name&&"XYZZ"!==r.name||Math.abs(N.copy(z).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"XY"===r.name&&Math.abs(N.copy(z).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"YZ"===r.name&&Math.abs(N.copy(V).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"XZ"===r.name&&Math.abs(N.copy(H).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),-1!==r.name.search("X")&&(N.copy(V).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.x*=-1:"bwd"===r.tag&&(r.visible=!1)),-1!==r.name.search("Y")&&(N.copy(H).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.y*=-1:"bwd"===r.tag&&(r.visible=!1)),-1!==r.name.search("Z")&&(N.copy(z).applyQuaternion(t).dot(this.eye)<0?"fwd"===r.tag?r.visible=!1:r.scale.z*=-1:"bwd"===r.tag&&(r.visible=!1))}else"rotate"===this.mode&&(F.copy(t),N.copy(this.eye).applyQuaternion(G.copy(t).inverse()),-1!==r.name.search("E")&&r.quaternion.setFromRotationMatrix(U.lookAt(this.eye,B,H)),"X"===r.name&&(G.setFromAxisAngle(V,Math.atan2(-N.y,N.z)),G.multiplyQuaternions(F,G),r.quaternion.copy(G)),"Y"===r.name&&(G.setFromAxisAngle(H,Math.atan2(N.x,N.z)),G.multiplyQuaternions(F,G),r.quaternion.copy(G)),"Z"===r.name&&(G.setFromAxisAngle(z,Math.atan2(N.y,N.x)),G.multiplyQuaternions(F,G),r.quaternion.copy(G)));r.visible=r.visible&&(-1===r.name.indexOf("X")||this.showX),r.visible=r.visible&&(-1===r.name.indexOf("Y")||this.showY),r.visible=r.visible&&(-1===r.name.indexOf("Z")||this.showZ),r.visible=r.visible&&(-1===r.name.indexOf("E")||this.showX&&this.showY&&this.showZ),r.material._opacity=r.material._opacity||r.material.opacity,r.material._color=r.material._color||r.material.color.clone(),r.material.color.copy(r.material._color),r.material.opacity=r.material._opacity,this.enabled?this.axis&&(r.name===this.axis||this.axis.split("").some((function(e){return r.name===e}))?(r.material.opacity=1,r.material.color.lerp(new f.Color(1,1,1),.5)):(r.material.opacity*=.25,r.material.color.lerp(new f.Color(1,1,1),.5))):(r.material.opacity*=.5,r.material.color.lerp(new f.Color(1,1,1),.5))}else r.visible=!1,"AXIS"===r.name?(r.position.copy(this.worldPositionStart),r.visible=!!this.axis,"X"===this.axis&&(G.setFromEuler(D.set(0,0,0)),r.quaternion.copy(t).multiply(G),Math.abs(N.copy(V).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"Y"===this.axis&&(G.setFromEuler(D.set(0,0,Math.PI/2)),r.quaternion.copy(t).multiply(G),Math.abs(N.copy(H).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"Z"===this.axis&&(G.setFromEuler(D.set(0,Math.PI/2,0)),r.quaternion.copy(t).multiply(G),Math.abs(N.copy(z).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"XYZE"===this.axis&&(G.setFromEuler(D.set(0,Math.PI/2,0)),N.copy(this.rotationAxis),r.quaternion.setFromRotationMatrix(U.lookAt(B,N,H)),r.quaternion.multiply(G),r.visible=this.dragging),"E"===this.axis&&(r.visible=!1)):"START"===r.name?(r.position.copy(this.worldPositionStart),r.visible=this.dragging):"END"===r.name?(r.position.copy(this.worldPosition),r.visible=this.dragging):"DELTA"===r.name?(r.position.copy(this.worldPositionStart),r.quaternion.copy(this.worldQuaternionStart),j.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),j.applyQuaternion(this.worldQuaternionStart.clone().inverse()),r.scale.copy(j),r.visible=this.dragging):(r.quaternion.copy(t),this.dragging?r.position.copy(this.worldPositionStart):r.position.copy(this.worldPosition),this.axis&&(r.visible=-1!==this.axis.search(r.name)))}f.Object3D.prototype.updateMatrixWorld.call(this)}};y.prototype=Object.assign(Object.create(f.Object3D.prototype),{constructor:y,isTransformControlsGizmo:!0});var w=function(){f.Mesh.call(this,new f.PlaneBufferGeometry(1e5,1e5,2,2),new f.MeshBasicMaterial({visible:!1,wireframe:!0,side:f.DoubleSide,transparent:!0,opacity:.1})),this.type="TransformControlsPlane";var e=new f.Vector3(1,0,0),t=new f.Vector3(0,1,0),o=new f.Vector3(0,0,1),a=new f.Vector3,n=new f.Vector3,r=new f.Vector3,i=new f.Matrix4,s=new f.Quaternion;this.updateMatrixWorld=function(){var c=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(c="local"),e.set(1,0,0).applyQuaternion("local"===c?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===c?this.worldQuaternion:s),o.set(0,0,1).applyQuaternion("local"===c?this.worldQuaternion:s),r.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":r.copy(this.eye).cross(e),n.copy(e).cross(r);break;case"Y":r.copy(this.eye).cross(t),n.copy(t).cross(r);break;case"Z":r.copy(this.eye).cross(o),n.copy(o).cross(r);break;case"XY":n.copy(o);break;case"YZ":n.copy(e);break;case"XZ":r.copy(o),n.copy(t);break;case"XYZ":case"E":n.set(0,0,0)}break;case"rotate":default:n.set(0,0,0)}0===n.length()?this.quaternion.copy(this.cameraQuaternion):(i.lookAt(a.set(0,0,0),n,r),this.quaternion.setFromRotationMatrix(i)),f.Object3D.prototype.updateMatrixWorld.call(this)}};w.prototype=Object.assign(Object.create(f.Mesh.prototype),{constructor:w,isTransformControlsPlane:!0});o(125),o(126);var M=function(e,t){void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),this.domElement=t,this.isLocked=!1;var o=this,a={type:"change"},n={type:"lock"},r={type:"unlock"},i=new f.Euler(0,0,0,"YXZ"),s=Math.PI/2,c=new f.Vector3;function l(t){if(!1!==o.isLocked){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;i.setFromQuaternion(e.quaternion),i.y-=.002*n,i.x-=.002*r,i.x=Math.max(-s,Math.min(s,i.x)),e.quaternion.setFromEuler(i),o.dispatchEvent(a)}}function u(){document.pointerLockElement===o.domElement?(o.dispatchEvent(n),o.isLocked=!0):(o.dispatchEvent(r),o.isLocked=!1)}function p(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){document.addEventListener("mousemove",l,!1),document.addEventListener("pointerlockchange",u,!1),document.addEventListener("pointerlockerror",p,!1)},this.disconnect=function(){document.removeEventListener("mousemove",l,!1),document.removeEventListener("pointerlockchange",u,!1),document.removeEventListener("pointerlockerror",p,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return e},this.getDirection=function(){var t=new f.Vector3(0,0,-1);return function(o){return o.copy(t).applyQuaternion(e.quaternion)}}(),this.moveForward=function(t){c.setFromMatrixColumn(e.matrix,0),c.crossVectors(e.up,c),e.position.addScaledVector(c,t)},this.moveRight=function(t){c.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(c,t)},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){document.exitPointerLock()},this.connect()};(M.prototype=Object.create(f.EventDispatcher.prototype)).constructor=M;var E=function(e){f.Loader.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};E.prototype=Object.assign(Object.create(f.Loader.prototype),{constructor:E,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,o,a){var n=this,r=new f.FileLoader(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&r.setWithCredentials(!0),r.load(e,(function(e){var o={attributeIDs:n.defaultAttributeIDs,attributeTypes:n.defaultAttributeTypes,useUniqueIDs:!1};n.decodeGeometry(e,o).then(t).catch(a)}),o,a)},decodeDracoFile:function(e,t,o,a){var n={attributeIDs:o||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!o};this.decodeGeometry(e,n).then(t)},decodeGeometry:function(e,t){var o=this;for(var a in t.attributeTypes){var n=t.attributeTypes[a];void 0!==n.BYTES_PER_ELEMENT&&(t.attributeTypes[a]=n.name)}var r,i=JSON.stringify(t);if(E.taskCache.has(e)){var s=E.taskCache.get(e);if(s.key===i)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var c=this.workerNextTaskID++,l=e.byteLength,u=this._getWorker(c,l).then((function(o){return r=o,new Promise((function(o,a){r._callbacks[c]={resolve:o,reject:a},r.postMessage({type:"decode",id:c,taskConfig:t,buffer:e},[e])}))})).then((function(e){return o._createGeometry(e.geometry)}));return u.catch((function(){return!0})).then((function(){r&&c&&o._releaseTask(r,c)})),E.taskCache.set(e,{key:i,promise:u}),u},_createGeometry:function(e){var t=new f.BufferGeometry;e.index&&t.setIndex(new f.BufferAttribute(e.index.array,1));for(var o=0;o<e.attributes.length;o++){var a=e.attributes[o],n=a.name,r=a.array,i=a.itemSize;t.setAttribute(n,new f.BufferAttribute(r,i))}return t},_loadLibrary:function(e,t){var o=new f.FileLoader(this.manager);return o.setPath(this.decoderPath),o.setResponseType(t),new Promise((function(t,a){o.load(e,t,void 0,a)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,o=[];return t?o.push(this._loadLibrary("draco_decoder.js","text")):(o.push(this._loadLibrary("draco_wasm_wrapper.js","text")),o.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(o).then((function(o){var a=o[0];t||(e.decoderConfig.wasmBinary=o[1]);var n=E.DRACOWorker.toString(),r=["/* draco decoder */",a,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([r]))})),this.decoderPending},_getWorker:function(e,t){var o=this;return this._initDecoder().then((function(){var a;o.workerPool.length<o.workerLimit?((a=new Worker(o.workerSourceURL))._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:o.decoderConfig}),a.onmessage=function(e){var t=e.data;switch(t.type){case"decode":a._callbacks[t.id].resolve(t);break;case"error":a._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},o.workerPool.push(a)):o.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(a=o.workerPool[o.workerPool.length-1])._taskCosts[e]=t,a._taskLoad+=t,a}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),E.DRACOWorker=function(){var e,t;function o(e,t,o,a,n,r){var i,s,c=r.num_components(),l=o.num_points()*c;switch(n){case Float32Array:i=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(o,r,i),s=new Float32Array(l);break;case Int8Array:i=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(o,r,i),s=new Int8Array(l);break;case Int16Array:i=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(o,r,i),s=new Int16Array(l);break;case Int32Array:i=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(o,r,i),s=new Int32Array(l);break;case Uint8Array:i=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(o,r,i),s=new Uint8Array(l);break;case Uint16Array:i=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(o,r,i),s=new Uint16Array(l);break;case Uint32Array:i=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(o,r,i),s=new Uint32Array(l);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var u=0;u<l;u++)s[u]=i.GetValue(u);return e.destroy(i),{name:a,array:s,itemSize:c}}onmessage=function(a){var n=a.data;switch(n.type){case"init":e=n.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var r=n.buffer,i=n.taskConfig;t.then((function(e){var t=e.draco,a=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(r),r.byteLength);try{var c=function(e,t,a,n){var r,i,s=n.attributeIDs,c=n.attributeTypes,l=t.GetEncodedGeometryType(a);if(l===e.TRIANGULAR_MESH)r=new e.Mesh,i=t.DecodeBufferToMesh(a,r);else{if(l!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");r=new e.PointCloud,i=t.DecodeBufferToPointCloud(a,r)}if(!i.ok()||0===r.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+i.error_msg());var u={index:null,attributes:[]};for(var p in s){var h,m,d=self[c[p]];if(n.useUniqueIDs)m=s[p],h=t.GetAttributeByUniqueId(r,m);else{if(-1===(m=t.GetAttributeId(r,e[s[p]])))continue;h=t.GetAttribute(r,m)}u.attributes.push(o(e,t,r,p,d,h))}if(l===e.TRIANGULAR_MESH){for(var f=r.num_faces(),v=new Uint32Array(3*f),b=new e.DracoInt32Array,g=0;g<f;++g){t.GetFaceFromMesh(r,g,b);for(var y=0;y<3;++y)v[3*g+y]=b.GetValue(y)}u.index={array:v,itemSize:1},e.destroy(b)}return e.destroy(r),u}(t,a,s,i),l=c.attributes.map((function(e){return e.array.buffer}));c.index&&l.push(c.index.array.buffer),self.postMessage({type:"decode",id:n.id,geometry:c},l)}catch(u){console.error(u),self.postMessage({type:"error",id:n.id,error:u.message})}finally{t.destroy(s),t.destroy(a)}}))}}},E.taskCache=new WeakMap,E.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},E.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},E.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},E.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};!function(){function e(e){f.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,o){e[t]=o},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(f.Loader.prototype),{constructor:e,load:function(e,t,o,a){var n,r=this;n=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:f.LoaderUtils.extractUrlBase(e),r.manager.itemStart(e);var i=function(t){a?a(t):console.error(t),r.manager.itemError(e),r.manager.itemEnd(e)},s=new f.FileLoader(r.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),"use-credentials"===r.crossOrigin&&s.setWithCredentials(!0),s.load(e,(function(o){try{r.parse(o,n,(function(o){t(o),r.manager.itemEnd(e)}),i)}catch(a){i(a)}}),o,i)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},parse:function(e,t,c,l){var m,b={};if("string"===typeof e)m=e;else if(f.LoaderUtils.decodeText(new Uint8Array(e,0,4))===s){try{b[o.KHR_BINARY_GLTF]=new u(e)}catch(x){return void(l&&l(x))}m=b[o.KHR_BINARY_GLTF].content}else m=f.LoaderUtils.decodeText(new Uint8Array(e));var g=JSON.parse(m);if(void 0===g.asset||g.asset.version[0]<2)l&&l(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{if(g.extensionsUsed)for(var y=0;y<g.extensionsUsed.length;++y){var w=g.extensionsUsed[y],M=g.extensionsRequired||[];switch(w){case o.KHR_LIGHTS_PUNCTUAL:b[w]=new n(g);break;case o.KHR_MATERIALS_CLEARCOAT:b[w]=new i;break;case o.KHR_MATERIALS_UNLIT:b[w]=new r;break;case o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:b[w]=new d;break;case o.KHR_DRACO_MESH_COMPRESSION:b[w]=new p(g,this.dracoLoader);break;case o.MSFT_TEXTURE_DDS:b[w]=new a(this.ddsLoader);break;case o.KHR_TEXTURE_TRANSFORM:b[w]=new h;break;case o.KHR_MESH_QUANTIZATION:b[w]=new v;break;default:M.indexOf(w)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}var E=new V(g,b,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});E.fileLoader.setRequestHeader(this.requestHeader),E.parse(c,l)}}});var o={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function a(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=o.MSFT_TEXTURE_DDS,this.ddsLoader=e}function n(e){this.name=o.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[o.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function r(){this.name=o.KHR_MATERIALS_UNLIT}function i(){this.name=o.KHR_MATERIALS_CLEARCOAT}n.prototype.loadLight=function(e){var t,o=this.lightDefs[e],a=new f.Color(16777215);void 0!==o.color&&a.fromArray(o.color);var n=void 0!==o.range?o.range:0;switch(o.type){case"directional":(t=new f.DirectionalLight(a)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new f.PointLight(a)).distance=n;break;case"spot":(t=new f.SpotLight(a)).distance=n,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,t.angle=o.spot.outerConeAngle,t.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+o.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==o.intensity&&(t.intensity=o.intensity),t.name=o.name||"light_"+e,Promise.resolve(t)},r.prototype.getMaterialType=function(){return f.MeshBasicMaterial},r.prototype.extendParams=function(e,t,o){var a=[];e.color=new f.Color(1,1,1),e.opacity=1;var n=t.pbrMetallicRoughness;if(n){if(Array.isArray(n.baseColorFactor)){var r=n.baseColorFactor;e.color.fromArray(r),e.opacity=r[3]}void 0!==n.baseColorTexture&&a.push(o.assignTexture(e,"map",n.baseColorTexture))}return Promise.all(a)},i.prototype.getMaterialType=function(){return f.MeshPhysicalMaterial},i.prototype.extendParams=function(e,t,o){var a=[],n=t.extensions[this.name];if(void 0!==n.clearcoatFactor&&(e.clearcoat=n.clearcoatFactor),void 0!==n.clearcoatTexture&&a.push(o.assignTexture(e,"clearcoatMap",n.clearcoatTexture)),void 0!==n.clearcoatRoughnessFactor&&(e.clearcoatRoughness=n.clearcoatRoughnessFactor),void 0!==n.clearcoatRoughnessTexture&&a.push(o.assignTexture(e,"clearcoatRoughnessMap",n.clearcoatRoughnessTexture)),void 0!==n.clearcoatNormalTexture&&(a.push(o.assignTexture(e,"clearcoatNormalMap",n.clearcoatNormalTexture)),void 0!==n.clearcoatNormalTexture.scale)){var r=n.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new f.Vector2(r,r)}return Promise.all(a)};var s="glTF",c=1313821514,l=5130562;function u(e){this.name=o.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:f.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==s)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var a=new DataView(e,12),n=0;n<a.byteLength;){var r=a.getUint32(n,!0);n+=4;var i=a.getUint32(n,!0);if(n+=4,i===c){var u=new Uint8Array(e,12+n,r);this.content=f.LoaderUtils.decodeText(u)}else if(i===l){var p=12+n;this.body=e.slice(p,p+r)}n+=r}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function p(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=o.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function h(){this.name=o.KHR_TEXTURE_TRANSFORM}function m(e){f.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),o=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),a=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),n=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),r=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),i={specular:{value:(new f.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=i,this.onBeforeCompile=function(e){for(var s in i)e.uniforms[s]=i[s];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",o),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",a),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",r)},Object.defineProperties(this,{specular:{get:function(){return i.specular.value},set:function(e){i.specular.value=e}},specularMap:{get:function(){return i.specularMap.value},set:function(e){i.specularMap.value=e}},glossiness:{get:function(){return i.glossiness.value},set:function(e){i.glossiness.value=e}},glossinessMap:{get:function(){return i.glossinessMap.value},set:function(e){i.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function d(){return{name:o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return m},extendParams:function(e,t,o){var a=t.extensions[this.name];e.color=new f.Color(1,1,1),e.opacity=1;var n=[];if(Array.isArray(a.diffuseFactor)){var r=a.diffuseFactor;e.color.fromArray(r),e.opacity=r[3]}if(void 0!==a.diffuseTexture&&n.push(o.assignTexture(e,"map",a.diffuseTexture)),e.emissive=new f.Color(0,0,0),e.glossiness=void 0!==a.glossinessFactor?a.glossinessFactor:1,e.specular=new f.Color(1,1,1),Array.isArray(a.specularFactor)&&e.specular.fromArray(a.specularFactor),void 0!==a.specularGlossinessTexture){var i=a.specularGlossinessTexture;n.push(o.assignTexture(e,"glossinessMap",i)),n.push(o.assignTexture(e,"specularMap",i))}return Promise.all(n)},createMaterial:function(e){var t=new m(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=f.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function v(){this.name=o.KHR_MESH_QUANTIZATION}function b(e,t,o,a){f.Interpolant.call(this,e,t,o,a)}p.prototype.decodePrimitive=function(e,t){var o=this.json,a=this.dracoLoader,n=e.extensions[this.name].bufferView,r=e.extensions[this.name].attributes,i={},s={},c={};for(var l in r){var u=C[l]||l.toLowerCase();i[u]=r[l]}for(l in e.attributes){u=C[l]||l.toLowerCase();if(void 0!==r[l]){var p=o.accessors[e.attributes[l]],h=T[p.componentType];c[u]=h,s[u]=!0===p.normalized}}return t.getDependency("bufferView",n).then((function(e){return new Promise((function(t){a.decodeDracoFile(e,(function(e){for(var o in e.attributes){var a=e.attributes[o],n=s[o];void 0!==n&&(a.normalized=n)}t(e)}),i,c)}))}))},h.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},m.prototype=Object.create(f.MeshStandardMaterial.prototype),m.prototype.constructor=m,m.prototype.copy=function(e){return f.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},b.prototype=Object.create(f.Interpolant.prototype),b.prototype.constructor=b,b.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,o=this.sampleValues,a=this.valueSize,n=e*a*3+a,r=0;r!==a;r++)t[r]=o[n+r];return t},b.prototype.beforeStart_=b.prototype.copySampleValue_,b.prototype.afterEnd_=b.prototype.copySampleValue_,b.prototype.interpolate_=function(e,t,o,a){for(var n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=2*i,c=3*i,l=a-t,u=(o-t)/l,p=u*u,h=p*u,m=e*c,d=m-c,f=-2*h+3*p,v=h-p,b=1-f,g=v-p+u,y=0;y!==i;y++){var w=r[d+y+i],M=r[d+y+s]*l,E=r[m+y+i],x=r[m+y]*l;n[y]=b*w+g*M+f*E+v*x}return n};var g=0,y=1,w=2,M=3,E=4,x=5,S=6,T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},L={9728:f.NearestFilter,9729:f.LinearFilter,9984:f.NearestMipmapNearestFilter,9985:f.LinearMipmapNearestFilter,9986:f.NearestMipmapLinearFilter,9987:f.LinearMipmapLinearFilter},A={33071:f.ClampToEdgeWrapping,33648:f.MirroredRepeatWrapping,10497:f.RepeatWrapping},R={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},C={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},P={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},O={CUBICSPLINE:void 0,LINEAR:f.InterpolateLinear,STEP:f.InterpolateDiscrete},_="OPAQUE",I="MASK",j="BLEND",D={"image/png":f.RGBAFormat,"image/jpeg":f.RGBFormat};function N(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function B(e,t,o){for(var a in o.extensions)void 0===e[a]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[a]=o.extensions[a])}function U(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function G(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var o=0,a=t.weights.length;o<a;o++)e.morphTargetInfluences[o]=t.weights[o];if(t.extras&&Array.isArray(t.extras.targetNames)){var n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(o=0,a=n.length;o<a;o++)e.morphTargetDictionary[n[o]]=o}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function F(e){var t=e.extensions&&e.extensions[o.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+k(t.attributes):e.indices+":"+k(e.attributes)+":"+e.mode}function k(e){for(var t="",o=Object.keys(e).sort(),a=0,n=o.length;a<n;a++)t+=o[a]+":"+e[o[a]]+";";return t}function V(e,o,a){this.json=e||{},this.extensions=o||{},this.options=a||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.textureLoader=new f.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new f.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function H(e,t,o){var a=t.attributes,n=[];function r(t,a){return o.getDependency("accessor",t).then((function(t){e.setAttribute(a,t)}))}for(var i in a){var s=C[i]||i.toLowerCase();s in e.attributes||n.push(r(a[i],s))}if(void 0!==t.indices&&!e.index){var c=o.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));n.push(c)}return U(e,t),function(e,t,o){var a=t.attributes,n=new f.Box3;if(void 0!==a.POSITION){var r=(m=o.json.accessors[a.POSITION]).min,i=m.max;if(void 0!==r&&void 0!==i){n.set(new f.Vector3(r[0],r[1],r[2]),new f.Vector3(i[0],i[1],i[2]));var s=t.targets;if(void 0!==s){for(var c=new f.Vector3,l=new f.Vector3,u=0,p=s.length;u<p;u++){var h=s[u];if(void 0!==h.POSITION){var m;r=(m=o.json.accessors[h.POSITION]).min,i=m.max;void 0!==r&&void 0!==i?(l.setX(Math.max(Math.abs(r[0]),Math.abs(i[0]))),l.setY(Math.max(Math.abs(r[1]),Math.abs(i[1]))),l.setZ(Math.max(Math.abs(r[2]),Math.abs(i[2]))),c.max(l)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(c)}e.boundingBox=n;var d=new f.Sphere;n.getCenter(d.center),d.radius=n.min.distanceTo(n.max)/2,e.boundingSphere=d}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,o),Promise.all(n).then((function(){return void 0!==t.targets?function(e,t,o){for(var a=!1,n=!1,r=0,i=t.length;r<i;r++){if(void 0!==(l=t[r]).POSITION&&(a=!0),void 0!==l.NORMAL&&(n=!0),a&&n)break}if(!a&&!n)return Promise.resolve(e);var s=[],c=[];for(r=0,i=t.length;r<i;r++){var l=t[r];if(a){var u=void 0!==l.POSITION?o.getDependency("accessor",l.POSITION):e.attributes.position;s.push(u)}if(n){u=void 0!==l.NORMAL?o.getDependency("accessor",l.NORMAL):e.attributes.normal;c.push(u)}}return Promise.all([Promise.all(s),Promise.all(c)]).then((function(t){var o=t[0],r=t[1];return a&&(e.morphAttributes.position=o),n&&(e.morphAttributes.normal=r),e.morphTargetsRelative=!0,e}))}(e,t.targets,o):e}))}function z(e,t){var o=e.getIndex();if(null===o){var a=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var r=0;r<n.count;r++)a.push(r);e.setIndex(a),o=e.getIndex()}var i=o.count-2,s=[];if(t===f.TriangleFanDrawMode)for(r=1;r<=i;r++)s.push(o.getX(0)),s.push(o.getX(r)),s.push(o.getX(r+1));else for(r=0;r<i;r++)r%2===0?(s.push(o.getX(r)),s.push(o.getX(r+1)),s.push(o.getX(r+2))):(s.push(o.getX(r+2)),s.push(o.getX(r+1)),s.push(o.getX(r)));s.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}V.prototype.parse=function(e,t){var o=this,a=this.json,n=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var r={scene:t[0][a.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:a.asset,parser:o,userData:{}};B(n,r,a),U(r,a),e(r)})).catch(t)},V.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],o=this.json.meshes||[],a={},n={},r=0,i=t.length;r<i;r++)for(var s=t[r].joints,c=0,l=s.length;c<l;c++)e[s[c]].isBone=!0;for(var u=0,p=e.length;u<p;u++){var h=e[u];void 0!==h.mesh&&(void 0===a[h.mesh]&&(a[h.mesh]=n[h.mesh]=0),a[h.mesh]++,void 0!==h.skin&&(o[h.mesh].isSkinnedMesh=!0))}this.json.meshReferences=a,this.json.meshUses=n},V.prototype.getDependency=function(e,t){var a=e+":"+t,n=this.cache.get(a);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this.loadMesh(t);break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this.loadBufferView(t);break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this.loadMaterial(t);break;case"texture":n=this.loadTexture(t);break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;case"light":n=this.extensions[o.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(a,n)}return n},V.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var o=this,a=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(a.map((function(t,a){return o.getDependency(e,a)}))),this.cache.add(e,t)}return t},V.prototype.loadBuffer=function(e){var t=this.json.buffers[e],a=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[o.KHR_BINARY_GLTF].body);var n=this.options;return new Promise((function(e,o){a.load(N(t.uri,n.path),e,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},V.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var o=t.byteLength||0,a=t.byteOffset||0;return e.slice(a,a+o)}))},V.prototype.loadAccessor=function(e){var t=this,o=this.json,a=this.json.accessors[e];if(void 0===a.bufferView&&void 0===a.sparse)return Promise.resolve(null);var n=[];return void 0!==a.bufferView?n.push(this.getDependency("bufferView",a.bufferView)):n.push(null),void 0!==a.sparse&&(n.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),n.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(n).then((function(e){var n,r,i=e[0],s=R[a.type],c=T[a.componentType],l=c.BYTES_PER_ELEMENT,u=l*s,p=a.byteOffset||0,h=void 0!==a.bufferView?o.bufferViews[a.bufferView].byteStride:void 0,m=!0===a.normalized;if(h&&h!==u){var d=Math.floor(p/h),v="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+d+":"+a.count,b=t.cache.get(v);b||(n=new c(i,d*h,a.count*h/l),b=new f.InterleavedBuffer(n,h/l),t.cache.add(v,b)),r=new f.InterleavedBufferAttribute(b,s,p%h/l,m)}else n=null===i?new c(a.count*s):new c(i,p,a.count*s),r=new f.BufferAttribute(n,s,m);if(void 0!==a.sparse){var g=R.SCALAR,y=T[a.sparse.indices.componentType],w=a.sparse.indices.byteOffset||0,M=a.sparse.values.byteOffset||0,E=new y(e[1],w,a.sparse.count*g),x=new c(e[2],M,a.sparse.count*s);null!==i&&(r=new f.BufferAttribute(r.array.slice(),r.itemSize,r.normalized));for(var S=0,L=E.length;S<L;S++){var A=E[S];if(r.setX(A,x[S*s]),s>=2&&r.setY(A,x[S*s+1]),s>=3&&r.setZ(A,x[S*s+2]),s>=4&&r.setW(A,x[S*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return r}))},V.prototype.loadTexture=function(e){var t,a=this,n=this.json,r=this.options,i=this.textureLoader,s=self.URL||self.webkitURL,c=n.textures[e],l=c.extensions||{},u=(t=l[o.MSFT_TEXTURE_DDS]?n.images[l[o.MSFT_TEXTURE_DDS].source]:n.images[c.source]).uri,p=!1;return void 0!==t.bufferView&&(u=a.getDependency("bufferView",t.bufferView).then((function(e){p=!0;var o=new Blob([e],{type:t.mimeType});return u=s.createObjectURL(o)}))),Promise.resolve(u).then((function(e){var t=r.manager.getHandler(e);return t||(t=l[o.MSFT_TEXTURE_DDS]?a.extensions[o.MSFT_TEXTURE_DDS].ddsLoader:i),new Promise((function(o,a){t.load(N(e,r.path),o,void 0,a)}))})).then((function(o){!0===p&&s.revokeObjectURL(u),o.flipY=!1,c.name&&(o.name=c.name),t.mimeType in D&&(o.format=D[t.mimeType]);var r=(n.samplers||{})[c.sampler]||{};return o.magFilter=L[r.magFilter]||f.LinearFilter,o.minFilter=L[r.minFilter]||f.LinearMipmapLinearFilter,o.wrapS=A[r.wrapS]||f.RepeatWrapping,o.wrapT=A[r.wrapT]||f.RepeatWrapping,a.associations.set(o,{type:"textures",index:e}),o}))},V.prototype.assignTexture=function(e,t,a){var n=this;return this.getDependency("texture",a.index).then((function(r){if(!r.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":r.format=f.RGBFormat}if(void 0===a.texCoord||0==a.texCoord||"aoMap"===t&&1==a.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+a.texCoord+" for texture "+t+" not yet supported."),n.extensions[o.KHR_TEXTURE_TRANSFORM]){var i=void 0!==a.extensions?a.extensions[o.KHR_TEXTURE_TRANSFORM]:void 0;if(i){var s=n.associations.get(r);r=n.extensions[o.KHR_TEXTURE_TRANSFORM].extendTexture(r,i),n.associations.set(r,s)}}e[t]=r}))},V.prototype.assignFinalMaterial=function(e){var t=e.geometry,o=e.material,a=void 0!==t.attributes.tangent,n=void 0!==t.attributes.color,r=void 0===t.attributes.normal,i=!0===e.isSkinnedMesh,s=Object.keys(t.morphAttributes).length>0,c=s&&void 0!==t.morphAttributes.normal;if(e.isPoints){var l="PointsMaterial:"+o.uuid,u=this.cache.get(l);u||(u=new f.PointsMaterial,f.Material.prototype.copy.call(u,o),u.color.copy(o.color),u.map=o.map,u.sizeAttenuation=!1,this.cache.add(l,u)),o=u}else if(e.isLine){l="LineBasicMaterial:"+o.uuid;var p=this.cache.get(l);p||(p=new f.LineBasicMaterial,f.Material.prototype.copy.call(p,o),p.color.copy(o.color),this.cache.add(l,p)),o=p}if(a||n||r||i||s){l="ClonedMaterial:"+o.uuid+":";o.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),i&&(l+="skinning:"),a&&(l+="vertex-tangents:"),n&&(l+="vertex-colors:"),r&&(l+="flat-shading:"),s&&(l+="morph-targets:"),c&&(l+="morph-normals:");var h=this.cache.get(l);h||(h=o.clone(),i&&(h.skinning=!0),a&&(h.vertexTangents=!0),n&&(h.vertexColors=!0),r&&(h.flatShading=!0),s&&(h.morphTargets=!0),c&&(h.morphNormals=!0),this.cache.add(l,h),this.associations.set(h,this.associations.get(o))),o=h}o.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),o.normalScale&&!a&&(o.normalScale.y=-o.normalScale.y),o.clearcoatNormalScale&&!a&&(o.clearcoatNormalScale.y=-o.clearcoatNormalScale.y),e.material=o},V.prototype.loadMaterial=function(e){var t,a=this,n=this.json,r=this.extensions,i=n.materials[e],s={},c=i.extensions||{},l=[];if(c[o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=r[o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(),l.push(u.extendParams(s,i,a))}else if(c[o.KHR_MATERIALS_UNLIT]){var p=r[o.KHR_MATERIALS_UNLIT];t=p.getMaterialType(),l.push(p.extendParams(s,i,a))}else{t=f.MeshStandardMaterial;var h=i.pbrMetallicRoughness||{};if(s.color=new f.Color(1,1,1),s.opacity=1,Array.isArray(h.baseColorFactor)){var d=h.baseColorFactor;s.color.fromArray(d),s.opacity=d[3]}void 0!==h.baseColorTexture&&l.push(a.assignTexture(s,"map",h.baseColorTexture)),s.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,s.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(l.push(a.assignTexture(s,"metalnessMap",h.metallicRoughnessTexture)),l.push(a.assignTexture(s,"roughnessMap",h.metallicRoughnessTexture)))}!0===i.doubleSided&&(s.side=f.DoubleSide);var v=i.alphaMode||_;if(v===j?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,v===I&&(s.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==f.MeshBasicMaterial&&(l.push(a.assignTexture(s,"normalMap",i.normalTexture)),s.normalScale=new f.Vector2(1,1),void 0!==i.normalTexture.scale&&s.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&t!==f.MeshBasicMaterial&&(l.push(a.assignTexture(s,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(s.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==f.MeshBasicMaterial&&(s.emissive=(new f.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==f.MeshBasicMaterial&&l.push(a.assignTexture(s,"emissiveMap",i.emissiveTexture)),c[o.KHR_MATERIALS_CLEARCOAT]){var b=r[o.KHR_MATERIALS_CLEARCOAT];t=b.getMaterialType(),l.push(b.extendParams(s,{extensions:c},a))}return Promise.all(l).then((function(){var n;return n=t===m?r[o.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),i.name&&(n.name=i.name),n.map&&(n.map.encoding=f.sRGBEncoding),n.emissiveMap&&(n.emissiveMap.encoding=f.sRGBEncoding),U(n,i),a.associations.set(n,{type:"materials",index:e}),i.extensions&&B(r,n,i),n}))},V.prototype.loadGeometries=function(e){var t=this,a=this.extensions,n=this.primitiveCache;function r(e){return a[o.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(o){return H(o,e,t)}))}for(var i=[],s=0,c=e.length;s<c;s++){var l,u=e[s],p=F(u),h=n[p];if(h)i.push(h.promise);else l=u.extensions&&u.extensions[o.KHR_DRACO_MESH_COMPRESSION]?r(u):H(new f.BufferGeometry,u,t),n[p]={primitive:u,promise:l},i.push(l)}return Promise.all(i)},V.prototype.loadMesh=function(e){for(var t,o=this,a=this.json.meshes[e],n=a.primitives,r=[],i=0,s=n.length;i<s;i++){var c=void 0===n[i].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new f.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:f.FrontSide})),t.DefaultMaterial):this.getDependency("material",n[i].material);r.push(c)}return r.push(o.loadGeometries(n)),Promise.all(r).then((function(t){for(var r=t.slice(0,t.length-1),i=t[t.length-1],s=[],c=0,l=i.length;c<l;c++){var u,p=i[c],h=n[c],m=r[c];if(h.mode===E||h.mode===x||h.mode===S||void 0===h.mode)!0!==(u=!0===a.isSkinnedMesh?new f.SkinnedMesh(p,m):new f.Mesh(p,m)).isSkinnedMesh||u.geometry.attributes.skinWeight.normalized||u.normalizeSkinWeights(),h.mode===x?u.geometry=z(u.geometry,f.TriangleStripDrawMode):h.mode===S&&(u.geometry=z(u.geometry,f.TriangleFanDrawMode));else if(h.mode===y)u=new f.LineSegments(p,m);else if(h.mode===M)u=new f.Line(p,m);else if(h.mode===w)u=new f.LineLoop(p,m);else{if(h.mode!==g)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);u=new f.Points(p,m)}Object.keys(u.geometry.morphAttributes).length>0&&G(u,a),u.name=a.name||"mesh_"+e,i.length>1&&(u.name+="_"+c),U(u,a),o.assignFinalMaterial(u),s.push(u)}if(1===s.length)return s[0];var d=new f.Group;for(c=0,l=s.length;c<l;c++)d.add(s[c]);return d}))},V.prototype.loadCamera=function(e){var t,o=this.json.cameras[e],a=o[o.type];if(a)return"perspective"===o.type?t=new f.PerspectiveCamera(f.MathUtils.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):"orthographic"===o.type&&(t=new f.OrthographicCamera(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),o.name&&(t.name=o.name),U(t,o),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},V.prototype.loadSkin=function(e){var t=this.json.skins[e],o={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(o):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return o.inverseBindMatrices=e,o}))},V.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],o=[],a=[],n=[],r=[],i=[],s=0,c=t.channels.length;s<c;s++){var l=t.channels[s],u=t.samplers[l.sampler],p=l.target,h=void 0!==p.node?p.node:p.id,m=void 0!==t.parameters?t.parameters[u.input]:u.input,d=void 0!==t.parameters?t.parameters[u.output]:u.output;o.push(this.getDependency("node",h)),a.push(this.getDependency("accessor",m)),n.push(this.getDependency("accessor",d)),r.push(u),i.push(p)}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(n),Promise.all(r),Promise.all(i)]).then((function(o){for(var a=o[0],n=o[1],r=o[2],i=o[3],s=o[4],c=[],l=0,u=a.length;l<u;l++){var p=a[l],h=n[l],m=r[l],d=i[l],v=s[l];if(void 0!==p){var g;switch(p.updateMatrix(),p.matrixAutoUpdate=!0,P[v.path]){case P.weights:g=f.NumberKeyframeTrack;break;case P.rotation:g=f.QuaternionKeyframeTrack;break;case P.position:case P.scale:default:g=f.VectorKeyframeTrack}var y=p.name?p.name:p.uuid,w=void 0!==d.interpolation?O[d.interpolation]:f.InterpolateLinear,M=[];P[v.path]===P.weights?p.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&M.push(e.name?e.name:e.uuid)})):M.push(y);var E=m.array;if(m.normalized){var x;if(E.constructor===Int8Array)x=1/127;else if(E.constructor===Uint8Array)x=1/255;else if(E.constructor==Int16Array)x=1/32767;else{if(E.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");x=1/65535}for(var S=new Float32Array(E.length),T=0,L=E.length;T<L;T++)S[T]=E[T]*x;E=S}for(T=0,L=M.length;T<L;T++){var A=new g(M[T]+"."+P[v.path],h.array,E,w);"CUBICSPLINE"===d.interpolation&&(A.createInterpolant=function(e){return new b(this.times,this.values,this.getValueSize()/3,e)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(A)}}}var R=t.name?t.name:"animation_"+e;return new f.AnimationClip(R,void 0,c)}))},V.prototype.loadNode=function(e){var t=this.json,a=this.extensions,n=this,r=t.meshReferences,i=t.meshUses,s=t.nodes[e];return function(){var e=[];return void 0!==s.mesh&&e.push(n.getDependency("mesh",s.mesh).then((function(e){var t;if(r[s.mesh]>1){var o=i[s.mesh]++;(t=e.clone()).name+="_instance_"+o}else t=e;return void 0!==s.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,o=s.weights.length;t<o;t++)e.morphTargetInfluences[t]=s.weights[t]})),t}))),void 0!==s.camera&&e.push(n.getDependency("camera",s.camera)),s.extensions&&s.extensions[o.KHR_LIGHTS_PUNCTUAL]&&void 0!==s.extensions[o.KHR_LIGHTS_PUNCTUAL].light&&e.push(n.getDependency("light",s.extensions[o.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(e)}().then((function(t){var o;if((o=!0===s.isBone?new f.Bone:t.length>1?new f.Group:1===t.length?t[0]:new f.Object3D)!==t[0])for(var r=0,i=t.length;r<i;r++)o.add(t[r]);if(s.name&&(o.userData.name=s.name,o.name=f.PropertyBinding.sanitizeNodeName(s.name)),U(o,s),s.extensions&&B(a,o,s),void 0!==s.matrix){var c=new f.Matrix4;c.fromArray(s.matrix),o.applyMatrix4(c)}else void 0!==s.translation&&o.position.fromArray(s.translation),void 0!==s.rotation&&o.quaternion.fromArray(s.rotation),void 0!==s.scale&&o.scale.fromArray(s.scale);return n.associations.set(o,{type:"nodes",index:e}),o}))},V.prototype.loadScene=function(){function e(t,o,a,n){var r=a.nodes[t];return n.getDependency("node",t).then((function(e){return void 0===r.skin?e:n.getDependency("skin",r.skin).then((function(e){for(var o=[],a=0,r=(t=e).joints.length;a<r;a++)o.push(n.getDependency("node",t.joints[a]));return Promise.all(o)})).then((function(o){return e.traverse((function(e){if(e.isMesh){for(var a=[],n=[],r=0,i=o.length;r<i;r++){var s=o[r];if(s){a.push(s);var c=new f.Matrix4;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*r),n.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[r])}e.bind(new f.Skeleton(a,n),e.matrixWorld)}})),e}));var t})).then((function(t){o.add(t);var i=[];if(r.children)for(var s=r.children,c=0,l=s.length;c<l;c++){var u=s[c];i.push(e(u,t,a,n))}return Promise.all(i)}))}return function(t){var o=this.json,a=this.extensions,n=this.json.scenes[t],r=new f.Group;n.name&&(r.name=n.name),U(r,n),n.extensions&&B(a,r,n);for(var i=n.nodes||[],s=[],c=0,l=i.length;c<l;c++)s.push(e(i[c],r,o,this));return Promise.all(s).then((function(){return r}))}}()}();var x=o(33),S=o.n(x);function T(e){var t,o=new Set,a=function(e,a){var n="function"===typeof e?e(t):e;n!==t&&(t=a?n:Object.assign({},t,n),o.forEach((function(e){return e(t)})))},n=function(){return t},r={setState:a,getState:n,subscribe:function(e,a,r){return a||r?function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is,i=a(t);function s(){try{var o=a(t);r(i,o)||e(i=o)}catch(n){e(null,n)}}return o.add(s),function(){return o.delete(s)}}(e,a,r):(o.add(e),function(){return o.delete(e)})},destroy:function(){return o.clear()}};return t=e(a,n,r),r}var L="undefined"===typeof window?h.useEffect:h.useLayoutEffect;var A=function(e){var t="function"===typeof e?T(e):e,o=function(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,n=Object(h.useReducer)((function(e){return e+1}),0),r=Object(l.a)(n,2),i=r[1],s=t.getState(),c=Object(h.useRef)(s),u=Object(h.useRef)(o),p=Object(h.useRef)(a),m=Object(h.useRef)(!1),d=Object(h.useRef)();void 0===d.current&&(d.current=o(s));var f=!1;(c.current!==s||u.current!==o||p.current!==a||m.current)&&(e=o(s),f=!a(d.current,e)),L((function(){f&&(d.current=e),c.current=s,u.current=o,p.current=a,m.current=!1}));var v=Object(h.useRef)(s);return Object(h.useEffect)((function(){var e=function(){try{var e=t.getState(),o=u.current(e);p.current(d.current,o)||(c.current=e,d.current=o,i())}catch(a){m.current=!0,i()}},o=t.subscribe(e);return t.getState()!==v.current&&e(),o}),[]),f?e:d.current};return Object.assign(o,t),o[Symbol.iterator]=S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),e.next=3,o;case 3:return e.next=5,t;case 5:case"end":return e.stop()}}),e)})),o},R=o(41),C=o.n(R),P=function e(t,o){f.Mesh.call(this,t),this.type="Reflector";var a=this,n=void 0!==(o=o||{}).color?new f.Color(o.color):new f.Color(8355711),r=o.textureWidth||512,i=o.textureHeight||512,s=o.clipBias||0,c=o.shader||e.ReflectorShader,l=void 0!==o.encoding?o.encoding:f.LinearEncoding,u=new f.Plane,p=new f.Vector3,h=new f.Vector3,m=new f.Vector3,d=new f.Matrix4,v=new f.Vector3(0,0,-1),b=new f.Vector4,g=new f.Vector3,y=new f.Vector3,w=new f.Vector4,M=new f.Matrix4,E=new f.PerspectiveCamera,x={minFilter:f.LinearFilter,magFilter:f.LinearFilter,format:f.RGBFormat,stencilBuffer:!1,encoding:l},S=new f.WebGLRenderTarget(r,i,x);f.MathUtils.isPowerOfTwo(r)&&f.MathUtils.isPowerOfTwo(i)||(S.texture.generateMipmaps=!1);var T=new f.ShaderMaterial({uniforms:f.UniformsUtils.clone(c.uniforms),fragmentShader:c.fragmentShader,vertexShader:c.vertexShader});T.uniforms.tDiffuse.value=S.texture,T.uniforms.color.value=n,T.uniforms.textureMatrix.value=M,this.material=T,this.onBeforeRender=function(e,t,o){if(h.setFromMatrixPosition(a.matrixWorld),m.setFromMatrixPosition(o.matrixWorld),d.extractRotation(a.matrixWorld),p.set(0,0,1),p.applyMatrix4(d),g.subVectors(h,m),!(g.dot(p)>0)){g.reflect(p).negate(),g.add(h),d.extractRotation(o.matrixWorld),v.set(0,0,-1),v.applyMatrix4(d),v.add(m),y.subVectors(h,v),y.reflect(p).negate(),y.add(h),E.position.copy(g),E.up.set(0,1,0),E.up.applyMatrix4(d),E.up.reflect(p),E.lookAt(y),E.far=o.far,E.updateMatrixWorld(),E.projectionMatrix.copy(o.projectionMatrix),M.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),M.multiply(E.projectionMatrix),M.multiply(E.matrixWorldInverse),M.multiply(a.matrixWorld),u.setFromNormalAndCoplanarPoint(p,h),u.applyMatrix4(E.matrixWorldInverse),b.set(u.normal.x,u.normal.y,u.normal.z,u.constant);var n=E.projectionMatrix;w.x=(Math.sign(b.x)+n.elements[8])/n.elements[0],w.y=(Math.sign(b.y)+n.elements[9])/n.elements[5],w.z=-1,w.w=(1+n.elements[10])/n.elements[14],b.multiplyScalar(2/b.dot(w)),n.elements[2]=b.x,n.elements[6]=b.y,n.elements[10]=b.z+1-s,n.elements[14]=b.w,a.visible=!1;var r=e.getRenderTarget(),i=e.xr.enabled,c=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(S),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,E),e.xr.enabled=i,e.shadowMap.autoUpdate=c,e.setRenderTarget(r);var l=o.viewport;void 0!==l&&e.state.viewport(l),a.visible=!0}},this.getRenderTarget=function(){return S}};(P.prototype=Object.create(f.Mesh.prototype)).constructor=P,P.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};o(127);var O=function(){};!function(){var e=new f.Vector3,t=new f.Vector3;function o(e,t){var o=e.indexOf(t);o>-1&&e.splice(o,1)}function a(e,t){var o,a,n,r=t.position.distanceTo(e.position),i=0,s=[],c=e.faces.length;for(o=0;o<c;o++)(a=e.faces[o]).hasVertex(t)&&s.push(a);for(o=0;o<c;o++){var l=1;a=e.faces[o];for(var u=0;u<s.length;u++){n=s[u];var p=a.normal.dot(n.normal);l=Math.min(l,(1.001-p)/2)}i=Math.max(i,l)}return s.length<2&&(i=1),r*i+0}function n(e){if(0===e.neighbors.length)return e.collapseNeighbor=null,void(e.collapseCost=-.01);e.collapseCost=1e5,e.collapseNeighbor=null;for(var t=0;t<e.neighbors.length;t++){var o=a(e,e.neighbors[t]);e.collapseNeighbor||(e.collapseNeighbor=e.neighbors[t],e.collapseCost=o,e.minCost=o,e.totalCost=0,e.costCount=0),e.costCount++,e.totalCost+=o,o<e.minCost&&(e.collapseNeighbor=e.neighbors[t],e.minCost=o)}e.collapseCost=e.totalCost/e.costCount}function r(e,t){for(console.assert(0===e.faces.length);e.neighbors.length;){o(e.neighbors.pop().neighbors,e)}o(t,e)}function i(e,t){o(t,e),e.v1&&o(e.v1.faces,e),e.v2&&o(e.v2.faces,e),e.v3&&o(e.v3.faces,e);for(var a,n,r=[e.v1,e.v2,e.v3],i=0;i<3;i++)n=r[(i+1)%3],(a=r[i])&&n&&(a.removeIfNonNeighbor(n),n.removeIfNonNeighbor(a))}function s(e,t,o,a){if(a){var s,c=[];for(s=0;s<o.neighbors.length;s++)c.push(o.neighbors[s]);for(s=o.faces.length-1;s>=0;s--)o.faces[s].hasVertex(a)&&i(o.faces[s],t);for(s=o.faces.length-1;s>=0;s--)o.faces[s].replaceVertex(o,a);for(r(o,e),s=0;s<c.length;s++)n(c[s])}else r(o,e)}function c(e){for(var t=e[0],o=0;o<e.length;o++)e[o].collapseCost<t.collapseCost&&(t=e[o]);return t}function l(e,t,o,a,n,r){this.a=a,this.b=n,this.c=r,this.v1=e,this.v2=t,this.v3=o,this.normal=new f.Vector3,this.computeNormal(),e.faces.push(this),e.addUniqueNeighbor(t),e.addUniqueNeighbor(o),t.faces.push(this),t.addUniqueNeighbor(e),t.addUniqueNeighbor(o),o.faces.push(this),o.addUniqueNeighbor(e),o.addUniqueNeighbor(t)}function u(e,t){this.position=e,this.id=t,this.faces=[],this.neighbors=[],this.collapseCost=0,this.collapseNeighbor=null}l.prototype.computeNormal=function(){var o=this.v1.position,a=this.v2.position,n=this.v3.position;e.subVectors(n,a),t.subVectors(o,a),e.cross(t).normalize(),this.normal.copy(e)},l.prototype.hasVertex=function(e){return e===this.v1||e===this.v2||e===this.v3},l.prototype.replaceVertex=function(e,t){e===this.v1?this.v1=t:e===this.v2?this.v2=t:e===this.v3&&(this.v3=t),o(e.faces,this),t.faces.push(this),e.removeIfNonNeighbor(this.v1),this.v1.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v2),this.v2.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v3),this.v3.removeIfNonNeighbor(e),this.v1.addUniqueNeighbor(this.v2),this.v1.addUniqueNeighbor(this.v3),this.v2.addUniqueNeighbor(this.v1),this.v2.addUniqueNeighbor(this.v3),this.v3.addUniqueNeighbor(this.v1),this.v3.addUniqueNeighbor(this.v2),this.computeNormal()},u.prototype.addUniqueNeighbor=function(e){var t,o;t=this.neighbors,o=e,-1===t.indexOf(o)&&t.push(o)},u.prototype.removeIfNonNeighbor=function(e){var t=this.neighbors,o=this.faces,a=t.indexOf(e);if(-1!==a){for(var n=0;n<o.length;n++)if(o[n].hasVertex(e))return;t.splice(a,1)}},O.prototype.modify=function(e,t){e.isBufferGeometry&&(e=(new f.Geometry).fromBufferGeometry(e)),e.mergeVertices();var o,a,r,i=e.vertices,p=e.faces,h=[],m=[];for(o=0,a=i.length;o<a;o++){var d=new u(i[o],o);h.push(d)}for(o=0,a=p.length;o<a;o++){var v=(S=p[o]).a,b=S.b,g=S.c,y=new l(h[v],h[b],h[g],v,b,g);m.push(y)}for(o=0,a=h.length;o<a;o++)n(h[o]);for(var w=t;w--;){if(!(r=c(h))){console.log("THREE.SimplifyModifier: No next vertex");break}s(h,m,r,r.collapseNeighbor)}var M=new f.BufferGeometry,E=[],x=[];for(o=0;o<h.length;o++){d=h[o].position;E.push(d.x,d.y,d.z)}for(o=0;o<m.length;o++){var S=m[o];v=h.indexOf(S.v1),b=h.indexOf(S.v2),g=h.indexOf(S.v3);x.push(v,b,g)}return M.setAttribute("position",new f.Float32BufferAttribute(E,3)),M.setIndex(x),M}}();var _=function(e){this.subdivisions=void 0===e?1:e};_.prototype.modify=function(e){(e=e.isBufferGeometry?(new f.Geometry).fromBufferGeometry(e):e.clone()).mergeVertices();for(var t=this.subdivisions;t-- >0;)this.smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e},function(){var e=["a","b","c"];function t(e,t,o){return o[Math.min(e,t)+"_"+Math.max(e,t)]}function o(e,t,o,a,n,r){var i,s=Math.min(e,t),c=Math.max(e,t),l=s+"_"+c;l in a?i=a[l]:(i={a:o[s],b:o[c],newEdge:null,faces:[]},a[l]=i);i.faces.push(n),r[e].edges.push(i),r[t].edges.push(i)}function a(e,t,o,a,n){e.push(new f.Face3(t,o,a,void 0,void 0,n))}function n(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function r(e,t,o,a){e.push([t.clone(),o.clone(),a.clone()])}_.prototype.smooth=function(i){var s,c,l,u,p,h,m,d,v,b,g,y,w,M=new f.Vector3,E=[];s=i.vertices,c=i.faces;var x,S,T,L,A,R,C,P,O,_,I,j,D,N,B=void 0!==(l=i.faceVertexUvs)[0]&&l[0].length>0;if(B)for(var U=0;U<l.length;U++)E.push([]);for(m in function(e,t,a,n){var r,i,s;for(r=0,i=e.length;r<i;r++)a[r]={edges:[]};for(r=0,i=t.length;r<i;r++)o((s=t[r]).a,s.b,e,n,s,a),o(s.b,s.c,e,n,s,a),o(s.c,s.a,e,n,s,a)}(s,c,b=new Array(s.length),g={}),y=[],g){for(S=g[m],T=new f.Vector3,A=3/8,R=1/8,2!=(C=S.faces.length)&&(A=.5,R=0),T.addVectors(S.a,S.b).multiplyScalar(A),M.set(0,0,0),U=0;U<C;U++){for(L=S.faces[U],v=0;v<3&&((x=s[L[e[v]]])===S.a||x===S.b);v++);M.add(x)}M.multiplyScalar(R),T.add(M),S.newEdge=y.length,y.push(T)}for(w=[],m=0,d=s.length;m<d;m++){for(D=s[m],3==(h=(j=b[m].edges).length)?P=3/16:h>3&&(P=3/(8*h)),O=1-h*P,_=P,h<=2&&2==h&&(O=3/4,_=1/8),N=D.clone().multiplyScalar(O),M.set(0,0,0),U=0;U<h;U++)x=(I=j[U]).a!==D?I.a:I.b,M.add(x);M.multiplyScalar(_),N.add(M),w.push(N)}u=w.concat(y);var G,F,k,V,H,z,Y,X=w.length;p=[];var Z=new f.Vector2,K=new f.Vector2,W=new f.Vector2;for(m=0,d=c.length;m<d;m++)if(a(p,G=t((L=c[m]).a,L.b,g).newEdge+X,F=t(L.b,L.c,g).newEdge+X,k=t(L.c,L.a,g).newEdge+X,L.materialIndex),a(p,L.a,G,k,L.materialIndex),a(p,L.b,F,G,L.materialIndex),a(p,L.c,k,F,L.materialIndex),B)for(U=0;U<l.length;U++)H=(V=l[U][m])[0],z=V[1],Y=V[2],Z.set(n(H.x,z.x),n(H.y,z.y)),K.set(n(z.x,Y.x),n(z.y,Y.y)),W.set(n(H.x,Y.x),n(H.y,Y.y)),r(E[U],Z,K,W),r(E[U],H,Z,W),r(E[U],z,K,Z),r(E[U],Y,W,K);i.vertices=u,i.faces=p,B&&(i.faceVertexUvs=E)}}();var I=function(e){this.maxEdgeLength=e};function j(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}I.prototype.modify=function(e){for(var t,o=[],a=[],n=this.maxEdgeLength*this.maxEdgeLength,r=0,i=e.faceVertexUvs.length;r<i;r++)a[r]=[];for(r=0,i=e.faces.length;r<i;r++){var s=e.faces[r];if(s instanceof f.Face3){var c=s.a,l=s.b,u=s.c,p=e.vertices[c],h=e.vertices[l],m=e.vertices[u],d=p.distanceToSquared(h),v=h.distanceToSquared(m),b=p.distanceToSquared(m);if(d>n||v>n||b>n){var g=e.vertices.length,y=s.clone(),w=s.clone();if(d>=v&&d>=b){if((M=p.clone()).lerp(h,.5),y.a=c,y.b=g,y.c=u,w.a=g,w.b=l,w.c=u,3===s.vertexNormals.length)(E=s.vertexNormals[0].clone()).lerp(s.vertexNormals[1],.5),y.vertexNormals[1].copy(E),w.vertexNormals[0].copy(E);if(3===s.vertexColors.length)(x=s.vertexColors[0].clone()).lerp(s.vertexColors[1],.5),y.vertexColors[1].copy(x),w.vertexColors[0].copy(x);t=0}else if(v>=d&&v>=b){if((M=h.clone()).lerp(m,.5),y.a=c,y.b=l,y.c=g,w.a=g,w.b=u,w.c=c,3===s.vertexNormals.length)(E=s.vertexNormals[1].clone()).lerp(s.vertexNormals[2],.5),y.vertexNormals[2].copy(E),w.vertexNormals[0].copy(E),w.vertexNormals[1].copy(s.vertexNormals[2]),w.vertexNormals[2].copy(s.vertexNormals[0]);if(3===s.vertexColors.length)(x=s.vertexColors[1].clone()).lerp(s.vertexColors[2],.5),y.vertexColors[2].copy(x),w.vertexColors[0].copy(x),w.vertexColors[1].copy(s.vertexColors[2]),w.vertexColors[2].copy(s.vertexColors[0]);t=1}else{var M,E,x;if((M=p.clone()).lerp(m,.5),y.a=c,y.b=l,y.c=g,w.a=g,w.b=l,w.c=u,3===s.vertexNormals.length)(E=s.vertexNormals[0].clone()).lerp(s.vertexNormals[2],.5),y.vertexNormals[2].copy(E),w.vertexNormals[0].copy(E);if(3===s.vertexColors.length)(x=s.vertexColors[0].clone()).lerp(s.vertexColors[2],.5),y.vertexColors[2].copy(x),w.vertexColors[0].copy(x);t=2}o.push(y,w),e.vertices.push(M);for(var S=0,T=e.faceVertexUvs.length;S<T;S++)if(e.faceVertexUvs[S].length){var L=e.faceVertexUvs[S][r],A=L[0],R=L[1],C=L[2];if(0===t){(_=A.clone()).lerp(R,.5);var P=[A.clone(),_.clone(),C.clone()],O=[_.clone(),R.clone(),C.clone()]}else if(1===t){(_=R.clone()).lerp(C,.5);P=[A.clone(),R.clone(),_.clone()],O=[_.clone(),C.clone(),A.clone()]}else{var _;(_=A.clone()).lerp(C,.5);P=[A.clone(),R.clone(),_.clone()],O=[_.clone(),R.clone(),C.clone()]}a[S].push(P,O)}}else{o.push(s);for(S=0,T=e.faceVertexUvs.length;S<T;S++)a[S].push(e.faceVertexUvs[S][r])}}}e.faces=o,e.faceVertexUvs=a};var D=function e(){var t=e.SkyShader,o=new f.ShaderMaterial({fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:f.UniformsUtils.clone(t.uniforms),side:f.BackSide,depthWrite:!1});f.Mesh.call(this,new f.BoxBufferGeometry(1,1,1),o)};D.prototype=Object.create(f.Mesh.prototype),D.SkyShader={uniforms:{luminance:{value:1},turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new f.Vector3},up:{value:new f.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float luminance;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","const float A = 0.15;","const float B = 0.50;","const float C = 0.10;","const float D = 0.20;","const float E = 0.02;","const float F = 0.30;","const float whiteScale = 1.0748724675633854;","vec3 Uncharted2Tonemap( vec3 x ) {","\treturn ( ( x * ( A * x + C * B ) + D * E ) / ( x * ( A * x + B ) + D * F ) ) - E / F;","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 curr = Uncharted2Tonemap( ( log2( 2.0 / pow( luminance, 4.0 ) ) ) * texColor );","\tvec3 color = curr * whiteScale;","\tvec3 retColor = pow( color, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","}"].join("\n")};o(108);function N(e){var t=e+"BufferGeometry";return Object(h.forwardRef)((function(e,o){var a=e.args,n=e.children,r=Object(p.a)(e,["args","children"]);return m.a.createElement("mesh",Object(u.a)({ref:o},r),m.a.createElement(t,{attach:"geometry",args:a}),n)}))}N("box"),N("circle"),N("cone"),N("cylinder"),N("sphere"),N("plane"),N("tube"),N("torus"),N("torusKnot"),N("tetrahedron"),N("ring"),N("polyhedron"),N("icosahedron"),N("octahedron"),N("dodecahedron"),N("extrude"),N("lathe"),N("parametric");var B=Object(h.forwardRef)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enableDamping:!0},t=arguments.length>1?arguments[1]:void 0,o=Object(d.i)(),a=o.camera,n=o.gl,r=o.invalidate,i=Object(h.useMemo)((function(){return new v.a(a,n.domElement)}),[a,n]);return Object(d.g)((function(){return i.update()})),Object(h.useEffect)((function(){return null==i||null==i.addEventListener||i.addEventListener("change",r),function(){return null==i||null==i.removeEventListener?void 0:i.removeEventListener("change",r)}}),[i,r]),m.a.createElement("primitive",Object(u.a)({dispose:null,object:i,ref:t,enableDamping:!0},e))})),U=Object(h.forwardRef)((function(e,t){var o=Object(d.i)(),a=o.camera,n=o.gl,r=o.invalidate,i=Object(h.useMemo)((function(){return new b.a(a,n.domElement)}),[a,n]);return Object(d.g)((function(){return i.update()})),Object(h.useEffect)((function(){return null==i||null==i.addEventListener||i.addEventListener("change",r),function(){return null==i||null==i.removeEventListener?void 0:i.removeEventListener("change",r)}}),[i,r]),m.a.createElement("primitive",Object(u.a)({dispose:null,object:i,ref:t},e))}));A((function(e){return f.DefaultLoadingManager.onStart=function(t,o,a){return e({active:!0,item:t,loaded:o,total:a,progress:o/a*100})},f.DefaultLoadingManager.onLoad=function(){return e({active:!1})},f.DefaultLoadingManager.onError=function(t){return e((function(e){return{errors:[].concat(Object(c.a)(e.errors),[t])}}))},f.DefaultLoadingManager.onProgress=function(t,o,a){return e({item:t,loaded:o,total:a,progress:o/a*100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}}));var G=new f.Vector3,F=new f.Vector3,k=new f.Vector3;function V(e,t,o){var a=G.setFromMatrixPosition(e.matrixWorld);a.project(t);var n=o.width/2,r=o.height/2;return[a.x*n+n,-a.y*r+r]}var H=m.a.forwardRef((function(e,t){var o,a=e.children,n=e.eps,r=void 0===n?.001:n,i=e.style,s=e.className,c=e.prepend,v=e.center,b=e.fullscreen,g=e.portal,y=e.scaleFactor,w=e.zIndexRange,M=void 0===w?[16777271,0]:w,E=Object(p.a)(e,["children","eps","style","className","prepend","center","fullscreen","portal","scaleFactor","zIndexRange"]),x=Object(d.i)(),S=x.gl,T=x.scene,L=x.camera,A=x.size,R=Object(h.useState)((function(){return document.createElement("div")})),P=Object(l.a)(R,1)[0],O=Object(h.useRef)(null),_=Object(h.useRef)([0,0]),I=null!=(o=null==g?void 0:g.current)?o:S.domElement.parentNode;Object(h.useEffect)((function(){if(O.current){T.updateMatrixWorld();var e=V(O.current,L,A);return P.style.cssText="position:absolute;top:0;left:0;transform:translate3d("+e[0]+"px,"+e[1]+"px,0);transform-origin:0 0;",I&&(c?I.prepend(P):I.appendChild(P)),function(){I&&I.removeChild(P),C.a.unmountComponentAtNode(P)}}}),[I]);var j=Object(h.useMemo)((function(){return Object(u.a)({position:"absolute",transform:v?"translate3d(-50%,-50%,0)":"none"},b&&{top:-A.height/2,left:-A.width/2,width:A.width,height:A.height},i)}),[i,v,b,A]);return Object(h.useEffect)((function(){C.a.render(m.a.createElement("div",{ref:t,style:j,className:s,children:a}),P)})),Object(d.g)((function(){if(O.current){var e=V(O.current,L,A);if(Math.abs(_.current[0]-e[0])>r||Math.abs(_.current[1]-e[1])>r){P.style.display=function(e,t){var o=G.setFromMatrixPosition(e.matrixWorld),a=F.setFromMatrixPosition(t.matrixWorld),n=o.sub(a),r=t.getWorldDirection(k);return n.angleTo(r)>Math.PI/2}(O.current,L)?"none":"block";var t=void 0===y?1:function(e,t){if(t instanceof f.PerspectiveCamera){var o=G.setFromMatrixPosition(e.matrixWorld),a=F.setFromMatrixPosition(t.matrixWorld),n=t.fov*Math.PI/180,r=o.distanceTo(a);return 1/(2*Math.tan(n/2)*r)}return t instanceof f.OrthographicCamera?t.zoom:1}(O.current,L)*y;P.style.transform="translate3d("+e[0]+"px,"+e[1]+"px,0) scale("+t+")",P.style.zIndex=""+function(e,t,o){if(t instanceof f.PerspectiveCamera||t instanceof f.OrthographicCamera){var a=G.setFromMatrixPosition(e.matrixWorld),n=F.setFromMatrixPosition(t.matrixWorld),r=a.distanceTo(n),i=(o[1]-o[0])/(t.far-t.near),s=o[1]-i*t.far;return Math.round(i*r+s)}}(O.current,L,M)}_.current=e}})),m.a.createElement("group",Object(u.a)({},E,{ref:O}))}));new f.Matrix4,new f.Ray,new f.Sphere,new f.Vector3;f.MeshPhysicalMaterial,f.MeshStandardMaterial;f.ShaderMaterial},156:function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var a={},n={};function r(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function i(e){var t=Object.create(null),o=[];return e.forEach((function(e){for(var a in e)a in t||o.push(t[a]=a)})),o}function s(e,t){var o=e+"",a=o.length;return a<t?new Array(t-a+1).join(0)+o:o}function c(e){var t,o=e.getUTCHours(),a=e.getUTCMinutes(),n=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+s(-t,6):t>9999?"+"+s(t,6):s(t,4))+"-"+s(e.getUTCMonth()+1,2)+"-"+s(e.getUTCDate(),2)+(r?"T"+s(o,2)+":"+s(a,2)+":"+s(n,2)+"."+s(r,3)+"Z":n?"T"+s(o,2)+":"+s(a,2)+":"+s(n,2)+"Z":a||o?"T"+s(o,2)+":"+s(a,2)+"Z":"")}var l=function(e){var t=new RegExp('["'+e+"\n\r]"),o=e.charCodeAt(0);function s(e,t){var r,i=[],s=e.length,c=0,l=0,u=s<=0,p=!1;function h(){if(u)return n;if(p)return p=!1,a;var t,r,i=c;if(34===e.charCodeAt(i)){for(;c++<s&&34!==e.charCodeAt(c)||34===e.charCodeAt(++c););return(t=c)>=s?u=!0:10===(r=e.charCodeAt(c++))?p=!0:13===r&&(p=!0,10===e.charCodeAt(c)&&++c),e.slice(i+1,t-1).replace(/""/g,'"')}for(;c<s;){if(10===(r=e.charCodeAt(t=c++)))p=!0;else if(13===r)p=!0,10===e.charCodeAt(c)&&++c;else if(r!==o)continue;return e.slice(i,t)}return u=!0,e.slice(i,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(r=h())!==n;){for(var m=[];r!==a&&r!==n;)m.push(r),r=h();t&&null==(m=t(m,l++))||i.push(m)}return i}function l(t,o){return t.map((function(t){return o.map((function(e){return p(t[e])})).join(e)}))}function u(t){return t.map(p).join(e)}function p(e){return null==e?"":e instanceof Date?c(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var o,a,n=s(e,(function(e,n){if(o)return o(e,n-1);a=e,o=t?function(e,t){var o=r(e);return function(a,n){return t(o(a),n,e)}}(e,t):r(e)}));return n.columns=a||[],n},parseRows:s,format:function(t,o){return null==o&&(o=i(t)),[o.map(p).join(e)].concat(l(t,o)).join("\n")},formatBody:function(e,t){return null==t&&(t=i(e)),l(e,t).join("\n")},formatRows:function(e){return e.map(u).join("\n")},formatRow:u,formatValue:p}}(","),u=l.parse;l.parseRows,l.format,l.formatBody,l.formatRows,l.formatRow,l.formatValue},330:function(e,t,o){"use strict";o.r(t);var a=o(3),n=o(101),r=o(0),i=o.n(r),s=o(156),c=o(72),l=o(74),u=o(130),p=o(80),h=o(85),m=o(90),d=[[-91,90,.1,-91,-90,.1],[-180,-19,.1,-129,-19,.1,-121,-10.5,.1,-91,-10.5,.1],[147,-90,.1,147,-34,.1,190,-34,.1],[-11,90,.1,-11,30.5,.1,-13,28.5,.1,-20,28.5,.1,-27,20.5,.1,-27,14,.1,-4,-13,.1,-4,-90,.1],[-27,14,.1,-91,14,.1]],f=o(19),v=o(13),b=o(92),g=o.n(b),y=[g()("#90103F").brighten(2).hex(),g()("#511849").brighten(2).hex(),g()("#3D3D6B").brighten(1).hex(),"#427B9B","#5FBAAD","#61C785","#ADD45B","#EDDD53","#EFC309","#E88C20","#E45536","#C71138"],w={bg:{dark:"#1A1B1E",light:"#FFFFFF"},highlight:{dark:"white",light:"#2C2E35"},lines:{dark:"#544E4B",light:"#B0A595"},r:"#E2170D",g:"#50A18A",b:"#65BCD6",y:"#ECAC05",na:"#E2170D",sa:"#29574F",eu:"blue",af:"#780235",as:"#E2170D",oc:"green",intensity:{r:.2,g:.4,b:.6,y:.8}},M=(y.map((function(e){return g()(e).darken(.5).hex()})),y.map((function(e){return g()(e).brighten(2).hex()})),y.map((function(e){return g()(e).darken(.4).hex()})),{c4:{code:4,nombre:"Afganist\xe1n",name:"Afghanistan",pop:36373,color:"y",alpha2:"AF",alpha3:"AFG",count:73,mean:[192.7,87.6]},c8:{code:8,nombre:"Albania",name:"Albania",pop:2934,color:"g",alpha2:"AL",alpha3:"ALB",count:6,mean:[145,93.5]},c12:{code:12,nombre:"Argelia",name:"Algeria",pop:42008,color:"g",alpha2:"DZ",alpha3:"DZA",count:84,mean:[127.2,74.9]},c20:{code:20,nombre:"Andorra",name:"Andorra",pop:77,color:"r",alpha2:"AD",alpha3:"AND",count:1,mean:[116,96]},c24:{code:24,nombre:"Angola",name:"Angola",pop:30774,color:"g",alpha2:"AO",alpha3:"AGO",count:62,mean:[134.6,25.3]},c28:{code:28,nombre:"Antigua y Barbuda",name:"Antigua and Barbuda",pop:103,color:"b",alpha2:"AG",alpha3:"ATG",count:1,mean:[69,72]},c32:{code:32,nombre:"Argentina",name:"Argentina",pop:44689,color:"y",alpha2:"AR",alpha3:"ARG",count:89,mean:[62.9,18.9]},c51:{code:51,nombre:"Armenia",name:"Armenia",pop:2934,color:"y",alpha2:"AM",alpha3:"ARM",count:6,mean:[166.5,93]},c533:{code:533,nombre:"Aruba",name:"Aruba",pop:106,color:"y",alpha2:"AW",alpha3:"ABW",count:1,mean:[57,58]},c36:{code:36,nombre:"Australia",name:"Australia",pop:24772,color:"b",alpha2:"AU",alpha3:"AUS",count:50,mean:[331.9,3.9]},c40:{code:40,nombre:"Austria",name:"Austria",pop:8752,color:"r",alpha2:"AT",alpha3:"AUT",count:17,mean:[137.6,102.9]},c31:{code:31,nombre:"Azerbaiy\xe1n",name:"Azerbaijan",pop:9924,color:"g",alpha2:"AZ",alpha3:"AZE",count:20,mean:[169.6,92.7]},c44:{code:44,nombre:"Bahamas (las)",name:"Bahamas",pop:399,color:"y",alpha2:"BS",alpha3:"BHS",count:1,mean:[40,78]},c48:{code:48,nombre:"Bahrein",name:"Bahrain",pop:1567,color:"r",alpha2:"BH",alpha3:"BHR",count:3,mean:[178.3,76.3]},c50:{code:50,nombre:"Bangladesh",name:"Bangladesh",pop:166368,color:"g",alpha2:"BD",alpha3:"BGD",count:333,mean:[251.1,61.8]},c52:{code:52,nombre:"Barbados",name:"Barbados",pop:286,color:"b",alpha2:"BB",alpha3:"BRB",count:1,mean:[71,62]},c112:{code:112,nombre:"Belar\xfas",name:"Belarus",pop:9452,color:"b",alpha2:"BY",alpha3:"BLR",count:19,mean:[149.4,111.6]},c56:{code:56,nombre:"B\xe9lgica",name:"Belgium",pop:11499,color:"r",alpha2:"BE",alpha3:"BEL",count:23,mean:[125.9,109.3]},c84:{code:84,nombre:"Belice",name:"Belize",pop:382,color:"g",alpha2:"BZ",alpha3:"BLZ",count:1,mean:[36,64]},c204:{code:204,nombre:"Ben\xedn",name:"Benin",pop:11486,color:"g",alpha2:"BJ",alpha3:"BEN",count:23,mean:[117,54.8]},c64:{code:64,nombre:"Bhut\xe1n",name:"Bhutan",pop:817,color:"g",alpha2:"BT",alpha3:"BTN",count:2,mean:[245.5,78]},c68:{code:68,nombre:"Bolivia (Estado Plurinacional de)",name:"Bolivia (Plurinational State of)",pop:11216,color:"r",alpha2:"BO",alpha3:"BOL",count:22,mean:[62.9,29.7]},c70:{code:70,nombre:"Bosnia y Herzegovina",name:"Bosnia and Herzegovina",pop:3504,color:"b",alpha2:"BA",alpha3:"BIH",count:7,mean:[143,96]},c72:{code:72,nombre:"Botsuana",name:"Botswana",pop:2333,color:"r",alpha2:"BW",alpha3:"BWA",count:5,mean:[133.8,18.4]},c76:{code:76,nombre:"Brasil",name:"Brazil",pop:210868,color:"g",alpha2:"BR",alpha3:"BRA",count:422,mean:[71.2,38.6]},c96:{code:96,nombre:"Brun\xe9i Darussalam",name:"Brunei Darussalam",pop:434,color:"b",alpha2:"BN",alpha3:"BRN",count:1,mean:[298,31]},c100:{code:100,nombre:"Bulgaria",name:"Bulgaria",pop:7037,color:"b",alpha2:"BG",alpha3:"BGR",count:14,mean:[149.3,95.1]},c854:{code:854,nombre:"Burkina Faso",name:"Burkina Faso",pop:19752,color:"g",alpha2:"BF",alpha3:"BFA",count:40,mean:[115.8,66.1]},c108:{code:108,nombre:"Burundi",name:"Burundi",pop:11216,color:"y",alpha2:"BI",alpha3:"BDI",count:22,mean:[144.6,44]},c132:{code:132,nombre:"Cabo Verde",name:"Cabo Verde",pop:553,color:"g",alpha2:"CV",alpha3:"CPV",count:1,mean:[97,53]},c116:{code:116,nombre:"Camboya",name:"Cambodia",pop:16246,color:"y",alpha2:"KH",alpha3:"KHM",count:32,mean:[279.4,41]},c120:{code:120,nombre:"Camer\xfan",name:"Cameroon",pop:24678,color:"b",alpha2:"CM",alpha3:"CMR",count:49,mean:[132.8,45.9]},c124:{code:124,nombre:"Canad\xe1",name:"Canada",pop:36954,color:"y",alpha2:"CA",alpha3:"CAN",count:75,mean:[18.4,97.1]},c140:{code:140,nombre:"Rep\xfablica Centroafricana",name:"Central African Republic",pop:4737,color:"y",alpha2:"CF",alpha3:"CAF",count:9,mean:[137.8,47.4]},c148:{code:148,nombre:"Chad",name:"Chad",pop:15353,color:"g",alpha2:"TD",alpha3:"TCD",count:31,mean:[135.5,53.7]},c152:{code:152,nombre:"Chile",name:"Chile",pop:18197,color:"g",alpha2:"CL",alpha3:"CHL",count:36,mean:[60,17.1]},c156:{code:156,nombre:"China",name:"China",pop:1415046,color:"r",alpha2:"CN",alpha3:"CHN",count:2830,mean:[273.7,92.9]},c170:{code:170,nombre:"Colombia",name:"Colombia",pop:49465,color:"b",alpha2:"CO",alpha3:"COL",count:99,mean:[57,47.7]},c174:{code:174,nombre:"Comoras (las)",name:"Comoros",pop:832,color:"y",alpha2:"KM",alpha3:"COM",count:2,mean:[154,31.5]},c178:{code:178,nombre:"Congo (el)",name:"Congo",pop:5400,color:"g",alpha2:"CG",alpha3:"COG",count:11,mean:[132.5,38.5]},c180:{code:180,nombre:"Congo (la Rep\xfablica Democr\xe1tica del)",name:"Congo, Democratic Republic of the",pop:84005,color:"r",alpha2:"CD",alpha3:"COD",count:162,mean:[138.2,36.2]},c184:{code:184,nombre:"Cook, (las) Islas",name:"Cook Islands",pop:17,color:"y",alpha2:"CK",alpha3:"COK",count:1,mean:[354,4]},c188:{code:188,nombre:"Costa Rica",name:"Costa Rica",pop:4953,color:"y",alpha2:"CR",alpha3:"CRI",count:10,mean:[45.5,56]},c191:{code:191,nombre:"Croacia",name:"Croatia",pop:4165,color:"g",alpha2:"HR",alpha3:"HRV",count:8,mean:[141.3,97]},c192:{code:192,nombre:"Cuba",name:"Cuba",pop:11489,color:"r",alpha2:"CU",alpha3:"CUB",count:23,mean:[41.5,74.3]},c531:{code:531,nombre:"Cura\xe7ao",name:"Cura\xe7ao",pop:162,color:"r",alpha2:"CW",alpha3:"CUW",count:1,mean:[59,58]},c196:{code:196,nombre:"Chipre",name:"Cyprus",pop:1189,color:"b",alpha2:"CY",alpha3:"CYP",count:2,mean:[156.5,82]},c203:{code:203,nombre:"Chequia",name:"Czechia",pop:10625,color:"b",alpha2:"CZ",alpha3:"CZE",count:21,mean:[140.9,106.5]},c384:{code:384,nombre:"C\xf4te d'Ivoire",name:"C\xf4te d'Ivoire",pop:24906,color:"b",alpha2:"CI",alpha3:"CIV",count:50,mean:[107.7,54.7]},c208:{code:208,nombre:"Dinamarca",name:"Denmark",pop:5754,color:"r",alpha2:"DK",alpha3:"DNK",count:12,mean:[134.3,122.6]},c262:{code:262,nombre:"Yibuti",name:"Djibouti",pop:971,color:"r",alpha2:"DJ",alpha3:"DJI",count:2,mean:[163,62.5]},c212:{code:212,nombre:"Dominica",name:"Dominica",pop:74,color:"y",alpha2:"DM",alpha3:"DMA",count:1,mean:[70,68]},c214:{code:214,nombre:"Dominicana, (la) Rep\xfablica",name:"Dominican Republic",pop:10883,color:"g",alpha2:"DO",alpha3:"DOM",count:22,mean:[57,75.1]},c218:{code:218,nombre:"Ecuador",name:"Ecuador",pop:16863,color:"r",alpha2:"EC",alpha3:"ECU",count:34,mean:[53.6,41.1]},c818:{code:818,nombre:"Egipto",name:"Egypt",pop:99376,color:"g",alpha2:"EG",alpha3:"EGY",count:202,mean:[146.9,72.8]},c222:{code:222,nombre:"El Salvador",name:"El Salvador",pop:6412,color:"g",alpha2:"SV",alpha3:"SLV",count:13,mean:[36.5,57.6]},c226:{code:226,nombre:"Guinea Ecuatorial",name:"Equatorial Guinea",pop:1314,color:"r",alpha2:"GQ",alpha3:"GNQ",count:3,mean:[132,41]},c232:{code:232,nombre:"Eritrea",name:"Eritrea",pop:5188,color:"b",alpha2:"ER",alpha3:"ERI",count:10,mean:[159.5,65]},c233:{code:233,nombre:"Estonia",name:"Estonia",pop:1307,color:"b",alpha2:"EE",alpha3:"EST",count:3,mean:[148.7,118.3]},c748:{code:748,nombre:"Suazilandia",name:"Eswatini",pop:1391,color:"y",alpha2:"SZ",alpha3:"SWZ",count:3,mean:[144.3,15.3]},c231:{code:231,nombre:"Etiop\xeda",name:"Ethiopia",pop:107535,color:"y",alpha2:"ET",alpha3:"ETH",count:215,mean:[153.9,59.8]},c234:{code:234,nombre:"Feroe, (las) Islas",name:"Faroe Islands",pop:49,color:"y",alpha2:"FO",alpha3:"FRO",count:1,mean:[109,132]},c242:{code:242,nombre:"Fiji",name:"Fiji",pop:912,color:"y",alpha2:"FJ",alpha3:"FJI",count:2,mean:[340,8.5]},c246:{code:246,nombre:"Finlandia",name:"Finland",pop:5543,color:"y",alpha2:"FI",alpha3:"FIN",count:11,mean:[144.6,124.5]},c250:{code:250,nombre:"Francia",name:"France",pop:65233,color:"b",alpha2:"FR",alpha3:"FRA",count:130,mean:[121.7,102.3]},c254:{code:254,nombre:"Guayana Francesa",name:"French Guiana",pop:290,color:"b",alpha2:"GF",alpha3:"GUF",count:1,mean:[72,51]},c258:{code:258,nombre:"Polinesia Francesa",name:"French Polynesia",pop:286,color:"r",alpha2:"PF",alpha3:"PYF",count:1,mean:[349,9]},c266:{code:266,nombre:"Gab\xf3n",name:"Gabon",pop:2068,color:"b",alpha2:"GA",alpha3:"GAB",count:4,mean:[131.5,39.5]},c270:{code:270,nombre:"Gambia (la)",name:"Gambia",pop:2164,color:"b",alpha2:"GM",alpha3:"GMB",count:4,mean:[105.5,62]},c268:{code:268,nombre:"Georgia",name:"Georgia",pop:3907,color:"b",alpha2:"GE",alpha3:"GEO",count:8,mean:[165,94.3]},c276:{code:276,nombre:"Alemania",name:"Germany",pop:82293,color:"y",alpha2:"DE",alpha3:"DEU",count:165,mean:[133.7,111.5]},c288:{code:288,nombre:"Ghana",name:"Ghana",pop:29464,color:"g",alpha2:"GH",alpha3:"GHA",count:59,mean:[111.9,53.8]},c300:{code:300,nombre:"Grecia",name:"Greece",pop:11142,color:"y",alpha2:"GR",alpha3:"GRC",count:22,mean:[147.1,89.7]},c304:{code:304,nombre:"Groenlandia",name:"Greenland",pop:57,color:"g",alpha2:"GL",alpha3:"GRL",count:1,mean:[97,133]},c308:{code:308,nombre:"Granada",name:"Grenada",pop:108,color:"y",alpha2:"GD",alpha3:"GRD",count:1,mean:[70,60]},c312:{code:312,nombre:"Guadeloupe",name:"Guadeloupe",pop:449,color:"g",alpha2:"GP",alpha3:"GLP",count:1,mean:[70,70]},c316:{code:316,nombre:"Guam",name:"Guam",pop:166,color:"b",alpha2:"GU",alpha3:"GUM",count:1,mean:[328,29]},c320:{code:320,nombre:"Guatemala",name:"Guatemala",pop:17245,color:"y",alpha2:"GT",alpha3:"GTM",count:34,mean:[33.4,59.4]},c324:{code:324,nombre:"Guinea",name:"Guinea",pop:13053,color:"g",alpha2:"GN",alpha3:"GIN",count:26,mean:[104,55.4]},c624:{code:624,nombre:"Guinea Bissau",name:"Guinea-Bissau",pop:1907,color:"r",alpha2:"GW",alpha3:"GNB",count:4,mean:[104.5,59.5]},c328:{code:328,nombre:"Guyana",name:"Guyana",pop:782,color:"r",alpha2:"GY",alpha3:"GUY",count:2,mean:[69,52.5]},c332:{code:332,nombre:"Hait\xed",name:"Haiti",pop:11113,color:"b",alpha2:"HT",alpha3:"HTI",count:22,mean:[52,72.5]},c336:{code:336,nombre:"Ciudad del Vaticano",name:"Holy See",pop:1,color:"r",alpha2:"VA",alpha3:"VAT",count:1,mean:[136,90]},c340:{code:340,nombre:"Honduras",name:"Honduras",pop:9417,color:"b",alpha2:"HN",alpha3:"HND",count:19,mean:[40,60.7]},c344:{code:344,nombre:"Hong Kong",name:"Hong Kong",pop:7429,color:"y",alpha2:"HK",alpha3:"HKG",count:15,mean:[296.1,70.7]},c348:{code:348,nombre:"Hungr\xeda",name:"Hungary",pop:9689,color:"b",alpha2:"HU",alpha3:"HUN",count:20,mean:[143.9,101.7]},c352:{code:352,nombre:"Islandia",name:"Iceland",pop:338,color:"b",alpha2:"IS",alpha3:"ISL",count:1,mean:[100,130]},c356:{code:356,nombre:"India",name:"India",pop:1354052,color:"b",alpha2:"IN",alpha3:"IND",count:2708,mean:[223.5,57.3]},c360:{code:360,nombre:"Indonesia",name:"Indonesia",pop:266795,color:"g",alpha2:"ID",alpha3:"IDN",count:534,mean:[296.7,16.8]},c364:{code:364,nombre:"Ir\xe1n (Rep\xfablica Isl\xe1mica de)",name:"Iran (Islamic Republic of)",pop:82012,color:"b",alpha2:"IR",alpha3:"IRN",count:164,mean:[180.7,85.4]},c368:{code:368,nombre:"Iraq",name:"Iraq",pop:39340,color:"y",alpha2:"IQ",alpha3:"IRQ",count:80,mean:[170.9,77.8]},c372:{code:372,nombre:"Irlanda",name:"Ireland",pop:4804,color:"g",alpha2:"IE",alpha3:"IRL",count:9,mean:[105.4,118.2]},c376:{code:376,nombre:"Israel",name:"Israel",pop:8453,color:"y",alpha2:"IL",alpha3:"ISR",count:17,mean:[160.4,73.9]},c380:{code:380,nombre:"Italia",name:"Italy",pop:59291,color:"g",alpha2:"IT",alpha3:"ITA",count:120,mean:[134.5,94]},c388:{code:388,nombre:"Jamaica",name:"Jamaica",pop:2899,color:"y",alpha2:"JM",alpha3:"JAM",count:6,mean:[40.5,67.5]},c392:{code:392,nombre:"Jap\xf3n",name:"Japan",pop:127185,color:"r",alpha2:"JP",alpha3:"JPN",count:254,mean:[331.9,90.6]},c400:{code:400,nombre:"Jordania",name:"Jordan",pop:9904,color:"b",alpha2:"JO",alpha3:"JOR",count:20,mean:[164.4,76]},c398:{code:398,nombre:"Kazajist\xe1n",name:"Kazakhstan",pop:18404,color:"y",alpha2:"KZ",alpha3:"KAZ",count:37,mean:[189.6,99.7]},c404:{code:404,nombre:"Kenia",name:"Kenya",pop:50951,color:"b",alpha2:"KE",alpha3:"KEN",count:102,mean:[152.6,48.2]},c296:{code:296,nombre:"Kiribati",name:"Kiribati",pop:118,color:"y",alpha2:"KI",alpha3:"KIR",count:1,mean:[346,17]},c408:{code:408,nombre:"Corea (la Rep\xfablica Popular Democr\xe1tica de)",name:"Korea (Democratic People's Republic of)",pop:25611,color:"y",alpha2:"KP",alpha3:"PRK",count:51,mean:[313.7,105.7]},c410:{code:410,nombre:"Corea (la Rep\xfablica de)",name:"Korea, Republic of",pop:51164,color:"b",alpha2:"KR",alpha3:"KOR",count:102,mean:[318.1,97.1]},c414:{code:414,nombre:"Kuwait",name:"Kuwait",pop:4197,color:"g",alpha2:"KW",alpha3:"KWT",count:8,mean:[175.3,73]},c417:{code:417,nombre:"Kirguist\xe1n",name:"Kyrgyzstan",pop:6133,color:"b",alpha2:"KG",alpha3:"KGZ",count:12,mean:[192.5,96.7]},c418:{code:418,nombre:"Lao, (la) Rep\xfablica Democr\xe1tica Popular",name:"Lao People's Democratic Republic",pop:6961,color:"g",alpha2:"LA",alpha3:"LAO",count:14,mean:[277.9,50.4]},c428:{code:428,nombre:"Letonia",name:"Latvia",pop:1930,color:"y",alpha2:"LV",alpha3:"LVA",count:4,mean:[148.5,116.5]},c422:{code:422,nombre:"L\xedbano",name:"Lebanon",pop:6094,color:"r",alpha2:"LB",alpha3:"LBN",count:12,mean:[159.8,78.7]},c426:{code:426,nombre:"Lesotho",name:"Lesotho",pop:2263,color:"r",alpha2:"LS",alpha3:"LSO",count:5,mean:[141.2,11.4]},c430:{code:430,nombre:"Liberia",name:"Liberia",pop:4854,color:"r",alpha2:"LR",alpha3:"LBR",count:10,mean:[103.2,49.9]},c434:{code:434,nombre:"Libia",name:"Libya",pop:6471,color:"y",alpha2:"LY",alpha3:"LBY",count:13,mean:[136.6,76.8]},c438:{code:438,nombre:"Liechtenstein",name:"Liechtenstein",pop:38,color:"y",alpha2:"LI",alpha3:"LIE",count:1,mean:[133,102]},c440:{code:440,nombre:"Lituania",name:"Lithuania",pop:2876,color:"g",alpha2:"LT",alpha3:"LTU",count:6,mean:[148,114.5]},c442:{code:442,nombre:"Luxemburgo",name:"Luxembourg",pop:590,color:"g",alpha2:"LU",alpha3:"LUX",count:1,mean:[128,107]},c446:{code:446,nombre:"Macao",name:"Macao",pop:632,color:"b",alpha2:"MO",alpha3:"MAC",count:1,mean:[291,69]},c450:{code:450,nombre:"Madagascar",name:"Madagascar",pop:26263,color:"b",alpha2:"MG",alpha3:"MDG",count:53,mean:[155.4,22.2]},c454:{code:454,nombre:"Malawi",name:"Malawi",pop:19165,color:"y",alpha2:"MW",alpha3:"MWI",count:38,mean:[145.6,27.9]},c458:{code:458,nombre:"Malasia",name:"Malaysia",pop:32042,color:"y",alpha2:"MY",alpha3:"MYS",count:64,mean:[292.3,27.4]},c462:{code:462,nombre:"Maldivas",name:"Maldives",pop:444,color:"r",alpha2:"MV",alpha3:"MDV",count:1,mean:[199,10]},c466:{code:466,nombre:"Mal\xed",name:"Mali",pop:19108,color:"b",alpha2:"ML",alpha3:"MLI",count:45,mean:[121,69.8]},c470:{code:470,nombre:"Malta",name:"Malta",pop:432,color:"b",alpha2:"MT",alpha3:"MLT",count:1,mean:[146,83]},c584:{code:584,nombre:"Marshall, (las) Islas",name:"Marshall Islands",pop:53,color:"b",alpha2:"MH",alpha3:"MHL",count:1,mean:[335,23]},c474:{code:474,nombre:"Martinique",name:"Martinique",pop:385,color:"r",alpha2:"MQ",alpha3:"MTQ",count:1,mean:[70,66]},c478:{code:478,nombre:"Mauritania",name:"Mauritania",pop:4540,color:"b",alpha2:"MR",alpha3:"MRT",count:9,mean:[107.2,65.9]},c480:{code:480,nombre:"Mauricio",name:"Mauritius",pop:1268,color:"y",alpha2:"MU",alpha3:"MUS",count:3,mean:[165.3,24.7]},c175:{code:175,nombre:"Mayotte",name:"Mayotte",pop:260,color:"g",alpha2:"YT",alpha3:"FRA",count:1,mean:[156,31]},c484:{code:484,nombre:"M\xe9xico",name:"Mexico",pop:130759,color:"r",alpha2:"MX",alpha3:"MEX",count:262,mean:[19.1,66.7]},c583:{code:583,nombre:"Micronesia (Estados Federados de)",name:"Micronesia (Federated States of)",pop:106,color:"y",alpha2:"FM",alpha3:"FSM",count:1,mean:[333,23]},c498:{code:498,nombre:"Moldova (la Rep\xfablica de)",name:"Moldova, Republic of",pop:4041,color:"g",alpha2:"MD",alpha3:"MDA",count:8,mean:[152.6,103]},c492:{code:492,nombre:"M\xf3naco",name:"Monaco",pop:39,color:"r",alpha2:"MC",alpha3:"MCO",count:1,mean:[126,96]},c496:{code:496,nombre:"Mongolia",name:"Mongolia",pop:3122,color:"b",alpha2:"MN",alpha3:"MNG",count:6,mean:[268,103.5]},c499:{code:499,nombre:"Montenegro",name:"Montenegro",pop:629,color:"r",alpha2:"ME",alpha3:"MNE",count:1,mean:[143,94]},c504:{code:504,nombre:"Marruecos",name:"Morocco",pop:36192,color:"r",alpha2:"MA",alpha3:"MAR",count:72,mean:[116.8,73.5]},c508:{code:508,nombre:"Mozambique",name:"Mozambique",pop:30529,color:"r",alpha2:"MZ",alpha3:"MOZ",count:61,mean:[147.6,23.5]},c104:{code:104,nombre:"Myanmar",name:"Myanmar",pop:53856,color:"y",alpha2:"MM",alpha3:"MMR",count:108,mean:[265.5,52.5]},c516:{code:516,nombre:"Namibia",name:"Namibia",pop:2588,color:"b",alpha2:"NA",alpha3:"NAM",count:5,mean:[131.8,18.8]},c524:{code:524,nombre:"Nepal",name:"Nepal",pop:29624,color:"y",alpha2:"NP",alpha3:"NPL",count:59,mean:[233.7,83.5]},c528:{code:528,nombre:"Pa\xedses Bajos (los)",name:"Netherlands",pop:17084,color:"b",alpha2:"NL",alpha3:"NLD",count:34,mean:[126.4,114.7]},c540:{code:540,nombre:"Nueva Caledonia",name:"New Caledonia",pop:280,color:"g",alpha2:"NC",alpha3:"NCL",count:1,mean:[335,8]},c554:{code:554,nombre:"Nueva Zelandia",name:"New Zealand",pop:4750,color:"r",alpha2:"NZ",alpha3:"NZL",count:9,mean:[339.1,2.2]},c558:{code:558,nombre:"Nicaragua",name:"Nicaragua",pop:6285,color:"r",alpha2:"NI",alpha3:"NIC",count:13,mean:[42.9,58.6]},c562:{code:562,nombre:"N\xedger (el)",name:"Niger",pop:22311,color:"b",alpha2:"NE",alpha3:"NER",count:45,mean:[133.4,70.6]},c566:{code:566,nombre:"Nigeria",name:"Nigeria",pop:195875,color:"y",alpha2:"NG",alpha3:"NGA",count:391,mean:[125.2,56.2]},c570:{code:570,nombre:"Niue",name:"Niue",pop:2,color:"g",alpha2:"NU",alpha3:"NIU",count:1,mean:[348,6]},c807:{code:807,nombre:"Macedonia del Norte",name:"North Macedonia",pop:2085,color:"r",alpha2:"MK",alpha3:"MKD",count:4,mean:[147.5,93.5]},c578:{code:578,nombre:"Noruega",name:"Norway",pop:5353,color:"b",alpha2:"NO",alpha3:"NOR",count:11,mean:[141,127.2]},c512:{code:512,nombre:"Om\xe1n",name:"Oman",pop:4830,color:"g",alpha2:"OM",alpha3:"OMN",count:10,mean:[181.5,67.2]},c586:{code:586,nombre:"Pakist\xe1n",name:"Pakistan",pop:200814,color:"g",alpha2:"PK",alpha3:"PAK",count:398,mean:[199.5,80.6]},c585:{code:585,nombre:"Palau",name:"Palau",pop:22,color:"y",alpha2:"PW",alpha3:"PLW",count:1,mean:[326,27]},c275:{code:275,nombre:"Palestina, Estado de",name:"Palestine, State of",pop:5053,color:"r",alpha2:"PS",alpha3:"PSE",count:10,mean:[161.4,73.8]},c591:{code:591,nombre:"Panam\xe1",name:"Panama",pop:4163,color:"g",alpha2:"PA",alpha3:"PAN",count:8,mean:[49.6,53.6]},c598:{code:598,nombre:"Papua Nueva Guinea",name:"Papua New Guinea",pop:8418,color:"r",alpha2:"PG",alpha3:"PNG",count:17,mean:[326.2,20.1]},c600:{code:600,nombre:"Paraguay",name:"Paraguay",pop:6897,color:"b",alpha2:"PY",alpha3:"PRY",count:14,mean:[66.1,26.2]},c604:{code:604,nombre:"Per\xfa",name:"Peru",pop:32552,color:"y",alpha2:"PE",alpha3:"PER",count:65,mean:[56.6,34.1]},c608:{code:608,nombre:"Filipinas (las)",name:"Philippines",pop:106512,color:"y",alpha2:"PH",alpha3:"PHL",count:210,mean:[311.8,46]},c616:{code:616,nombre:"Polonia",name:"Poland",pop:38105,color:"r",alpha2:"PL",alpha3:"POL",count:78,mean:[143.1,113.6]},c620:{code:620,nombre:"Portugal",name:"Portugal",pop:10291,color:"g",alpha2:"PT",alpha3:"PRT",count:21,mean:[108.9,89.1]},c630:{code:630,nombre:"Puerto Rico",name:"Puerto Rico",pop:3659,color:"r",alpha2:"PR",alpha3:"PRI",count:7,mean:[63.3,72.6]},c634:{code:634,nombre:"Qatar",name:"Qatar",pop:2695,color:"b",alpha2:"QA",alpha3:"QAT",count:5,mean:[178.4,72.2]},c642:{code:642,nombre:"Rumania",name:"Romania",pop:19581,color:"r",alpha2:"RO",alpha3:"ROU",count:39,mean:[149.7,99.8]},c643:{code:643,nombre:"Rusia, (la) Federaci\xf3n de",name:"Russian Federation",pop:143965,color:"r",alpha2:"RU",alpha3:"RUS",count:294,mean:[159,112.3]},c646:{code:646,nombre:"Ruanda",name:"Rwanda",pop:12501,color:"g",alpha2:"RW",alpha3:"RWA",count:23,mean:[143.1,47.6]},c638:{code:638,nombre:"Reuni\xf3n",name:"R\xe9union",pop:883,color:"r",alpha2:"RE",alpha3:"REU",count:2,mean:[160.5,22]},c659:{code:659,nombre:"San Crist\xf3bal y Nieves",name:"Saint Kitts and Nevis",pop:56,color:"y",alpha2:"KN",alpha3:"KNA",count:1,mean:[67,73]},c662:{code:662,nombre:"Santa Luc\xeda",name:"Saint Lucia",pop:180,color:"g",alpha2:"LC",alpha3:"LCA",count:1,mean:[70,64]},c670:{code:670,nombre:"San Vicente y las Granadinas",name:"Saint Vincent and the Grenadines",pop:110,color:"r",alpha2:"VC",alpha3:"VCT",count:1,mean:[69,62]},c882:{code:882,nombre:"Samoa",name:"Samoa",pop:198,color:"r",alpha2:"WS",alpha3:"WSM",count:1,mean:[341,11]},c674:{code:674,nombre:"San Marino",name:"San Marino",pop:34,color:"y",alpha2:"SM",alpha3:"SMR",count:1,mean:[136,94]},c678:{code:678,nombre:"Santo Tom\xe9 y Pr\xedncipe",name:"Sao Tome and Principe",pop:209,color:"y",alpha2:"ST",alpha3:"STP",count:1,mean:[127,36]},c682:{code:682,nombre:"Arabia Saudita",name:"Saudi Arabia",pop:33554,color:"r",alpha2:"SA",alpha3:"SAU",count:67,mean:[171.7,69.7]},c686:{code:686,nombre:"Senegal",name:"Senegal",pop:16294,color:"r",alpha2:"SN",alpha3:"SEN",count:33,mean:[107.8,62.9]},c688:{code:688,nombre:"Serbia",name:"Serbia",pop:8762,color:"y",alpha2:"RS",alpha3:"SRB",count:18,mean:[144.9,97.7]},c690:{code:690,nombre:"Seychelles",name:"Seychelles",pop:95,color:"r",alpha2:"SC",alpha3:"SYC",count:1,mean:[160,37]},c694:{code:694,nombre:"Sierra leona",name:"Sierra Leone",pop:7720,color:"y",alpha2:"SL",alpha3:"SLE",count:15,mean:[102.4,53.4]},c702:{code:702,nombre:"Singapur",name:"Singapore",pop:5792,color:"b",alpha2:"SG",alpha3:"SGP",count:12,mean:[281.2,22.9]},c703:{code:703,nombre:"Eslovaquia",name:"Slovakia",pop:5450,color:"g",alpha2:"SK",alpha3:"SVK",count:11,mean:[142.5,104.2]},c705:{code:705,nombre:"Eslovenia",name:"Slovenia",pop:2081,color:"r",alpha2:"SI",alpha3:"SVN",count:4,mean:[140.5,99.5]},c90:{code:90,nombre:"Salom\xf3n, Islas",name:"Solomon Islands",pop:623,color:"g",alpha2:"SB",alpha3:"SLB",count:1,mean:[334,15]},c706:{code:706,nombre:"Somalia",name:"Somalia",pop:15182,color:"g",alpha2:"SO",alpha3:"SOM",count:30,mean:[164.8,57.9]},c710:{code:710,nombre:"Sud\xe1frica",name:"South Africa",pop:57398,color:"g",alpha2:"ZA",alpha3:"ZAF",count:115,mean:[138.5,13.3]},c728:{code:728,nombre:"Sud\xe1n del Sur",name:"South Sudan",pop:12919,color:"b",alpha2:"SS",alpha3:"SSD",count:26,mean:[140.9,58.7]},c724:{code:724,nombre:"Espa\xf1a",name:"Spain",pop:46397,color:"y",alpha2:"ES",alpha3:"ESP",count:93,mean:[114.3,90.3]},c144:{code:144,nombre:"Sri Lanka",name:"Sri Lanka",pop:20950,color:"y",alpha2:"LK",alpha3:"LKA",count:42,mean:[222.8,4.4]},c729:{code:729,nombre:"Sud\xe1n (el)",name:"Sudan",pop:41512,color:"r",alpha2:"SD",alpha3:"SDN",count:83,mean:[139.8,64.4]},c740:{code:740,nombre:"Suriname",name:"Suriname",pop:568,color:"y",alpha2:"SR",alpha3:"SUR",count:1,mean:[70,52]},c752:{code:752,nombre:"Suecia",name:"Sweden",pop:9983,color:"g",alpha2:"SE",alpha3:"SWE",count:20,mean:[142.1,125.2]},c756:{code:756,nombre:"Suiza",name:"Switzerland",pop:8544,color:"r",alpha2:"CH",alpha3:"CHE",count:17,mean:[129.4,101.7]},c760:{code:760,nombre:"Rep\xfablica \xc1rabe Siria",name:"Syrian Arab Republic",pop:18284,color:"g",alpha2:"SY",alpha3:"SYR",count:38,mean:[164.1,81.4]},c158:{code:158,nombre:"Taiw\xe1n (Provincia de China)",name:"Taiwan, Province of China",pop:23694,color:"g",alpha2:"TW",alpha3:"TWN",count:47,mean:[305,67.8]},c762:{code:762,nombre:"Tayikist\xe1n",name:"Tajikistan",pop:9107,color:"r",alpha2:"TJ",alpha3:"TJK",count:18,mean:[189.8,93.1]},c834:{code:834,nombre:"Tanzania, Rep\xfablica Unida de",name:"Tanzania, United Republic of",pop:59091,color:"g",alpha2:"TZ",alpha3:"TZA",count:118,mean:[148.4,37.6]},c764:{code:764,nombre:"Tailandia",name:"Thailand",pop:69183,color:"r",alpha2:"TH",alpha3:"THA",count:138,mean:[273.3,44.3]},c626:{code:626,nombre:"Timor-Leste",name:"Timor-Leste",pop:1324,color:"y",alpha2:"TL",alpha3:"TLS",count:3,mean:[322,11]},c768:{code:768,nombre:"Togo",name:"Togo",pop:7991,color:"r",alpha2:"TG",alpha3:"TGO",count:16,mean:[115.3,53.5]},c776:{code:776,nombre:"Tonga",name:"Tonga",pop:109,color:"b",alpha2:"TO",alpha3:"TON",count:1,mean:[346,4]},c780:{code:780,nombre:"Trinidad y Tobago",name:"Trinidad and Tobago",pop:1373,color:"g",alpha2:"TT",alpha3:"TTO",count:3,mean:[67.3,59]},c788:{code:788,nombre:"T\xfanez",name:"Tunisia",pop:11659,color:"r",alpha2:"TN",alpha3:"TUN",count:23,mean:[132.4,76.8]},c792:{code:792,nombre:"Turqu\xeda",name:"Turkey",pop:81917,color:"r",alpha2:"TR",alpha3:"TUR",count:164,mean:[160.3,88.7]},c795:{code:795,nombre:"Turkmenist\xe1n",name:"Turkmenistan",pop:5851,color:"y",alpha2:"TM",alpha3:"TKM",count:12,mean:[180.5,90.5]},c798:{code:798,nombre:"Tuvalu",name:"Tuvalu",pop:11,color:"b",alpha2:"TV",alpha3:"TUV",count:1,mean:[340,13]},c800:{code:800,nombre:"Uganda",name:"Uganda",pop:44271,color:"r",alpha2:"UG",alpha3:"UGA",count:89,mean:[142.3,53.7]},c804:{code:804,nombre:"Ucrania",name:"Ukraine",pop:44009,color:"y",alpha2:"UA",alpha3:"UKR",count:88,mean:[152,106.9]},c784:{code:784,nombre:"Emiratos \xc1rabes Unidos (los)",name:"United Arab Emirates",pop:9542,color:"y",alpha2:"AE",alpha3:"ARE",count:19,mean:[180.2,70.2]},c826:{code:826,nombre:"Reino Unido de Gran Breta\xf1a e Irlanda del Norte (el)",name:"United Kingdom of Great Britain and Northern Ireland",pop:66574,color:"r",alpha2:"GB",alpha3:"GBR",count:125,mean:[111.8,117.4]},c840:{code:840,nombre:"Estados Unidos de Am\xe9rica (los)",name:"United States of America",pop:326767,color:"b",alpha2:"US",alpha3:"USA",count:653,mean:[19.3,84.8]},c858:{code:858,nombre:"Uruguay",name:"Uruguay",pop:3470,color:"r",alpha2:"UY",alpha3:"URY",count:7,mean:[67.9,21.7]},c860:{code:860,nombre:"Uzbekist\xe1n",name:"Uzbekistan",pop:32365,color:"g",alpha2:"UZ",alpha3:"UZB",count:65,mean:[183.9,95.3]},c548:{code:548,nombre:"Vanuatu",name:"Vanuatu",pop:282,color:"y",alpha2:"VU",alpha3:"VUT",count:1,mean:[335,13]},c862:{code:862,nombre:"Venezuela (Rep\xfablica Bolivariana de)",name:"Venezuela (Bolivarian Republic of)",pop:32381,color:"y",alpha2:"VE",alpha3:"VEN",count:66,mean:[63.6,50.9]},c704:{code:704,nombre:"Viet Nam",name:"Viet Nam",pop:96491,color:"b",alpha2:"VN",alpha3:"VNM",count:182,mean:[280,50.8]},c732:{code:732,nombre:"Sahara Occidental",name:"Western Sahara",pop:567,color:"y",alpha2:"EH",alpha3:"ESH",count:1,mean:[108,68]},c887:{code:887,nombre:"Yemen",name:"Yemen",pop:28915,color:"y",alpha2:"YE",alpha3:"YEM",count:58,mean:[176.4,63.4]},c894:{code:894,nombre:"Zambia",name:"Zambia",pop:17609,color:"b",alpha2:"ZM",alpha3:"ZMB",count:35,mean:[141.8,24.3]},c716:{code:716,nombre:"Zimbabue",name:"Zimbabwe",pop:16913,color:"y",alpha2:"ZW",alpha3:"ZWE",count:34,mean:[138.1,19.2]}});function E(){var e=Object(n.a)(["\n\nuniform float time;\nuniform float progress;\nuniform bool dark;\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform vec4 resolution;\nvarying vec2 vUv;\nvarying vec4 vPosition;\nvarying vec3 c;\n\nvoid main() {\n  float width = 0.01;\n  float prec = 0.3;\n\n  // Border = step(vUv.x, width);\n\n  float borderX = max(\n  smoothstep(width + prec, width - prec, vUv.x),\n  smoothstep(width + prec, width - prec, 1. - vUv.x)\n  );\n\n  float borderY = max(\n  smoothstep(width + prec, width - prec, vUv.y),\n  smoothstep(width + prec, width - prec, 1. - vUv.y)\n  );\n\n  // 1 on the border, 0 else\n  float border = max(borderX, borderY);\n\n  vec3 borderColor = vec3(0.,0.,0.);\n  vec3 fillColor = c;\n\n  vec3 finalColor = mix(fillColor, borderColor, border / 4.);\n\n\tgl_FragColor = vec4(finalColor,1.);\n}\n"]);return E=function(){return e},e}function x(){var e=Object(n.a)(["\nuniform float time;\n\nvarying vec2 vUv;\nvarying vec4 vPosition;\nuniform vec2 pixels;\n\nattribute vec3 color;\nvarying vec3 c;\n\nvoid main() {\n  vUv = uv;\n  c = color;\n\n  vec4 mvPosition = vec4( position, 1.0 );\n  #ifdef USE_INSTANCING\n\n  mvPosition = instanceMatrix * mvPosition;\n  #endif\n\n  gl_Position = projectionMatrix * modelViewMatrix * mvPosition;\n}\n"]);return x=function(){return e},e}Object(l.e)({LineMaterial:p.a,LineGeometry:h.a,Line2:m.a});var S=new c.Object3D,T=new c.Color,L=function(e){var t=M["c".concat(e)].color;return w[t]},A=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];return e.map((function(e,t){return[e,o[t]]})).flat().join("")},R=A(x()),C=A(E()),P=function(e){var t,o,n,s,p,h,m=e.dark,d=e.count,f=e.data,v=(e.selected,e.changeSelected),b=e.isEnglish,g=Object(r.useState)(),y=Object(a.a)(g,2),w=y[0],E=y[1],x=Object(r.useRef)(),A=Object(r.useRef)(),P=new c.Vector3,O=Object(r.useRef)();Object(r.useEffect)((function(){A.current=w}),[w]);var _=Object(r.useMemo)((function(){return{time:{type:"float",value:0},dark:{type:"boolean",value:!0},resolution:{type:"v4",value:new c.Vector4}}}),[]),I=Object(r.useMemo)((function(){return Float32Array.from(f.flatMap((function(e,t){return T.set(L(e.CountryCode)).toArray()})))}),[f]);return Object(l.g)((function(e){var t=c.MathUtils.clamp(e.mouse.x,-.75,.75),o=c.MathUtils.clamp(e.mouse.y,-.55,.55),a=P.set(t,o,.5);a.unproject(e.camera);var n=a.sub(e.camera.position).normalize(),r=(0-e.camera.position.z)/n.z,i=e.camera.position.clone().add(n.multiplyScalar(r));O.current.position.copy(i);var s=e.clock.getElapsedTime();x.current.material.uniforms.time.value=s,x.current.material.uniforms.dark.value=m,f.forEach((function(e,t){S.position.set(+e.X-177.5,+e.Y-67,0),w!==A.current&&(T.set(e.CountryCode===w?m?"white":"silver":L(e.CountryCode)).toArray(I,3*t),x.current.geometry.attributes.color.needsUpdate=!0);S.scale.set(1,1,1),S.updateMatrix(),x.current.setMatrixAt(t,S.matrix)})),x.current.instanceMatrix.needsUpdate=!0})),i.a.createElement(i.a.Fragment,null,i.a.createElement("instancedMesh",{ref:x,args:[null,null,d],onPointerMove:function(e){var t;return E(null===(t=f[e.instanceId])||void 0===t?void 0:t.CountryCode)},onPointerOut:function(e){return E(null)},onClick:function(e){return v(e)}},i.a.createElement("planeBufferGeometry",{attach:"geometry",args:[1,1,1]},i.a.createElement("instancedBufferAttribute",{attachObject:["attributes","color"],args:[I,3]})),i.a.createElement("shaderMaterial",{attach:"material",args:[{uniforms:_,vertexShader:R,fragmentShader:C,side:c.DoubleSide}]})),i.a.createElement("mesh",{ref:O,style:{pointerEvents:"none"}},i.a.createElement(u.a,{style:{pointerEvents:"none"}},i.a.createElement("div",{style:{transform:"translate3d(-100px,40px,0)",opacity:w?1:0,width:"200px",height:"auto",pointerEvents:"none",background:"var(--background-color)",border:"1px solid var(--foreground-color)",color:"var(--foreground-color)",transition:"all 200ms",position:"absolute",top:0,left:0,padding:"0.5em 1em"}},i.a.createElement("h4",{style:{color:w?L(w):"",transition:"color 60ms"}},b?null===(t=M["c".concat(w)])||void 0===t?void 0:t.name:null===(o=M["c".concat(w)])||void 0===o?void 0:o.nombre),i.a.createElement("p",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},b?"Pop:":"Pob:",i.a.createElement("strong",{style:{marginLeft:"auto"}},((null===(n=M["c".concat(w)])||void 0===n?void 0:n.pop)?1e3*(null===(s=M["c".concat(w)])||void 0===s?void 0:s.pop):"0").toLocaleString())),i.a.createElement("p",null,i.a.createElement("span",{style:{color:w?L(w):"",transition:"color 60ms"}},"\u25a0"),i.a.createElement("strong",null," ",null===(p=M["c".concat(w)])||void 0===p?void 0:p.count)," ",b?"square":"cuadrado",(null===(h=M["c".concat(w)])||void 0===h?void 0:h.count)>1?"s":"")))))},O=function(e){var t=e.dark;return i.a.createElement(i.a.Fragment,null,d.map((function(e,o){return i.a.createElement(_,{key:"line".concat(o),line:e,color:t?w.lines.dark:w.lines.light})})))},_=(t.default=function(){var e=Object(r.useState)(null),t=Object(a.a)(e,2),o=t[0],n=t[1],c=Object(r.useState)(!1),p=Object(a.a)(c,2),h=p[0],m=p[1],d=Object(r.useState)(),b=Object(a.a)(d,2),g=b[0],y=b[1],w=Object(r.useContext)(f.b).dark,M=Object(r.useContext)(v.c).language.isEnglish;return Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/mattdzugan/World-Population-Cartogram/master/data/year_2018__cell_500k/squares/cells.csv").then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){n(Object(s.a)(e)),m(!0)}))}),[]),i.a.createElement("div",{style:{width:"100%",height:"100vh",cursor:"pointer"}},i.a.createElement(l.a,{pixelRatio:window.devicePixeRatio,camera:{position:[0,0,100]}},i.a.createElement(O,{dark:w}),h&&i.a.createElement(P,{data:o,count:null===o||void 0===o?void 0:o.length,dark:w,selected:g,changeSelected:function(e){y(o[e.instanceId].CountryCode)},isEnglish:M}),i.a.createElement(u.b,null)))},function(e){var t=e.line,o=e.width,a=void 0===o?1:o,n=e.color,s=void 0===n?"#544E4B":n,c=Object(l.i)().size,u=Object(r.useRef)(),p=Object(r.useRef)(),h=Object(l.j)((function(e){e.setPositions(t),u.current.defines.USE_DASH="",p.current.computeLineDistances()}),[]);return i.a.createElement("line2",{ref:p},i.a.createElement("lineGeometry",{attach:"geometry",ref:h}),i.a.createElement("lineMaterial",{ref:u,attach:"material",color:s,linewidth:a,resolution:[c.width,c.height],dashed:!0,dashSize:.5,gapSize:.5,dashScale:1}))})},88:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var a=o(72),n=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var o=this,n=-1,r=0,i=1,s=2,c=3,l=4;this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:a.MOUSE.ROTATE,MIDDLE:a.MOUSE.ZOOM,RIGHT:a.MOUSE.PAN},this.target=new a.Vector3;var u=new a.Vector3,p=1,h=n,m=n,d=new a.Vector3,f=new a.Vector2,v=new a.Vector2,b=new a.Vector3,g=0,y=new a.Vector2,w=new a.Vector2,M=0,E=0,x=new a.Vector2,S=new a.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var T={type:"change"},L={type:"start"},A={type:"end"};this.handleResize=function(){var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height};var R=function(){var e=new a.Vector2;return function(t,a){return e.set((t-o.screen.left)/o.screen.width,(a-o.screen.top)/o.screen.height),e}}(),C=function(){var e=new a.Vector2;return function(t,a){return e.set((t-.5*o.screen.width-o.screen.left)/(.5*o.screen.width),(o.screen.height+2*(o.screen.top-a))/o.screen.width),e}}();function P(e){!1!==o.enabled&&(window.removeEventListener("keydown",P),m===n&&(e.keyCode!==o.keys[r]||o.noRotate?e.keyCode!==o.keys[i]||o.noZoom?e.keyCode!==o.keys[s]||o.noPan||(m=s):m=i:m=r))}function O(){!1!==o.enabled&&(m=n,window.addEventListener("keydown",P,!1))}function _(e){if(!1!==o.enabled){if(e.preventDefault(),e.stopPropagation(),h===n)switch(e.button){case o.mouseButtons.LEFT:h=r;break;case o.mouseButtons.MIDDLE:h=i;break;case o.mouseButtons.RIGHT:h=s;break;default:h=n}var t=m!==n?m:h;t!==r||o.noRotate?t!==i||o.noZoom?t!==s||o.noPan||(x.copy(R(e.pageX,e.pageY)),S.copy(x)):(y.copy(R(e.pageX,e.pageY)),w.copy(y)):(v.copy(C(e.pageX,e.pageY)),f.copy(v)),document.addEventListener("mousemove",I,!1),document.addEventListener("mouseup",j,!1),o.dispatchEvent(L)}}function I(e){if(!1!==o.enabled){e.preventDefault(),e.stopPropagation();var t=m!==n?m:h;t!==r||o.noRotate?t!==i||o.noZoom?t!==s||o.noPan||S.copy(R(e.pageX,e.pageY)):w.copy(R(e.pageX,e.pageY)):(f.copy(v),v.copy(C(e.pageX,e.pageY)))}}function j(e){!1!==o.enabled&&(e.preventDefault(),e.stopPropagation(),h=n,document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",j),o.dispatchEvent(A))}function D(e){if(!1!==o.enabled&&!0!==o.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:y.y-=.025*e.deltaY;break;case 1:y.y-=.01*e.deltaY;break;default:y.y-=25e-5*e.deltaY}o.dispatchEvent(L),o.dispatchEvent(A)}}function N(e){if(!1!==o.enabled){switch(e.preventDefault(),e.touches.length){case 1:h=c,v.copy(C(e.touches[0].pageX,e.touches[0].pageY)),f.copy(v);break;default:h=l;var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY;E=M=Math.sqrt(t*t+a*a);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;x.copy(R(n,r)),S.copy(x)}o.dispatchEvent(L)}}function B(e){if(!1!==o.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:f.copy(v),v.copy(C(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY;E=Math.sqrt(t*t+a*a);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;S.copy(R(n,r))}}function U(e){if(!1!==o.enabled){switch(e.touches.length){case 0:h=n;break;case 1:h=c,v.copy(C(e.touches[0].pageX,e.touches[0].pageY)),f.copy(v)}o.dispatchEvent(A)}}function G(e){!1!==o.enabled&&e.preventDefault()}this.rotateCamera=function(){var e,t=new a.Vector3,n=new a.Quaternion,r=new a.Vector3,i=new a.Vector3,s=new a.Vector3,c=new a.Vector3;return function(){c.set(v.x-f.x,v.y-f.y,0),(e=c.length())?(d.copy(o.object.position).sub(o.target),r.copy(d).normalize(),i.copy(o.object.up).normalize(),s.crossVectors(i,r).normalize(),i.setLength(v.y-f.y),s.setLength(v.x-f.x),c.copy(i.add(s)),t.crossVectors(c,d).normalize(),e*=o.rotateSpeed,n.setFromAxisAngle(t,e),d.applyQuaternion(n),o.object.up.applyQuaternion(n),b.copy(t),g=e):!o.staticMoving&&g&&(g*=Math.sqrt(1-o.dynamicDampingFactor),d.copy(o.object.position).sub(o.target),n.setFromAxisAngle(b,g),d.applyQuaternion(n),o.object.up.applyQuaternion(n)),f.copy(v)}}(),this.zoomCamera=function(){var e;h===l?(e=M/E,M=E,o.object.isPerspectiveCamera?d.multiplyScalar(e):o.object.isOrthographicCamera?(o.object.zoom*=e,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(w.y-y.y)*o.zoomSpeed)&&e>0&&(o.object.isPerspectiveCamera?d.multiplyScalar(e):o.object.isOrthographicCamera?(o.object.zoom/=e,o.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),o.staticMoving?y.copy(w):y.y+=(w.y-y.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new a.Vector2,t=new a.Vector3,n=new a.Vector3;return function(){if(e.copy(S).sub(x),e.lengthSq()){if(o.object.isOrthographicCamera){var a=(o.object.right-o.object.left)/o.object.zoom/o.domElement.clientWidth,r=(o.object.top-o.object.bottom)/o.object.zoom/o.domElement.clientWidth;e.x*=a,e.y*=r}e.multiplyScalar(d.length()*o.panSpeed),n.copy(d).cross(o.object.up).setLength(e.x),n.add(t.copy(o.object.up).setLength(e.y)),o.object.position.add(n),o.target.add(n),o.staticMoving?x.copy(S):x.add(e.subVectors(S,x).multiplyScalar(o.dynamicDampingFactor))}}}(),this.checkDistances=function(){o.noZoom&&o.noPan||(d.lengthSq()>o.maxDistance*o.maxDistance&&(o.object.position.addVectors(o.target,d.setLength(o.maxDistance)),y.copy(w)),d.lengthSq()<o.minDistance*o.minDistance&&(o.object.position.addVectors(o.target,d.setLength(o.minDistance)),y.copy(w)))},this.update=function(){d.subVectors(o.object.position,o.target),o.noRotate||o.rotateCamera(),o.noZoom||o.zoomCamera(),o.noPan||o.panCamera(),o.object.position.addVectors(o.target,d),o.object.isPerspectiveCamera?(o.checkDistances(),o.object.lookAt(o.target),u.distanceToSquared(o.object.position)>1e-6&&(o.dispatchEvent(T),u.copy(o.object.position))):o.object.isOrthographicCamera?(o.object.lookAt(o.target),(u.distanceToSquared(o.object.position)>1e-6||p!==o.object.zoom)&&(o.dispatchEvent(T),u.copy(o.object.position),p=o.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){h=n,m=n,o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.up.copy(o.up0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),d.subVectors(o.object.position,o.target),o.object.lookAt(o.target),o.dispatchEvent(T),u.copy(o.object.position),p=o.object.zoom},this.dispose=function(){this.domElement.removeEventListener("contextmenu",G,!1),this.domElement.removeEventListener("mousedown",_,!1),this.domElement.removeEventListener("wheel",D,!1),this.domElement.removeEventListener("touchstart",N,!1),this.domElement.removeEventListener("touchend",U,!1),this.domElement.removeEventListener("touchmove",B,!1),document.removeEventListener("mousemove",I,!1),document.removeEventListener("mouseup",j,!1),window.removeEventListener("keydown",P,!1),window.removeEventListener("keyup",O,!1)},this.domElement.addEventListener("contextmenu",G,!1),this.domElement.addEventListener("mousedown",_,!1),this.domElement.addEventListener("wheel",D,!1),this.domElement.addEventListener("touchstart",N,!1),this.domElement.addEventListener("touchend",U,!1),this.domElement.addEventListener("touchmove",B,!1),window.addEventListener("keydown",P,!1),window.addEventListener("keyup",O,!1),this.handleResize(),this.update()};n.prototype=Object.create(a.EventDispatcher.prototype),n.prototype.constructor=n}}]);
//# sourceMappingURL=13.92b984ac.chunk.js.map